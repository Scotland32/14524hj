/*! For license information please see lectio.bundle.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(self,(()=>(self.webpackChunklectio=self.webpackChunklectio||[]).push([[80,885],{38736:(e,t,n)=>{"use strict";e.exports=function(e,t){var n=this,r=n.constructor;return n.options=Object.assign({storeInstancesGlobally:!0},t||{}),n.callbacks={},n.directMap={},n.sequenceLevels={},n.resetTimer=null,n.ignoreNextKeyup=!1,n.ignoreNextKeypress=!1,n.nextExpectedAction=!1,n.element=e,n.addEvents(),n.options.storeInstancesGlobally&&r.instances.push(n),n},e.exports.prototype.bind=n(2207),e.exports.prototype.bindMultiple=n(73396),e.exports.prototype.unbind=n(59208),e.exports.prototype.trigger=n(39855),e.exports.prototype.reset=n(36214),e.exports.prototype.stopCallback=n(73450),e.exports.prototype.handleKey=n(63067),e.exports.prototype.addEvents=n(10718),e.exports.prototype.bindSingle=n(68763),e.exports.prototype.getKeyInfo=n(45825),e.exports.prototype.pickBestAction=n(88608),e.exports.prototype.getReverseMap=n(73956),e.exports.prototype.getMatches=n(53373),e.exports.prototype.resetSequences=n(53346),e.exports.prototype.fireCallback=n(72684),e.exports.prototype.bindSequence=n(7103),e.exports.prototype.resetSequenceTimer=n(7309),e.exports.prototype.detach=n(87554),e.exports.instances=[],e.exports.reset=n(71822),e.exports.REVERSE_MAP=null},10718:(e,t,n)=>{"use strict";e.exports=function(){var e=this,t=n(34323),r=e.element;e.eventHandler=n(89646).bind(e),t(r,"keypress",e.eventHandler),t(r,"keydown",e.eventHandler),t(r,"keyup",e.eventHandler)}},2207:e=>{"use strict";e.exports=function(e,t,n){return e=e instanceof Array?e:[e],this.bindMultiple(e,t,n),this}},73396:e=>{"use strict";e.exports=function(e,t,n){for(var r=0;r<e.length;++r)this.bindSingle(e[r],t,n)}},7103:(e,t,n)=>{"use strict";e.exports=function(e,t,r,o){var i=this;function a(t){return function(){i.nextExpectedAction=t,++i.sequenceLevels[e],i.resetSequenceTimer()}}function l(t){var a;i.fireCallback(r,t,e),"keyup"!==o&&(a=n(6770),i.ignoreNextKeyup=a(t)),setTimeout((function(){i.resetSequences()}),10)}i.sequenceLevels[e]=0;for(var s=0;s<t.length;++s){var c=s+1===t.length?l:a(o||i.getKeyInfo(t[s+1]).action);i.bindSingle(t[s],c,o,e,s)}}},68763:e=>{"use strict";e.exports=function(e,t,n,r,o){var i=this;i.directMap[e+":"+n]=t;var a,l=(e=e.replace(/\s+/g," ")).split(" ");l.length>1?i.bindSequence(e,l,t,n):(a=i.getKeyInfo(e,n),i.callbacks[a.key]=i.callbacks[a.key]||[],i.getMatches(a.key,a.modifiers,{type:a.action},r,e,o),i.callbacks[a.key][r?"unshift":"push"]({callback:t,modifiers:a.modifiers,action:a.action,seq:r,level:o,combo:e}))}},87554:(e,t,n)=>{var r=n(34323).off;e.exports=function(){var e=this,t=e.element;r(t,"keypress",e.eventHandler),r(t,"keydown",e.eventHandler),r(t,"keyup",e.eventHandler)}},34323:e=>{function t(e,t,n,r){return!e.addEventListener&&(t="on"+t),(e.addEventListener||e.attachEvent).call(e,t,n,r),n}e.exports=t,e.exports.on=t,e.exports.off=function(e,t,n,r){return!e.removeEventListener&&(t="on"+t),(e.removeEventListener||e.detachEvent).call(e,t,n,r),n}},72684:(e,t,n)=>{"use strict";e.exports=function(e,t,r,o){this.stopCallback(t,t.target||t.srcElement,r,o)||!1===e(t,r)&&(n(41350)(t),n(96103)(t))}},45825:(e,t,n)=>{"use strict";e.exports=function(e,t){var r,o,i,a,l,s,c=[];for(r=n(64520)(e),a=n(97549),l=n(95355),s=n(8581),i=0;i<r.length;++i)a[o=r[i]]&&(o=a[o]),t&&"keypress"!==t&&l[o]&&(o=l[o],c.push("shift")),s(o)&&c.push(o);return{key:o,modifiers:c,action:t=this.pickBestAction(o,c,t)}}},53373:(e,t,n)=>{"use strict";e.exports=function(e,t,r,o,i,a){var l,s,c,u,d=this,f=[],p=r.type;if("keypress"!==p||r.code&&"Arrow"===r.code.slice(0,5)||(d.callbacks["any-character"]||[]).forEach((function(e){f.push(e)})),!d.callbacks[e])return f;for(c=n(8581),"keyup"===p&&c(e)&&(t=[e]),l=0;l<d.callbacks[e].length;++l)if(s=d.callbacks[e][l],(o||!s.seq||d.sequenceLevels[s.seq]===s.level)&&p===s.action&&(u=n(5532),"keypress"===p&&!r.metaKey&&!r.ctrlKey||u(t,s.modifiers))){var h=!o&&s.combo===i,m=o&&s.seq===o&&s.level===a;(h||m)&&d.callbacks[e].splice(l,1),f.push(s)}return f}},73956:(e,t,n)=>{"use strict";e.exports=function(){var e,t=this.constructor;if(!t.REVERSE_MAP)for(var r in t.REVERSE_MAP={},e=n(34766))r>95&&r<112||e.hasOwnProperty(r)&&(t.REVERSE_MAP[e[r]]=r);return t.REVERSE_MAP}},63067:(e,t,n)=>{"use strict";e.exports=function(e,t,r){var o,i,a,l,s=this,c={},u=0,d=!1;for(o=s.getMatches(e,t,r),i=0;i<o.length;++i)o[i].seq&&(u=Math.max(u,o[i].level));for(i=0;i<o.length;++i)if(o[i].seq){if(o[i].level!==u)continue;d=!0,c[o[i].seq]=1,s.fireCallback(o[i].callback,r,o[i].combo,o[i].seq)}else d||s.fireCallback(o[i].callback,r,o[i].combo);l="keypress"===r.type&&s.ignoreNextKeypress,a=n(8581),r.type!==s.nextExpectedAction||a(e)||l||s.resetSequences(c),s.ignoreNextKeypress=d&&"keydown"===r.type}},89646:(e,t,n)=>{"use strict";e.exports=function(e){var t,r=this;"number"!=typeof e.which&&(e.which=e.keyCode);var o=n(6770)(e);void 0!==o&&("keyup"!==e.type||r.ignoreNextKeyup!==o?(t=n(84610),r.handleKey(o,t(e),e)):r.ignoreNextKeyup=!1)}},5532:e=>{"use strict";e.exports=function(e,t){return e.sort().join(",")===t.sort().join(",")}},88608:e=>{"use strict";e.exports=function(e,t,n){return n||(n=this.getReverseMap()[e]?"keydown":"keypress"),"keypress"===n&&t.length&&(n="keydown"),n}},36214:e=>{"use strict";e.exports=function(){return this.callbacks={},this.directMap={},this}},7309:e=>{"use strict";e.exports=function(){var e=this;clearTimeout(e.resetTimer),e.resetTimer=setTimeout((function(){e.resetSequences()}),1e3)}},53346:e=>{"use strict";e.exports=function(e){var t=this;e=e||{};var n,r=!1;for(n in t.sequenceLevels)e[n]?r=!0:t.sequenceLevels[n]=0;r||(t.nextExpectedAction=!1)}},73450:e=>{"use strict";e.exports=function(e,t){if((" "+t.className+" ").indexOf(" combokeys ")>-1)return!1;var n=t.tagName.toLowerCase();return"input"===n||"select"===n||"textarea"===n||t.isContentEditable}},39855:e=>{"use strict";e.exports=function(e,t){return this.directMap[e+":"+t]&&this.directMap[e+":"+t]({},e),this}},59208:e=>{"use strict";e.exports=function(e,t){return this.bind(e,(function(){}),t)}},71822:e=>{"use strict";e.exports=function(){this.instances.forEach((function(e){e.reset()}))}},6770:(e,t,n)=>{"use strict";e.exports=function(e){var t,r;if(t=n(34766),r=n(55295),"keypress"===e.type){var o=String.fromCharCode(e.which);return e.shiftKey||(o=o.toLowerCase()),o}return void 0!==t[e.which]?t[e.which]:void 0!==r[e.which]?r[e.which]:String.fromCharCode(e.which).toLowerCase()}},84610:e=>{"use strict";e.exports=function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}},8581:e=>{"use strict";e.exports=function(e){return"shift"===e||"ctrl"===e||"alt"===e||"meta"===e}},64520:e=>{"use strict";e.exports=function(e){return"+"===e?["+"]:e.split("+")}},41350:e=>{"use strict";e.exports=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}},95355:e=>{"use strict";e.exports={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"}},97549:e=>{"use strict";e.exports={option:"alt",command:"meta",return:"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"}},55295:e=>{"use strict";e.exports={106:"*",107:"plus",109:"minus",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}},34766:e=>{"use strict";e.exports={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",173:"minus",187:"plus",189:"minus",224:"meta"};for(var t=1;t<20;++t)e.exports[111+t]="f"+t;for(t=0;t<=9;++t)e.exports[t+96]=t},96103:e=>{"use strict";e.exports=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}},70895:(e,t,n)=>{var r,o,i;i=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var l="";for(var s in i)i[s]&&(l+="; "+s,!0!==i[s]&&(l+="="+i[s].split(";")[0]));return document.cookie=t+"="+n+l}}function a(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var l=i[a].split("="),s=l.slice(1).join("=");n||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var c=t(l[0]);if(s=(r.read||r)(s,c)||t(s),n)try{s=JSON.parse(s)}catch(e){}if(o[c]=s,e===c)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))},void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o),e.exports=i()},51088:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AktivitetForsideHomeworkDD=void 0;var r=n(57925),o=function(){function e(){}return e.init=function(e,t,n){var o=this;$(document).ready((function(){var i=$("#"+e),a=$(".homeworkContainer",i);if(0!==a.length){a.css("cursor","move"),r.LectioMobile.addTouch(i);var l=$("<div></div>");$(document.body).append(l),l.css({position:"absolute","z-index":-1}),l.height(i.height()+2*o.containerMargin),l.width(i.width());var s=i.offset(),c={top:s.top-o.containerMargin,left:s.left};l.offset(c),i.sortable({containment:l,update:function(){var e=[],r=$(".homeworkContainer",i);$.each(r,(function(t,n){var r=n.getAttribute("data-homeworkid");if(!r)throw new Error("Attribut data-homeworkid ikke angivet på element.");e.push(r)}));var o=e.join(",");$("#"+n).val(o),window.__doPostBack(t,"")}})}}))},e.containerMargin=15,e}();t.AktivitetForsideHomeworkDD=o},66823:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Autocomplete=void 0;var a=n(97136),l=n(23847);function s(e){switch(e){case"cvr":return{getEm:function(e){return e.match(/^[0-9]{8}$/)?[{title:"Nyt/ukendt cvr-nummer: "+e,key:e}]:[{title:"(Indtast 8-cifret cvr-nummer)",command:"Label"}]}};case"pnr":return{getEm:function(e){return e.match(/^[0-9]{10}$/)?[{title:"Nyt/ukendt p-nummer: "+e,key:e}]:[{title:"(Indtast 10-cifret p-nummer)",command:"Label"}]}};default:throw a.LectioJSUtils.AssertNever(e,"ling"),new Error("aldrig")}}!function(e){function t(t,n){if(t){t.options=n;var i=n.data,c=null!==navigator.userAgent.match(/MSIE 10.0/i),u=$(t),d=$("#"+n.targetValue);u.attr("autocomplete","off"),t.lastSelected=u.val(),n.inputClass&&u.addClass(n.inputClass);var f,p=null,h="",m=-1,v=!1,g=!1;n.emptyText&&u.attr("placeholder",n.emptyText),S().hide(),u.off(),t.$resultsDiv&&(t.$resultsDiv.remove(),t.resultsDiv=null),u.on("input",(function(){m=-1,p&&window.clearTimeout(p),p=window.setTimeout((function(){return function(){if(b(),"keyEqualsText"!==n.unknownValueHandling&&void 0!==f&&f>8&&f<32)M();else{var e=u.val();e!==h&&(h=e,e.length>=n.minChars?N(e):M("preserveTextBoxContents"))}}()}),n.delay)})).on("keydown",(function(e){var n,r;if(t.isLoading)k();else switch(f=e.keyCode,e.keyCode){case 38:e.preventDefault(),C(-1)&&e.stopPropagation();break;case 33:e.preventDefault(),C(-5)&&e.stopPropagation();break;case 34:e.preventDefault(),C(5)&&e.stopPropagation();break;case 40:e.preventDefault(),b(),I()?C(1)&&e.stopPropagation():e.altKey&&(x(),e.stopPropagation());break;case 13:var o=E();(o||I())&&(e.preventDefault(),e.stopPropagation()),o&&(null===(n=u.get(0))||void 0===n||n.blur(),u.focus());break;case 9:var i=E();i&&e.stopPropagation(),i&&(null===(r=u.get(0))||void 0===r||r.blur(),u.focus())}})).on("focus",(function(){t.isLoading?k():(v=!0,""===u.val()?u.val(""):u.select())})).on("blur",(function(){t.isLoading?k():(v=!1,console.debug("blur event"),g?this.focus():(I()&&(p&&window.clearTimeout(p),p=window.setTimeout(M,400)),function(e){var t=(e||"").trim().replace(/\s+/g," ");if(""!==t){var n=L(t);if(!n){var r=d.val();if(r){if(!(n=L(r)))throw new Error("selectItemByText: Kan ikke. prevkey: "+r+". Er der dobbelte mellemrum i titlen i datasaettet?")}else n=null}_(n)}else _(null)}(u.val())),g=!1)})).on("click",(function(){t.isLoading?k():I()||x()}));var y={S:"/lectio/img/student.auto",T:"/lectio/img/teacher.auto",HE:"/lectio/img/class.auto",H:"/lectio/img/class.auto",G:"/lectio/img/class.auto",GE:"/lectio/img/class.auto",RO:"/lectio/img/room.auto",RE:"/lectio/img/resource.auto",SC:"/lectio/img/class.auto",LL:"/lectio/img/link.auto",SF:"/lectio/img/room.auto"},w={S:"/lectio/img/student_inactive.auto",T:"/lectio/img/teacher_inactive.auto",HE:"/lectio/img/class_inactive.auto",H:"/lectio/img/class_inactive.auto",G:"/lectio/img/class_inactive.auto",GE:"/lectio/img/class_inactive.auto",RO:"/lectio/img/room_inactive.auto",RE:"/lectio/img/resource_inactive.auto",SC:"/lectio/img/class_inactive.auto",LL:"/lectio/img/link.auto",SF:"/lectio/img/room.auto"}}function b(){return t.resultsDiv||(t.resultsDiv=document.createElement("div"),t.$resultsDiv=$(t.resultsDiv),t.$resultsDiv.hide().addClass(n.resultsClass).addClass("ac_supplementary_hidden").css("position","absolute").css("overscroll-behavior","contain"),t.$resultsDiv.mousedown((function(){g=!0})),u.after(t.$resultsDiv)),t.resultsDiv}function S(){if(!t.$loadingDiv){var e=document.createElement("div");t.$loadingDiv=$(e),t.$loadingDiv.hide().addClass(n.resultsClass).css("position","absolute").css("overflow","hidden").css("margin-left","1em").css("padding","1em").css("font-weight","bold").width("150px"),u.after(t.$loadingDiv)}return t.$loadingDiv}function k(){var e=S();e.show();var n=1;function r(){for(var t="",r=0;r<n;r++)t+=".";e.text("Henter data"+t),++n>3&&(n=1)}r();var o=window.setInterval((function(){r()}),300);window.setTimeout((function(){e.hide(),window.clearInterval(o)}),1e4),t.blur()}function x(){N("")}function C(e){var n=b(),r=$("li",n);if(!r||0===r.length)return!1;for(var o=null,i=e>0?1:-1,a=i,l=0,s=0;;a+=i,s++){var c=m+a;if(c<0)a=r.length-m;else if(c>=r.length)a=-(m+1);else{if($(r[c]).is(":visible")&&++l===Math.abs(e)){o=c;break}if(c===m)return!0;if(s>r.length+2)throw new Error("Urealistisk mange iterationer uden at finde element.")}}m=o,r.removeClass("ac_over");var u=$(r[m]);if(u.addClass("ac_over"),!t.$resultsDiv)throw new Error("$results");var d=t.$resultsDiv.scrollTop(),f=u.position().top+d,p=t.$resultsDiv.innerHeight(),h=u.outerHeight();return f<d?t.$resultsDiv.scrollTop(f):f>d+p-h&&t.$resultsDiv.scrollTop(f-p+h),!0}function E(){if(b(),!t.resultsDiv)throw new Error("results");var e=$("li.ac_over",t.resultsDiv)[0];if(!e){var r=$("li",t.resultsDiv);n.selectOnly?1===r.length&&(e=r[0]):n.selectFirst&&(e=r[0])}return!!e&&A(e)}function T(e){var t,n;if(null==i)return null;try{for(var o=r(i),a=o.next();!a.done;a=o.next()){var l=a.value;if(l.key===e)return{title:l.title,key:l.key}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return null}function L(e){var t=function(e){var t,n;if(null==i)return null;try{for(var o=r(i),a=o.next();!a.done;a=o.next()){var l=a.value;if(l.title.trim()===e)return{title:l.title,key:l.key}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return null}(e);if(t)return t;if(n.unknownValueHandling&&"keyEqualsText"===n.unknownValueHandling)return{title:e,key:e};var o=T(e);if(o)return o;if(!n.unknownValueHandling)return null;var a=s(n.unknownValueHandling).getEm(e).filter((function(e){return"key"in e}))[0];return a&&"key"in a?{title:a.key,key:a.key}:null}function _(e){var r=d.val(),o=e?e.key:"",i=r!==o;i&&d.val(o).change(),u.val(e?e.title:""),e&&i&&n.select&&"clear"==n.select(e.key,e.title)&&(u.val(""),d.val(""));var a=e?e.title:"";if(a!==t.lastSelected&&n.autoPostBackId){var l=n.autoPostBackId;window.setTimeout((function(){return window.__doPostBack(l,"")}),20)}if(t.lastSelected=a,h=a,null!==t.resultsDiv&&M("avoidSelect"),n.textDestinationControl){var s=$("#"+n.textDestinationControl);!s.length&&window.console&&console.error('autocomplete: kontrol "'+n.textDestinationControl+'" blev ikke fundet.'),s.val(a)}}function A(e){if(console.debug("selectItemByLI"),!t.$resultsDiv)throw new Error("$results");var r=$(e).attr("ac-command");if(r){switch(r){case"Separator":case"Label":break;case"ShowSupplementary":return t.$resultsDiv.is(".ac_supplementary_hidden")&&t.$resultsDiv.removeClass("ac_supplementary_hidden"),!1;default:throw a.LectioJSUtils.AssertNever(r,"cmd"),new Error("cmd "+r+" kendes ikke.")}return!1}var o=$(e).attr("selectValue");if(!o)throw new Error("Fandt ikke item li-key.");var i=T(o);if(!i&&n.unknownValueHandling&&(i=L(o)),!i)throw new Error('Fandt ikke item i data for li-key "'+o+'".');return _(i),!0}function D(){b();var e=n.resultsWidth;if(e<=0){var r=u.width();e=r?1.25*parseInt(r.toString(),10):20}var o="";if(c&&(o=$("body").css("z-index"),$("body").css("z-index",1)),!t.$resultsDiv)throw new Error("$results");t.$resultsDiv.css({width:e+"px"}).show(),t.$resultsDiv.position({my:"left top",at:"left bottom",of:t}),c&&$("body").css("z-index",o)}function I(){var e=b();return $(e).is(":visible")}function M(e){p&&window.clearTimeout(p);var n=b();I()&&($(n).hide(),$(n).addClass("ac_supplementary_hidden")),e||u.val()!==t.lastSelected&&_(null),$(n).html("")}function P(e){var t=document.createElement("ul"),r=e.length;n.maxItemsToShow>0&&n.maxItemsToShow<r&&(r=n.maxItemsToShow);for(var o=String.fromCharCode(160),i=o+o+o+o+o+o+o+o+o+o,l=0;l<r;l++){var s=e[l],c=$(document.createElement("li")),d="";if(s.isSupplementary&&(d+=" ac_supplementary"),"command"in s)switch(s.command){case"ShowSupplementary":c.attr("ac-command",s.command),c.text(s.title);break;case"Separator":case"Label":c.attr("ac-command",s.command),c.text(s.title||String.fromCharCode(160));break;default:throw a.LectioJSUtils.AssertNever(s.command,"row.command"),new Error("cmd: "+s.command)}else{d=s.cssClass||"",s.isInactive&&(d+=" ac_inactive");var f=s.key.match(/^([^\d]+)/),h=void 0;if(f){var v=f[0];h=s.isInactive?w[v]:y[v]}else h="";c.text(s.title+i),c.attr("selectValue",s.key),h&&c.attr("style","background-image: url("+h+"); background-repeat: no-repeat;"),s.isContextCardEntity&&c.attr("data-lectioContextCard",s.key)}d&&c.attr("class",d),t.appendChild(c[0])}return $("li",$(t)).hover((function(){$("li",t).removeClass("ac_over"),$(this).addClass("ac_over");var e=$(this).get(0);e&&(m=$("li",t).indexOf(e))}),(function(){$(this).removeClass("ac_over")})).on("click",(function(e){p&&window.clearTimeout(p),e.preventDefault(),e.stopPropagation(),A(this)&&(M(),u.focus())})),t}function N(a){var c,d;if(n.useFuzzySearch)c=function(e){var t=(0,l.fuzzyMatch)(a,e);if(!1===t[0])return[0,0];t[1];return[1,t[1]]};else{var p=e.CreateMatcher(a);c=function(e){return[p(e),0]}}if(a=a.toLowerCase().trim(),b(),!t.resultsDiv)throw new Error("results");if(t.resultsDiv.innerHTML="",v){if(null===i)return t.resultsDiv.appendChild(P([{title:"(Henter data...)",command:"Label"}])),void D();if(0===i.length)return t.resultsDiv.appendChild(P([{title:"(Der er ingen poster at vælge imellem)",command:"Label"}])),void D();var m=function(e,t,n,i){var a,l,c,u,d=performance.now(),f=[];f.push({name:"resultResultListDomInitialized",ts:performance.now()}),f.push({name:"prepareDom",ts:performance.now()});var p=[],h=[],m={};if(n.favorites)for(var v=0;v<n.favorites.length;v++)m[n.favorites[v][1]]=1;try{for(var g=r(i),y=g.next();!y.done;y=g.next()){var w=y.value,b=!1,S=!1,k=!1,x=void 0;if(n.matchSubset){var C=o(e(w),2),E=C[0];if(x=C[1],3===E)b=!0,S=!0;else if(2===E)b=!0,k=!0;else if(1===E)b=p.length<200;else if(0!==E)throw new Error("wtf")}else w.title.substr(0,t.length)===t&&(b=!0),x=0;if(b){var T={key:w.key,title:w.title,cssClass:w.cssClass,groupNumber:parseInt(w.group,10),subScore:x,internalGroupNumber:2,isInactive:!!w.flags.match(/i/),isSupplementary:parseInt(w.group,10)>2*n.groupSeparatorNumber,isContextCardEntity:w.isContextCard},L=T.key in m;S&&!T.isInactive?(T.groupNumber=1,T.isSupplementary=!1):L&&!T.isInactive&&(T.groupNumber=2,T.isSupplementary=!1),T.internalGroupNumber=k?0:1,p.push(T)}}}catch(e){a={error:e}}finally{try{y&&!y.done&&(l=g.return)&&l.call(g)}finally{if(a)throw a.error}}p.stableSort((function(e,t){return e.groupNumber!==t.groupNumber?e.groupNumber-t.groupNumber:e.internalGroupNumber!==t.internalGroupNumber?e.internalGroupNumber-t.internalGroupNumber:e.subScore!==t.subScore?t.subScore-e.subScore:0})),f.push({name:"matchAndSort",ts:performance.now()});for(var _=n.groupSeparatorNumber,A=0,D=0;D<p.length;D++){var I=p[D],$=I.groupNumber;Math.floor($/_)!==Math.floor(A/_)&&(A<2*_&&$>2*_?h.push({command:"ShowSupplementary",title:"Udvid"}):0!==D&&h.push({command:"Separator",title:String.fromCharCode(160),isSupplementary:$>2*_})),h.push(I),A=$}if(0===h.length){if("keyEqualsText"==n.unknownValueHandling)return"cancel";var M=n.unknownValueHandling?s(n.unknownValueHandling).getEm(t):[];try{for(var P=r(M),N=P.next();!N.done;N=P.next()){var O=N.value;h.push(O)}}catch(e){c={error:e}}finally{try{N&&!N.done&&(u=P.return)&&u.call(P)}finally{if(c)throw c.error}}0===M.filter((function(e){return"key"in e&&e.key})).length&&h.push({title:"(Der er ingen poster at vælge imellem)",command:"Label"})}f.push({name:"dataToDom",ts:performance.now()}),f.push({name:"showResultsBox",ts:performance.now()});for(var U={},R=0;R<f.length;R++){var B=0===R?d:f[R-1].ts;U[f[R].name]=f[R].ts-B}return h}((function(e){return c(e.title)}),a,n,i);"cancel"!=m?(t.resultsDiv.appendChild(P(m)),n.autoFill&&!n.matchSubset&&u.val().toLowerCase()===a.toLowerCase()&&(d=i[0].title,8!==f&&(u.val(u.val()+d.substring(h.length)),function(e,t){var n=u.get(0);if(n.createTextRange){var r=n.createTextRange();r.collapse(!0),r.moveStart("character",e),r.moveEnd("character",t),r.select()}else n.setSelectionRange?n.setSelectionRange(e,t):n.selectionStart&&(n.selectionStart=e,n.selectionEnd=t);n.focus()}(h.length,d.length))),D()):M()}else M()}}e.autocompleteCtrl=function(e,n,a,l){var s=document.getElementById(e);if(s){var c=$.extend({},{dataVariables:[],favouriteVariable:null,data:[],favorites:[],targetValue:"",maxItemsToShow:50,groupSeparatorNumber:15,select:null,autoPostBackId:null,delay:10,emptyText:"",additionalTooltip:"",inputClass:"ac_input",resultsClass:"ac_results",resultsWidth:-1,selectFirst:!1,selectOnly:!1,matchSubset:!0,autoFill:!0,minChars:1,textDestinationControl:"",useFuzzySearch:!1},a),u=window,d=o(function(e,t){var n,o,i=[],a=[];try{for(var l=r(e),s=l.next();!s.done;s=l.next()){var c=s.value;"string"==typeof c?i.push(c):a.push(c)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}return[i,a]}(n),2),f=d[0],p=d[1],h=f.every((function(e){return void 0!==u[e]})),m=null===c.favouriteVariable||void 0!==u[c.favouriteVariable];if(h&&m){var v=f.map((function(e){var t=u[e];if(t instanceof Array)return t;throw new Error("window."+e+" is not array.")}));v.push.apply(v,i([],o(p),!1));var g=null==c.favouriteVariable?null:u[c.favouriteVariable];if(c.favorites=g,!v)return void alert("Dropdown mangler data!!! KONTAKT LECTIO SUPPORT!!!");var y=l?[v[0].filter((function(e){return-1!==l.indexOf(e[1])}))]:v,w=function(){var e,t,n,o,i=[];try{for(var a=r(y),l=a.next();!l.done;l=a.next()){var s=l.value;try{for(var c=(n=void 0,r(s)),u=c.next();!u.done;u=c.next()){var d=u.value;i.push({title:d[0],key:d[1],flags:d[2],group:d[3],cssClass:d[4],isContextCard:d[6]})}}catch(e){n={error:e}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return i}();c.data=w,s.isLoading=!1,t(s,c)}else c.data=null,s.isLoading=!0,t(s,c)}},e.autocompleteCtrlLoading=function(e){document.getElementById(e).disabled=!0},e.CreateMatcher=function(e){var t=e.toLowerCase().trim(),n=t.split(" ");return function(e){var r=e.toLowerCase(),o=!0,i=!1,a=!1;if(t===r)a=!0,o=!0;else for(var l=0;l<n.length;l++){for(var s=-1;;){var c=n[l];if((s=r.indexOf(c,s+1))<0){o=!1,i=!0;break}var u=" ";s>0&&(u=r.substr(s-1,1));var d="("+c+")",f=r.length-d.length;if(f>=0&&r.substr(f,d.length)===d&&(a=!0)," "===u||"-"===u||"("===u||")"===u||u>="0"&&u<="9"||"/"===u)break}if(i)break}return o?a?3:0===r.indexOf(t)?2:1:0}}}(t.Autocomplete||(t.Autocomplete={}))},87342:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BBCode=void 0;var r=n(97136),o=function(){function e(){}return e.ShowBBCodeHelp=function(){null!==e.lastBBCodeHelp&&(e.lastBBCodeHelp.dialog("destroy").remove(),e.lastBBCodeHelp=null);var t=$("<div><span class='loadingContextCard'>Henter info...</span></div>").appendTo("body"),n=t.dialog({autoOpen:!0,closeOnEscape:!0,title:"BB Code Hjælp",width:430,resizable:!1,draggable:!0});e.lastBBCodeHelp=n,$.get(r.LectioJSUtils.GetBaseSchoolURL()+"/BBCode/BBCodeHelp.aspx",{},(function(e,n,r){t.html(e)}),"html")},e.ShowBBCodePreview=function(t){if(null!==e.lastBBPreview&&!0!==e.lastBBPreview.dialog("isOpen")&&(e.lastBBPreview=null,e.lastBBPreviewdiv=null),null==e.lastBBPreview||null==e.lastBBPreviewdiv){var n=$("<div><span class='loadingContextCard'>Henter info...</span></div>").appendTo("body"),o=n.dialog({autoOpen:!0,closeOnEscape:!0,title:"Preview",width:360,resizable:!1,draggable:!0});e.lastBBPreview=o,e.lastBBPreviewdiv=n}var i=e.lastBBPreviewdiv;$.post(r.LectioJSUtils.GetBaseSchoolURL()+"/BBCode/BBCodePreview.aspx",{BBCode:$("#"+t).val()},(function(e,t,n){i.html(e)}),"html")},e.lastBBCodeHelp=null,e.lastBBPreview=null,e.lastBBPreviewdiv=null,e}();t.BBCode=o},97949:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BarcodeReader=void 0;var r=n(95123),o=function(){function e(){this.keyEventHist=[]}return e.searchForStartOfCharsFromScanner=function(e){for(var t=e.length-1,n=0,r=t;r>=0;r--){var o=e[r].milliSecondsSinceLast;if(isNaN(o))break;if(o>160)break;n+=o}return n/(t-r+1)>50?-1:r},e.logBarcodesNotRead=function(t,n){for(var o=0,i=0;i<n.length;i++)!isNaN(n[i].milliSecondsSinceLast)&&n[i].milliSecondsSinceLast<75&&o++;if(!(o<3)){for(var a=t+"\nBufferdump - key - ms since last stroke\n",l=0;l<n.length;l++){var s=n[l];a+=(s.keyChar!==e.barCodeEndChar?s.keyChar:"[ENTER]")+": "+s.milliSecondsSinceLast+"\n"}r.JSErrorHandling.reportJSError(a)}},e.prototype.getDiagnosticsData=function(){return this.keyEventHist.slice(0,this.keyEventHist.length)},e.prototype.processKeyPress=function(e){var t=String.fromCharCode(e),n=new Date,r={keyChar:t,keyCode:e,milliSecondsSinceLast:this.keyEventHist.length>0?n.getTime()-this.keyEventHist[this.keyEventHist.length-1].timestamp.getTime():NaN,timestamp:n};return this.processHistEntry(r)},e.prototype.processHistEntry=function(t){this.keyEventHist.push(t),this.keyEventHist.length>50&&(this.keyEventHist=this.keyEventHist.slice(this.keyEventHist.length-30));var n=t.keyChar.charCodeAt(0);if(n<30&&9!=n&&27!=n&&t.keyChar!==e.barCodeEndChar&&e.logBarcodesNotRead("BC:ControlChar STM16801",this.keyEventHist),t.keyChar!==e.barCodeEndChar)return null;var r=this.keyEventHist;if(this.keyEventHist=[],r.length<6)return e.logBarcodesNotRead("BC:histCopy.length < 6",r),null;var o=r.length-2,i=e.searchForStartOfCharsFromScanner(r);if(-1===i)return e.logBarcodesNotRead("BC:firstValidIndex === -1",r),null;var a=o-i+1;if(a>=5){for(var l=r.slice(i,i+a),s="",c=l[l.length-1].timestamp.getTime()-l[0].timestamp.getTime(),u=0;u<l.length;u++)s+=l[u].keyChar;return{barcode:s,timeTaken:c,getDiagnosticsData:function(){return{history:r}}}}return e.logBarcodesNotRead("BC:endIndex - firstValidIndex + 1 < 5",r),null},e.InitializeInstance=function(t){if(e.Instance)throw new Error("Barcodereader er allerede initialiseret.");var n=new e;$(document).keypress((function(e){var r=n.processKeyPress(e.which);return r&&(e.preventDefault(),t(r)),!r})),$(document).on("FormDefaultButtonActivated KeyboardNavEnterSuppressed",(function(e){var r=n.processKeyPress(13);return r&&(e.preventDefault(),t(r)),!r})),$(document).on("barCodeRead",(function(e){null!=e.data&&t(e.data)})),e.Instance=n},e.drawEan13=function(e,t){var n=e.getContext("2d");if(null==n)throw new Error("canvas");var r=e.width/t.length;n.fillStyle="rgba(0, 0, 0, 1)",n.lineWidth=r;for(var o=0;o<t.length;o++)"1"===t[o]&&(n.beginPath(),n.moveTo(o*r,0),n.lineTo(o*r,e.height),n.stroke())},e.barCodeEndChar=String.fromCharCode(13),e}();t.BarcodeReader=o},79856:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CapsLock=void 0;var n=function(){function e(){}return e.capsDetect=function(t,n){if(t||(t=window.event),t){var r=t.charCode?t.charCode:t.keyCode?t.keyCode:t.which?t.which:0;r=0<r&&r<=255?String.fromCharCode(r):"";var o=t.shiftKey||t.modifiers&&4&t.modifiers;if(r!=r.toUpperCase()||r!==r.toLowerCase()){var i=r===r.toLowerCase()&&o||r===r.toUpperCase()&&!o;e.capslockState=i,e.showWarning(i,n)}}},e.capsToggle=function(t,n){t||(t=window.event),t&&20===(t.keyCode?t.keyCode:0)&&"boolean"==typeof e.capslockState&&(e.capslockState=!e.capslockState,e.showWarning(e.capslockState,n))},e.capsReset=function(t){e.capslockState=null,e.showWarning(!1,t)},e.showWarning=function(e,t){if(document.getElementById){var n=document.getElementById(t);n&&(n.style.display=e?"block":"none")}},e}();t.CapsLock=n},13249:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function l(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(e){l=[6,e],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandRegistry=void 0;var a=n(66823),l=n(38736),s=n(97136);!function(e){var t,n={};function c(e,t){var r=n[e];if(!r)throw new Error("Ukendt kommando: "+e);var o,i=u();if(!0!==(null==r?void 0:r.skipAddToHistory)&&"showCommandSelector"!==e){for(var a=0;a<i.Items.length;a++)i.Items[a].CommandId===e&&(i.Items.splice(a,1),a--);o={CommandId:e,Argument:t},i.Items.unshift(o),i.Items.length>3&&(i.Items.length=3)}else o=null;d(i);var l={Argument:t,ArgumentDerivedByCommand:void 0},s=r.execute(l);function c(){l.ArgumentDerivedByCommand&&o&&(o.Argument=l.ArgumentDerivedByCommand,d(i))}s&&"then"in s?s.then(c):c()}function u(){var e=localStorage.getItem("CommandHistory");return e?JSON.parse(e):{Items:[]}}function d(e){localStorage.setItem("CommandHistory",JSON.stringify(e))}function f(e,r){s.LectioJSUtils.AssertArgument(e in n,"commandId in registeredCommands"),t||function(e){var t={},n=e.stopCallback,r=e.unbind;e.stopCallback=function(e,r,o,i){return!t[o]&&!t[i]&&n(e,r,o)},e.bindGlobal=function(e,n,r){if(this.bind(e,n,r),e instanceof Array)for(var o=0;o<e.length;o++)t[e[o]]=!0;else t[e]=!0},e.unbind=function(e,n){if(r.call(this,e,n),e instanceof Array)for(var o=0;o<e.length;o++)t[e[o]]=!1;else t[e]=!1}}(t=new l(document.documentElement));var o=function(t){t.preventDefault(),c(e)};r.match(/^(ctrl|alt|shift|meta)/i)?t.bindGlobal(r,o):t.bind(r,o)}function p(e){for(var t=0,n=[],r=new Array(20),o=-1,i="";t<e.length;){for(var a=-1;;){var l=e[t+ ++a];if("\n"===l)throw new Error("uventet newline");if(" "!==l)break}var s=e.indexOf("\n",t+a),c=e.slice(t+a,s);r[a]=c,a!==o&&(i=a>0?r.slice(0,a).join(".")+".":""),n.push(i+c),t=s+1,o=a}return n}e.InitializeLinkSearch=function(t){e.linkTemplateUrl=t},e.RegisterCommand=function(e,t){if(s.LectioJSUtils.AssertNotNullOrUndefined(e,"definition"),e.id in n)throw new Error("Allerede registreret: "+e.id);n[e.id]=e,t&&f(e.id,t)},e.ExecuteCommand=c,e.GetCommandHistory=u,e.SetCommandHistory=d,e.ExecuteRecent=function(e,t){var n=u();if(e-1<n.Items.length){var r=n.Items[e-1];t?c(r.CommandId,r.Argument):c(r.CommandId)}},e.RegisterCommandKeyBinding=f,e.PromptUserForElementSelection=function(e){s.LectioJSUtils.ShowInformation(e.prompt,e.promptTitle);var t=s.LectioJSUtils.CreateDeferred(),n=function(n){for(var r=s.LectioJSUtils.GetAssertedType(n.target,Element,"Element");r&&!r.matches(e.selector);)r=r.parentElement;if(!r)return o(),void t.reject("notfound");o(),t.resolve(r)},r=function(e){o(),s.LectioJSUtils.ShowInformation("Annulleret"),t.resolve("notfound")};function o(){document.body.removeEventListener("click",n,{capture:!0}),document.body.removeEventListener("keydown",r,{capture:!0})}return document.body.addEventListener("click",n,{capture:!0,once:!0}),document.body.addEventListener("keydown",r,{capture:!0,once:!0}),t.promise()},e.parseexprs=p,e.showGridStuff=function(t){var n;return r(this,void 0,void 0,(function(){var r,l,c,u,d;return o(this,(function(o){switch(o.label){case 0:return t.Argument?(r=document.getElementById(t.Argument),[3,3]):[3,1];case 1:return[4,e.PromptUserForElementSelection({prompt:"Klik på en tabel.",selector:"table.lf-grid"})];case 2:if("notfound"===(l=o.sent()))return[2,{}];r=l,o.label=3;case 3:return r instanceof HTMLTableElement?(c=r,t.ArgumentDerivedByCommand=c.id,u=null!==(n=c.getAttribute("lec-col-exprs"))&&void 0!==n?n:"",d=p(u),function(e,t){var n=null,r=s.LectioJSUtils.GetAssertedType(e.nextElementSibling,HTMLInputElement,"hidden input"),o=r.value;$("<div>\n\t\t<div>Felt:</div>\n\t\t<textarea id='xxx_exprs' style='width:40em; height: 5em; overflow: scroll'></textarea>\n\t\t<input id='xxx_inp' style='width:40em'>\n\t\t<input type=hidden id='xxx_inpid'>\n\t\t<button>Opdater</button>\n\t\t</div>").dialog({height:500,width:"55em",open:function(l){(n=s.LectioJSUtils.GetAssertedType(this.querySelector("#xxx_exprs"),HTMLTextAreaElement,"ta")).value=o,function(){var e,r,o=[];try{for(var l=i(t),s=l.next();!s.done;s=l.next()){var c=s.value;o.push([c,c,"","11","",null,!0])}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}a.Autocomplete.autocompleteCtrl("xxx_inp",[o],{targetValue:"xxx_inpid",emptyText:"",useFuzzySearch:!0,select:function(e,t){if(!n)throw new Error("huh, textarea ikke init?");var r;return r=n.value?n.value+"\r\n"+e:n.value+e,n.value=r,"clear"},groupSeparatorNumber:10},void 0)}();var c=document.querySelector("#xxx_inp");c.blur();var u=s.LectioJSUtils.GetAssertedType(l.target,HTMLElement,"element");s.LectioJSUtils.GetAssertedType(u.querySelector("button"),HTMLButtonElement,"button").onclick=function(){if(!n)throw new Error("huh, klik OK uden textarea er klar?");var t=n.value;r.value=t;var o=e.id.replace(/_/g,"$");window.__doPostBack(o,"SetColConfig$boo")},setTimeout((function(){return c.focus()}),500)}})}(s.LectioJSUtils.GetAssertedType(c,HTMLTableElement,"table"),d),[2,{}]):[2,{}]}}))}))},e.showCommandSelector=function(){var t=$("<div>\n\t\t<div>Kommando:</div>\n\t\t<input id='xxx_inp' style='width:40em'>\n\t\t<input type=hidden id='xxx_inpid'>\n\t\t</div>").dialog({height:500,width:"55em",open:function(){!function(){var r,o,l,u,d=[];function f(e){var t=[e.title,e.id,"","11","",null,!0];d.push(t)}var p=[];try{for(var h=i(Object.keys(n)),m=h.next();!m.done;m=h.next()){var v=m.value;p.push(n[v])}}catch(e){r={error:e}}finally{try{m&&!m.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}p.sort((function(e,t){return e.title.localeCompare(t.title)}));try{for(var g=i(p),y=g.next();!y.done;y=g.next())f(y.value)}catch(e){l={error:e}}finally{try{y&&!y.done&&(u=g.return)&&u.call(g)}finally{if(l)throw l.error}}fetch(e.linkTemplateUrl||"darnit").then((function(e){return e.json()})).then((function(e){var t,n,r={};try{for(var o=i(e),a=o.next();!a.done;a=o.next()){var l=a.value;if(0===l)break;if(!l.at){var s="Link."+l.mp;s in r||(r[s]=l,f({id:s,title:l.t,execute:function(){throw new Error("Not no be executed - not a real comand.")}}))}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r})).then((function(e){a.Autocomplete.autocompleteCtrl("xxx_inp",[d],{targetValue:"xxx_inpid",emptyText:"",useFuzzySearch:!0,select:function(n,r){var o,i=e[n];i?(console.log("lt",i.mp),o=i.mp,s.LectioJSUtils.PostApi("/default.api","ResolveLink",{linkTemplateId:o}).catch((function(e){console.error("Nav: Fejl under hent url",e)})).then((function(e){return e.json()})).then((function(e){if(!("url"in e))throw new Error("Svar fra server er ikke object med url.");var t=e.url;window.location.assign(t)}))):c(n),t.dialog("destroy")},groupSeparatorNumber:10},void 0),window.dispatchEvent(new Event("lectestDialogInitialized"))}))}();var r=document.querySelector("#xxx_inp");r.blur(),setTimeout((function(){r.focus()}),500)}})},e.ShowKeybordHelpDialog=function(){var e="\n\t\t<div>\n<table class='ls-help-table'>\n\t<tr>\n\t\t<td>Alt+1</td>\n\t\t<td>\n\t\t\tHop til andet sted på siden. Viser mærkater med genvejstaster for alle inputfelter, links og knapper.\n\t\t</td>\n\t</tr>\n\t<tr>\n\t\t<td>Alt+2</td>\n\t\t<td>\n\t\t\tForlad fokus på inputfelt. Derefter kan piletaster m.m. igen bruges til at scrolle m.m..\n\t\t</td>\n\t</tr>\n</table>\n</div>\n\t\t".trim(),t=$(e);t.dialog({title:"Hjælp til brug af keyboard",buttons:{Ok:function(){return t.dialog("destroy")}}})}}(t.CommandRegistry||(t.CommandRegistry={}))},7151:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CssUtil=void 0;var r=n(97136);!function(e){var t=null;function n(){return null==t&&(t=o("lectio")),t}function o(e){var t=document.createElement("style");t.setAttribute("id","dyncss_"+e),document.head.appendChild(t);for(var n=null,o=0;o<document.styleSheets.length;o++){var i=document.styleSheets[o];i.ownerNode===t&&(n=i)}return r.LectioJSUtils.GetNotNullValue(n,"ss")}function i(e){r.LectioJSUtils.AssertNotNullOrUndefined(document.styleSheets,"document.styleSheets"),e=e.toLowerCase();for(var t=n(),o=t.rules||t.cssRules,i=0;i<o.length;i++){var a=o.item(i);if(a.selectorText.toLowerCase()===e)return a}return null}e.CreateDynamicStylesheet=o,e.GetCssRules=function(){r.LectioJSUtils.AssertNotNullOrUndefined(document.styleSheets,"document.styleSheets");for(var e=n(),t=e.rules||e.cssRules,o=[],i=0;i<t.length;i++){var a=t.item(i);o.push(a)}return o},e.DeleteDynamicCssRule=function(e){r.LectioJSUtils.AssertNotNullOrUndefined(document.styleSheets,"document.styleSheets"),e=e.toLowerCase();for(var t=n(),o=t.rules||t.cssRules,i=0;i<o.length;i++)if(o.item(i).selectorText.toLowerCase()===e)return void t.deleteRule(i)},e.CreateOrUpdateCssRule=function(e,t){var o=i(e);o||(o=function(e){if(r.LectioJSUtils.AssertNotNullOrUndefined(document.styleSheets,"document.styleSheets"),null!==i(e))throw new Error("Rule "+e+"already exists.");var t=n();if(t.addRule)t.addRule(e,void 0);else{var o=t.rules||t.cssRules;t.insertRule(e+" { }",o.length)}var a=t.rules||t.cssRules;return a[a.length-1]}(e)),o.style.cssText=t}}(t.CssUtil||(t.CssUtil={}))},64037:function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.PhaseMatDumper=t.DomDumper=void 0;var l,s,c,u,d,f,p,h,m,v,g,y,w,b,S=n(97136);!function(e){function t(e,n,r,o,i){if(r>0){for(var a="",l=0;l<r-1;l++)a+="\t";var s=o(e),c=a+e.localName+(s?" "+s:"");n.push(c);for(var u=[],d=e.firstChild;d;d=d.nextSibling)if(d instanceof Text&&d.nodeValue){var f=d.nodeValue.trim();f&&u.push(f.length>10?f.substr(0,20):f)}if(u.length){var p=u.join(" ... ").replace(/[\x00-\x19\u0800-\uffff]/g,"_").slice(0,100),h=p in i?"[redacted: "+i[p]+"]":p;n.push(a+" #text: "+h)}}for(var m=e.firstElementChild,v=-1,g=-1;m;){if(v++,m instanceof HTMLElement){if(t(m,n,r+1,o,i),m instanceof HTMLOptionElement&&g++,v>=10&&g>=10)break;if(v>100)break}m=m.nextElementSibling}}function n(e,t,n){var r,i,a=[];try{for(var l=o((0,S.GetKeys)(e)),s=l.next();!s.done;s=l.next()){var c=s.value,u=e[c];if(u||n){var d=null!==u?t("string"==typeof u?u:u.toString()):null,f="null",p=void 0;if(null===d?p=f:""===d||d===f||/\s/.test(d)?0!==(p=JSON.stringify(d)).length&&'"'===p[0]&&(p="'"+p.substr(1,p.length-2)+"'"):p=d,p===f&&!n)continue;a.push(c.toString()+": "+p)}}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return 0!==a.length?a.join(" "):null}function r(e){var t=window.getComputedStyle(e),r=e.getBoundingClientRect();function o(e){return e.map((function(e){return(0===e?"0":e)||"??"})).join(" ")}return n({margin:o([t.marginTop,t.marginRight,t.marginBottom,t.marginLeft]),padding:o([t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft]),boundingRect:o([r.width,r.height])},(function(e){return e.replace(/(\d+\.\d{2,})/g,(function(e){return(Math.round(100*parseFloat(e))/100).toString()}))}),!0)||""}e.GetElementDump=function(e,o,i,a){var l;switch(o){case"HeaderVariantAll":l=function(e){return n({variant:e.getAttribute("data-lc-header-variant"),displayHeaderInfo:e.getAttribute("data-lc-display-header-info")},(function(e){return e}),null!=i&&i)};break;case"JustElementName":l=function(e){return n({},(function(e){return e}),null!=i&&i)};break;case void 0:l=r;break;default:throw new Error("Ukendt dumpkind: "+o)}var s=[];return t(e,s,0,l,null!=a?a:{}),s.length>0&&s.push(""),s.join("\r\n")}}(t.DomDumper||(t.DomDumper={})),function(e){function t(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=[],o=0;o<e.length-1;o++)r.push(e[o]),r.push(t[o]+"");return r.push(e[o]+""),r.join("")}e.GetDump=function(){var e,n,o=null!==(e=document.querySelector(".ls-tocandcontentparent > *:nth-child(1)"))&&void 0!==e?e:S.LectioJSUtils.Throw("Fandt ikke toc container."),k=o.querySelectorAll("h2").map((function(e){return e.innerText})),x=null!==(n=document.querySelector(".ls-tocandcontentparent > *:nth-child(2)"))&&void 0!==n?n:S.LectioJSUtils.Throw("Fandt ikke forloebsindhold."),C=document.querySelectorAll("[data-role=button]").filter((function(e){return!!e.querySelector('img[src="/lectio/img/menu_burger.auto"]')})).reduce((function(e,t){var n=function(e,t){return 0!=(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)},r=e.intoc||n(o,t),i=e.incontent||n(x,t);return{intoc:r,incontent:i,outside:e.outside||!(r||i)}}),{intoc:!1,incontent:!1,outside:!1}),E=!!x.querySelector(".ls-phase-activity-title"),T=!!x.querySelector(".ls-phase-activity-title a[href]"),L=!!x.querySelector("[data-lc-header-variant]"),_=!!x.querySelectorAll('[data-lc-header-variant="activity"]').filter((function(e){return!!window.getComputedStyle(e,"::before").backgroundImage.match(/phase-send-to.auto/)})).length,A=!!document.querySelectorAll("label").filter((function(e){return e.innerText.trim().match(/(aflyste|ekskluderede)/i)})).length,D=!!document.querySelectorAll("label").filter((function(e){return e.innerText.trim().match(/Del/i)})).length,I=[];return I.push("TOC-afsnit:"),I.push.apply(I,a([],i(k),!1)),I.push(""),I.push(t(l||(l=r(["TOC har knapper: ",""],["TOC har knapper: ",""])),!!o.querySelector('*[data-role="button"]'))),I.push(t(s||(s=r(["TOC har checkbokse: ",""],["TOC har checkbokse: ",""])),!!o.querySelector('*[data-role="cb"]'))),I.push(t(c||(c=r(["TOC har burgermenu: ",""],["TOC har burgermenu: ",""])),C.intoc)),I.push(""),I.push(t(u||(u=r(["Indhold har aktiviteter: ",""],["Indhold har aktiviteter: ",""])),E)),I.push(t(d||(d=r(["Indhold har aktiviteter m. overskriftslinks: ",""],["Indhold har aktiviteter m. overskriftslinks: ",""])),T)),I.push(t(f||(f=r(["Indhold har fmat-afsnit: ",""],["Indhold har fmat-afsnit: ",""])),L)),I.push(t(p||(p=r(["Indhold har vis aflyste-cb: ",""],["Indhold har vis aflyste-cb: ",""])),A)),I.push(t(h||(h=r(["Indhold har dele-cb: ",""],["Indhold har dele-cb: ",""])),D)),I.push(t(m||(m=r(["Indhold har forloebsinfo: ",""],["Indhold har forloebsinfo: ",""])),!!document.querySelector("#overview table"))),I.push(t(v||(v=r(["Indhold har burgermenu: ",""],["Indhold har burgermenu: ",""])),C.incontent)),I.push(t(g||(g=r(["Indhold har checkbokse: ",""],["Indhold har checkbokse: ",""])),!!x.querySelector('*[data-role="cb"]'))),I.push(t(y||(y=r(["Indhold har kopierpile: ",""],["Indhold har kopierpile: ",""])),!!x.querySelector(".ls-share-buttonicon"))),I.push(t(w||(w=r(["Indhold har swup: ",""],["Indhold har swup: ",""])),_)),I.push(""),I.push(t(b||(b=r(["Burgere andetsteds: ",""],["Burgere andetsteds: ",""])),C.outside)),I.push(""),I.join("\n")}}(t.PhaseMatDumper||(t.PhaseMatDumper={}))},60596:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DrawStudentHist=void 0;var r=n(97136),o=n(88432),i=n(67079),a=function(){function e(){}return e.DrawStudentHist=function(e,t){var n=i(e,800,200),o=130,a=function(e){return r.LectioJSUtils.AssertArgument(e>=0,"virt < virtDrawRange.start"),r.LectioJSUtils.AssertArgument(e<=1e3,"virt <= virtDrawRange.end"),(e-0)/1e3*630+o},l=0;$.each(t.rows,(function(e,t){var r=60+50*l;l++,n.path(["M"+a(t.start)+","+(r+3),"L"+a(t.end)+","+(r+3)]).attr({stroke:"gray","stroke-width":"2",title:t.startDate+" - "+t.endDate});var o=t.title+"\r\n"+t.description;n.text(0,r,o).attr({"text-anchor":"start"}),$.each(t.intervals,(function(e,t){var o=a(t.start),i=a(t.end);(i-o)/630<.01&&(i=o+6.3),n.path(["M"+o+","+(r-4),"L"+i+","+(r-4)]).attr({title:t.startDate+" - "+t.endDate+(t.isActive?"":"\r\nIkke aktiv"),"stroke-width":t.isActive?"4":"2",stroke:"green","stroke-dasharray":t.isActive?"":"-"})}))}));var s=50*(l+1),c=-51;$.each(t.marks,(function(e,t){var r=Math.floor(35),o=a(t.pos),i=15;o-c<50?i+=10:i=15;var l=s-r;n.path(["M"+o+","+r,"l0,"+(l-15)]).attr({"stroke-dasharray":"-"}),n.text(a(t.pos),0==t.title.indexOf("Indmeld")?s:i,t.title+"\r\n"+t.date),c=a(t.pos)})),n.setSize(800,s+15)},e.DrawStudentSU=function(e,t){var n=i(e,985,15),r=[];r.push({intervals:t.months.map((function(e){return{start:e.start,length:e.end-e.start,backgroundColor:e.suMonth?o.LectioGantt.GanttChartBackgroundColor.Green:o.LectioGantt.GanttChartBackgroundColor.Red,title:e.title}})),textAlign:"center"}),r.push({intervals:t.periods.map((function(e){return{start:e.start,length:e.end-e.start,backgroundColor:o.LectioGantt.GanttChartBackgroundColor.LightGray,title:e.title}})),textAlign:"center"});var a=t.rows.map((function(e){return{intervals:[{start:e.start,length:e.end-e.start,backgroundColor:o.LectioGantt.GanttChartBackgroundColor.Yellow,title:e.title}],textAlign:"left"}}));r=r.concat(a),o.LectioGantt.Draw(r,n)},e}();t.DrawStudentHist=a},45538:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicDropDown=void 0;var n=function(){function e(){}return e.filldyndropdown=function(e,t){var n=document.getElementById(e);if(!(n instanceof HTMLSelectElement))throw new Error("Er ikke input-element.");if(!(n.options.length>1)){var r=null,o=null;n.options.length>0&&(o=n.options[n.selectedIndex].value,r=n.options[n.selectedIndex].text),n.options.length=0;var i=!1;for(var a in t)if(t.hasOwnProperty(a)){var l=t[a],s=document.createElement("option");s.text=l[1],s.value=l[0],l[0]===o&&(s.selected=!0,i=!0),document.all?n.add(s):n.add(s,void 0)}if(!i&&(alert("Den valgte værdi er ikke gyldig."),null!==r)){var c=document.createElement("option");c.text=r,c.value=o||"",c.selected=!0,document.all?n.add(c):n.add(c,void 0)}}},e}();t.DynamicDropDown=n},75298:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.PageHistoryBehavior=void 0,(n=t.PageHistoryBehavior||(t.PageHistoryBehavior={}))[n.PrevUrl=1]="PrevUrl",n[n.HandsOff=2]="HandsOff",n[n.ReplacePost=3]="ReplacePost"},95612:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.GuiMisc=void 0;var i=n(13249),a=n(97136),l=n(35671),s=n(7151);!function(e){function t(){var e=document.body.querySelectorAll("table.ls-table-layout1");return Array.from(e)}function n(e){var t=e.querySelector("table.lf-grid");return t?a.LectioJSUtils.GetAssertedType(t,HTMLTableElement,"table"):t}function c(e){var t=n(e);if(!t)throw new Error("Find ikke tabel.");return t}e.FindTables=t,e.TryFindTable=n,e.FindTable=c,e.ShowTableFilter_FirstTable=function(){var e=c(document.body);e?d(a.LectioJSUtils.GetAssertedType(e,HTMLTableElement,"table")):window.alert("Fandt ikke en tabel.")},e.CurrentDialogMaximize=function(){var e=document.querySelector("body > div[role=dialog]");if(e){var t=a.LectioJSUtils.GetAssertedType(e,HTMLElement,"htmlelement");t.style.width="90vw",t.style.left="5vw",t.style.top="5vh",t.style.height="90vh"}},e.InitTableFilter=function(){var e,n,o,i,a=t(),l=[];try{for(var s=r(a),c=s.next();!c.done;c=s.next()){var u=c.value;(m=$(u).closest(".island").get(0))&&l.push(m)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}var d=Array.from(document.querySelectorAll(".island")),f=function(e){var t=e.querySelector(".islandHeaderRight");if(!t)return"continue";if(!(t instanceof HTMLElement))throw new Error("awioawje");l.some((function(t){return t===e}))||t.querySelector("ul")||(t.style.display="none")};try{for(var p=r(d),h=p.next();!h.done;h=p.next()){var m;f(m=h.value)}}catch(e){o={error:e}}finally{try{h&&!h.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}};var u=0;function d(e,t){var n,o;if(e.previousSibling instanceof HTMLTextAreaElement)e.previousSibling.focus();else{var i=document.createElement("textarea"),c=e.querySelectorAll(":scope > tbody");if(1!==c.length)throw new Error("Antal tbody er ikke 1, men ".concat(c.length,"."));var d=a.LectioJSUtils.GetAssertedType(c[0],HTMLTableSectionElement,"tbody"),f=1,p=null,h=d.childElementCount>=100?300:100;i.addEventListener("input",(function(){(new Date).valueOf();null!=p&&clearTimeout(p),p=setTimeout((function(){var e=i.value.trim();f++,k(d,e,f)}),h)})),i.placeholder="Søg i tabel",t&&(i.value=t),e.parentElement.insertBefore(i,e);var m=0;try{for(var v=r(l.HtmlUtilities.PretendArray(d.children)),g=v.next();!g.done;g=v.next()){var y=g.value;if(!y.firstElementChild||"TH"!==y.firstElementChild.nodeName){m++;var w=document.createElement("div");w.innerText="r "+m;var b=y.firstElementChild;null==b||b.appendChild(w)}}}catch(e){n={error:e}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(n)throw n.error}}setTimeout((function(){t&&(f++,k(d,t,f)),!t&&i.focus()}),100),u++;var S="ls-table-row-hidden-"}function k(e,t,n){var o,i,a=S+u+"-"+n,l=t.split("\n").filter((function(e){return!!e})).map((function(e){var t="-"===e[0],n=t?e.substring(1):e;return{re:new RegExp(n,"i"),negate:t}})),c=l.filter((function(e){return!e.negate})),d=l.filter((function(e){return e.negate}));function p(){for(var e,t,o=new Date;;){if(n!=f)return;var l=new Date,s=l.valueOf()-o.valueOf();if(o=l,s>100)return void setTimeout(p,1);var c=i;if(i=null==c?void 0:c.nextElementSibling,!c)break;if(!(c instanceof HTMLElement))throw new Error;var u=Array.from(c.children);if(!(u.length>0&&"TH"===u[0].tagName))try{for(var d=(e=void 0,r(c.classList)),h=d.next();!h.done;h=d.next()){var m=h.value;m.startsWith(S)&&m!==a&&c.classList.remove(m)}}catch(t){e={error:t}}finally{try{h&&!h.done&&(t=d.return)&&t.call(d)}finally{if(e)throw e.error}}}}o=e.firstElementChild,function l(){for(var u,h,m=new Date;;){if(n!=f)return;var v=new Date,g=v.valueOf()-m.valueOf();if(m=v,g>100)return void setTimeout(l,1);var y=o;if(o=null==y?void 0:y.nextElementSibling,!y)break;if(!(y instanceof HTMLElement))throw new Error;if(!y.classList.contains("paging")){var w=Array.from(y.children);w.length>0&&"TH"===w[0].tagName||(!t||0==w.length||w.filter((function(e){if(!(e instanceof HTMLTableCellElement))throw new Error("is not html table cell??");return t=e.innerText,n=c.some((function(e){return e.re.exec(t)})),r=d.some((function(e){return e.re.exec(t)})),n&&!r;var t,n,r})).length>0?y.classList.remove(a):y.classList.add(a))}}s.CssUtil.CreateOrUpdateCssRule("."+a,"display: none");var b=s.CssUtil.GetCssRules().filter((function(e){return e.selectorText.startsWith("."+S)&&e.selectorText!="."+a}));try{for(var k=r(b),x=k.next();!x.done;x=k.next()){var C=x.value;s.CssUtil.DeleteDynamicCssRule(C.selectorText)}}catch(e){u={error:e}}finally{try{x&&!x.done&&(h=k.return)&&h.call(k)}finally{if(u)throw u.error}}i=e.firstElementChild,p()}()}}e.ShowTableFilter=d,e.ShowDatabaseInfo=function(){var e,t,n,o,i=document.querySelectorAll("*[lec-dbg-itemtype]");try{for(var a=r(l.HtmlUtilities.PretendArray(i)),s=a.next();!s.done;s=a.next()){var c=s.value,u=c.getAttribute("lec-dbg-tablename"),d=document.createElement("div");if(u){var f=document.createElement("a");f.innerText=u||"??",f.href="https://lectio-udv4.macom.dk/DbViewerWeb/Table/Details/"+u,d.appendChild(document.createTextNode("Table: ")),d.appendChild(f)}else{var p=c.getAttribute("lec-dbg-itemtype").split(",")[0];d.appendChild(document.createTextNode("ItemType: "+p))}c.parentElement.insertBefore(d,c)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}var h=document.querySelectorAll("*[lec-dbg-columnname]");try{for(var m=r(l.HtmlUtilities.PretendArray(h)),v=m.next();!v.done;v=m.next()){var g=v.value,y=g.getAttribute("lec-dbg-columnname");(d=document.createElement("div")).style.border="1px solid #cccccc",d.appendChild(document.createTextNode("Column: "+y)),g.insertBefore(d,g.firstChild)}}catch(e){n={error:e}}finally{try{v&&!v.done&&(o=m.return)&&o.call(m)}finally{if(n)throw n.error}}},e.ShowSetStudentIdsToBrowse=function(){var e="\n\t\t<div>\n<table class='ls-help-table'>\n\t<tr>\n\t\t<td>Indsaet student-id pr. linie eller kommasepareret liste</td>\n\t\t<td>\n\t\t<textarea id=\"studentids_ta\"></textarea>\n\t\t</td>\n\t</tr>\n</table>\n</div>\n\t\t".trim(),t=$(e);t.dialog({title:"bladre..",buttons:{Ok:function(){var e=document.getElementById("studentids_ta");if(!(e instanceof HTMLTextAreaElement))throw new Error;var n,r,o=e.value.trim();if(!o)return t.dialog("destroy");if(!(n=o.match(/,/)?o:o.split(/\r?\n/g).join(", ")).match(/,/))return t.dialog("destroy");try{r=JSON.parse("["+n+"]")}catch(e){return void console.error("Kan ikke parse som json",e,n)}if(!(r instanceof Array))throw new Error("Data passer ikke i et array.");return a.LectioJSUtils.PostApi("/stamdata/stamdata_edit_student.api","SetStudentIdsToBrowse",{},{studentIds:r}).then((function(e){if(!e.ok)throw console.error("Fik ikke ok fra kald.",e),new Error("Fik ikke ok fra kald: "+e.statusText);return e.json()})).then((function(e){return location.href=e})),t.dialog("destroy")}}})},function(e){function t(e){return e.replace(/(&|\?)prevurl=[^&]+/,(function(e){return"?"==e[0]?"?":""})).replace("?&","?")}$((function(){i.CommandRegistry.RegisterCommand({id:"navigation.jumpSamePage",title:"Hop",execute:function(){var e=function(e,t){var n,r=t.match(/^(.+)\/(\w*)$/),i=!1;if(r){var a=o(r,3);a[0],n=a[1],i="n"===a[2]}else n=t;var l=n.split(" ").length>1?n.split(" "):n.split(","),s=-1;return{paq:e.replace(/\b\d+\b/g,(function(e){return++s>=l.length||""===l[s]?e:l[s]})),openNewWindow:i}},n=function(t,n,r){if(t!==e(n,r).paq)throw Error("aseq: ".concat(t," vs ").concat(n," with jump key '").concat(r,"'."))};n("/lectio/456/stamdata/stamdata_edit_hold.aspx?id=456123456123","/lectio/123/stamdata/stamdata_edit_hold.aspx?id=123456123456","456,456123456123"),n("/lectio/456/stamdata/stamdata_edit_hold.aspx?id=456123456123","/lectio/123/stamdata/stamdata_edit_hold.aspx?id=123456123456","456 456123456123"),n("/lectio/123/stamdata/stamdata_edit_hold.aspx?id=456123456123","/lectio/123/stamdata/stamdata_edit_hold.aspx?id=123456123456",",456123456123"),n("/lectio/456/stamdata/stamdata_edit_hold.aspx?id=123456123456","/lectio/123/stamdata/stamdata_edit_hold.aspx?id=123456123456","456"),n("/lectio/456/stamdata/stamdata_edit_hold.aspx?id=123456123456","/lectio/123/stamdata/stamdata_edit_hold.aspx?id=123456123456","456,");var r=prompt('Indtast hoppenoegle. Afslut med "/n" for at aabne i nyt vindue.');if(r){var i=e(location.pathname+location.search,r),a=t(i.paq);console.log("newstr",a),i.openNewWindow?window.open(a):location.assign(a)}}})})),e.CleanLectioLink=t}(e.LectioJump||(e.LectioJump={}))}(t.GuiMisc||(t.GuiMisc={}))},10393:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(4935);!function(e){e[e.Full=0]="Full",e[e.Compact=1]="Compact"}(i||(i={}));var l=function(){function e(e,t,n){this.element=e,this.dataElement=t,this.chartElement=n,this.laneSizes=[]}return e.Initialize=function(t,n,r,o){console.log("Historik, initializing element: "+t);var i=$("#"+t),a=new e(i,$("input[type=hidden]",i).eq(0),$("div",i).eq(0));i.data("hist",a),a.createSvg(n,r,o)},e.prototype.getIRectData=function(e,t,n){var r={};return r.id=Math.floor(1e6*Math.random()),r.displayName=n.display,r.periode=n.periode.map((function(e){return new Date(e)})),r.bottomLinePeriode=n.bottomLinePeriode?n.bottomLinePeriode.map((function(e){return new Date(e)})):void 0,{id:r.id,offset:n.offSet,laneid:e,numRows:n.numRows,rowsAbove:t,displayName:n.display,tooltip:n.tooltip,periode:r.periode,bottomLinePeriode:r.bottomLinePeriode,afgangsaarsag:n.afgangsaarsag,isLectioControlled:n.isLectioControlled}},e.prototype.readData=function(){var e=this,t=JSON.parse(this.dataElement.val());return this.laneSizes=this.calculateRowsAbove(t.lanes),{lanes:t.lanes.map((function(e,t){return{id:t,name:e.title,rows:e.numRows}})),minDate:new Date(t.minDate),maxDate:new Date(t.maxDate),data:t.lanes.map((function(t,n){return t.data.map((function(t){return e.getIRectData(n,e.laneSizes[n],t)}))})),marks:t.marks,pauses:t.pauses}},e.prototype.readDataCompact=function(){var e=this,t=JSON.parse(this.dataElement.val()),n=this.calculateRowsAboveCompact(t.lanes);return{lanes:t.lanes.map((function(e,t){return{id:t,name:"",rows:e.data[0]?e.data[0].numRows:0}})),minDate:new Date(t.minDate),maxDate:new Date(t.maxDate),data:t.lanes.map((function(t,r){return t.data.map((function(t){return e.getIRectData(r,n[r],t)}))})),marks:t.marks,pauses:t.pauses}},e.prototype.calculateRowsAbove=function(e){var t=[0].concat(e.map((function(e){return e.numRows?e.numRows:0}))),n=0;return t.map((function(e){return n+=e}))},e.prototype.calculateRowsAboveCompact=function(e){var t=[0].concat(e.map((function(e){return e.data[0]?e.data[0].numRows:0}))),n=0;return t.map((function(e){return n=(n||0)+e}))},e.prototype.createSvg=function(e,t,n){var l,s=this.readData();e===i.Compact&&(s=this.readDataCompact());for(var c=!1,u=this.laneSizes,d=a.select("body").append("div").attr("class","toolTip"),f=0,p=0;p<s.lanes.length;p++)f+=s.lanes[p].rows;0===f&&(f=1);var h,m=e===i.Compact?{top:5,right:15,bottom:35,left:15}:{top:20,right:15,bottom:50,left:15},v=t-m.left-m.right,g=100,y=25.333,w=33.333,b=f*w,S=b,k=b+m.top+m.bottom+20,x=a.scaleTime().domain(new Array(s.minDate,s.maxDate)).range([0,v]),C=x.copy(),E=a.scaleLinear().domain([0,f]).range([0,S]),T=n;T&&e===i.Full?h=k+50:T&&e===i.Compact?(h=k+20,m.top+=20):h=T||e!==i.Compact?k:k-20;var L=this.chartElement.get(0);if(L){var _=a.select(L).append("svg:svg").attr("width",v+m.right+m.left).attr("height",h).attr("class","chart"),A=_.append("g").attr("transform","translate("+m.left+","+m.top+")").attr("width",v).attr("class","main"),D=a.brushX().extent([[0,30],[v,55]]).on("brush",(function(e){if(e&&!c){c=!0;var t=e.selection||C.range();x.domain(t.map(C.invert,C)),G(),_.select(".main").call(B.transform,a.zoomIdentity.scale(v/(t[1]-t[0]+200)).translate(-t[0]+g,-100)),c=!1}})),I=a.scaleOrdinal().range(["udd","aftale","skoleforloeb","skolePraktik","xprselevtype","pause","elevhist"]).domain(["0","1","2","3","4","5","6"]),$=["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],M=function(e){return $[e.getMonth()]},P=function(e){var t=x(e.periode[1])-x(e.periode[0]);return t<=5?5:t};A.append("rect").attr("x",0).attr("y",0).attr("class","zoom").attr("width",v).attr("height",S);var N,O,U=(l=[]).concat.apply(l,o([],r(s.data),!1)),R=a.timeFormat("%d/%m-%Y"),B=a.zoom().scaleExtent([.75,10]).translateExtent([[-100,0],[v+g,b]]).extent([[0,0],[v,b]]).on("zoom",(function(t){if(t&&!c){c=!0;var n=t.transform;x.domain(n.rescaleX(C).domain()),G(),e===i.Full&&_.select(".overview").select(".brush").call(D.move,x.range().map(n.invertX,n)),c=!1}}));A.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",v).attr("height",k),e===i.Full&&(A.append("g").selectAll(".lanelines").data(s.lanes).enter().append("line").attr("x1",-0).attr("y1",(function(e){var t;return a.format("d")(E(null!==(t=u[e.id])&&void 0!==t?t:1))})).attr("x2",v).attr("y2",(function(e){var t;return a.format("d")(E(null!==(t=u[e.id])&&void 0!==t?t:1))})).attr("stroke","lightgray"),A.append("g").selectAll(".labeltext").data(s.lanes).enter().append("text").attr("class","labeltext").attr("y",(function(e){var t;return a.format("d")(E(null!==(t=u[e.id])&&void 0!==t?t:1)+6)})).attr("dy",14).attr("text-anchor","start").attr("letter-spacing","0.25pt").text((function(e){return e.name}))),G(),T&&(A.call(B),function(){var e=_.append("g").attr("transform","translate("+(v-180)+",0)").on("click",(function(e){e.stopPropagation(),j(1)}));e.append("text").attr("dx",5).attr("dy",13).text("Vis 1 år"),e.append("rect").attr("class","btn").attr("width",55).attr("height",20);var t=_.append("g").attr("transform","translate("+(v-120)+",0) ").on("click",(function(e){e.stopPropagation(),j(4)}));t.append("text").attr("dx",5).attr("dy",13).text("Vis 4 år"),t.append("rect").attr("class","btn").attr("width",55).attr("height",20);var n=_.append("g").attr("transform","translate("+(v-60)+",0)").on("click",(function(e){e.stopPropagation(),J()}));n.append("text").attr("dx",5).attr("dy",13).text("Vis alt"),n.append("rect").attr("class","btn").attr("width",55).attr("height",20)}(),e===i.Full&&(N=_.append("g").attr("transform","translate("+m.left+","+(m.top+b+20)+")").attr("width",v).attr("height",40).attr("class","overview"),O=a.axisBottom(C).ticks(a.timeYear).tickFormat(a.timeFormat("%Y")).tickSize(3),N.append("g").attr("transform","translate(0,40)").call(O),N.append("g").attr("class","brush").call(D).call(D.move,x.range()),A.append("line").attr("x1",x(new Date)).attr("y1",S+w+17).attr("x2",x(new Date)).attr("y2",S+w+42).attr("class","todayLineZoom"),N.append("g").selectAll("rect").data(U).enter().append("rect").attr("x",(function(e){return C(e.periode[0])})).attr("y",37).attr("height",3).attr("width",(function(e){return C(e.periode[1])-C(e.periode[0])})))),C.domain()[1].valueOf()-C.domain()[0].valueOf()>126144e6?j(4):J()}function H(e){for(var t=0,n=0;n<e;n++)t+=s.lanes[n].rows;return t}function F(e,t){var n=A.append("g").attr("id","theBoxes").selectAll("g").data(e).enter().append("g").attr("class","box").attr("transform",(function(e){return"translate("+x(e.periode[0])+", "+(E(e.rowsAbove+e.offset)+8)+")"})).on("mouseover",(function(e,t){var n=e,r=t;d.style("left",n.pageX-50+"px").style("top",n.pageY+10+"px").style("display","inline-block").style("text-align","left").html(R(r.periode[0])+" - "+R(r.periode[1])+"<br>"+r.tooltip+(""!==r.afgangsaarsag?"<br><br>"+r.afgangsaarsag:""))})).on("mouseout",(function(){return d.style("display","none")}));return n.append("rect").attr("class",(function(e){return I(e.laneid.toString().toString())+(e.isLectioControlled?" lectioControlled":" nonLectioControlled")})).attr("height",t-3).attr("width",(function(e){return P(e)})),n.append("clipPath").attr("id",(function(e){return"clip"+e.id})).append("rect").attr("width",(function(e){return P(e)})).attr("height",t-3).attr("x",0).attr("y",0),n.append("text").text((function(e){return e.displayName})).attr("clip-path",(function(e){return"url(#clip"+e.id+")"})).attr("x",4).attr("y",y/1.5),n}function G(){var e,t,n,r,o,i,l;A.select(".xAxis").remove(),A.selectAll("#theBoxes").remove(),A.selectAll("#theBottomLines").remove(),A.selectAll("#theMarks").remove(),A.selectAll("#markerTexts").remove(),function(e){for(var t=e.map((function(e){return t=e,[{id:Math.floor(1e6*Math.random()),offset:0,laneid:t.startLane,numRows:0,rowsAbove:H(t.startLane),displayName:t.displayName,tooltip:t.toolTip,afgangsaarsag:"",periode:t.periode.map((function(e){return new Date(e)})),bottomLinePeriode:void 0,isLectioControlled:!1}];var t})),n=0;n<e.length;n++){var r=H(e[n].startLane),o=H(e[n].endLane+1);F(t[n],(o-r)*w-8)}}(s.pauses),e=x.domain(),t=Math.ceil((e[1].valueOf()-e[0].valueOf())/47304e6),n=a.axisBottom(x).ticks(a.timeYear).tickFormat(a.timeFormat("%Y")).tickSize(5),r=a.axisBottom(x).tickValues(a.timeMonths(e[0],e[1],t)).tickFormat(M).tickSize(-5),(o=A.append("g").attr("class","xAxis").attr("transform","translate(0,"+(S+32)+")")).append("g").attr("class","axis year").call(n),o.append("g").attr("class","axis month").call(r),o.selectAll("g.axis.month .tick").selectAll("text").attr("y",-15),F(U,y),i=U,A.append("g").attr("id","theBottomLines").selectAll("g").data(i).enter().append("g").attr("class","box").attr("transform",(function(e){return"translate("+x(e.bottomLinePeriode?e.bottomLinePeriode[0]:0)+", "+(E(e.rowsAbove+e.offset)+y+(8-8/3))+")"})).on("mouseover",(function(e,t){var n=e,r=t;d.style("left",n.pageX-50+"px").style("top",n.pageY+10+"px").style("display","inline-block").html("Forløb tilhørende: <br>"+r.displayName+"<br> Forløbs periode: <br>"+(r.bottomLinePeriode?R(r.bottomLinePeriode[0]):"")+" - "+(r.bottomLinePeriode?R(r.bottomLinePeriode[1]):""))})).on("mouseout",(function(){return d.style("display","none")})).append("line").attr("stroke","gray").attr("stroke-width",8/3).attr("x1",0).attr("x2",(function(e){return e.bottomLinePeriode?x(e.bottomLinePeriode[1])-x(e.bottomLinePeriode[0]):0})),function(e){A.append("g").attr("id","theMarks").selectAll("g").data(e).enter().append("line").attr("x1",(function(e){return x(Date.parse(e.date.toString()))})).attr("y1",(function(e){return H(e.laneNumber)*w+w})).attr("x2",(function(e){return x(Date.parse(e.date.toString()))})).attr("y2",(function(e){return H(e.laneNumber+1)*w})).attr("stroke","gray").attr("stroke-width",2).style("stroke-dasharray","3,3");var t=A.append("g").attr("id","markerTexts").attr("text-anchor","middle").selectAll("g").data(e).enter();t.append("text").attr("x",(function(e){return x(Date.parse(e.date.toString()))-50})).attr("y",(function(e){return H(e.laneNumber)*w+49.9995-8})).text((function(e){return e.textAbove})),t.append("text").attr("x",(function(e){return x(Date.parse(e.date.toString()))-50})).attr("y",(function(e){return H(e.laneNumber)*w+49.9995+4})).text((function(e){return""!==e.textAbove?R(new Date(e.date)):""})),t.append("text").attr("x",(function(e){return x(Date.parse(e.date.toString()))+50})).attr("y",(function(e){return H(e.laneNumber+1)*w-w+8})).text((function(e){return e.textBelow})),t.append("text").attr("x",(function(e){return x(Date.parse(e.date.toString()))+50})).attr("y",(function(e){return H(e.laneNumber+1)*w-w+20})).text((function(e){return""!==e.textBelow?R(new Date(e.date)):""}))}(s.marks),l=new Date,A.select(".todayLine").remove(),A.append("line").attr("x1",x(l)).attr("y1",0).attr("x2",x(l)).attr("y2",S+8).attr("class","todayLine")}function j(e){var t=C.domain()[1];t.setFullYear(t.getFullYear()-e),t.setMonth(t.getMonth()-1);var n=C.range();x.domain(n.map(C.invert,C)),_.select(".main").call(B.transform,a.zoomIdentity.scale(v/(n[1]-C(t)+200)).translate(-C(t)+g,-100))}function J(){var e=C.range();x.domain(e.map(C.invert,C)),_.select(".main").call(B.transform,a.zoomIdentity.scale(v/(e[1]-e[0]+200)).translate(-e[0]+g,-100))}},e}();window.HistorikVisualizer=l},35671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HtmlUtilities=void 0;var r,o=n(97136);(r=t.HtmlUtilities||(t.HtmlUtilities={})).PretendArray=function(e){return e},r.Contains=function(e,t){return e===t||Boolean(16&e.compareDocumentPosition(t))},r.sortTable=function(e){function t(e){return e.indexOf(" B")>0?parseInt(e.substring(0,e.indexOf(" B")),10):e.indexOf(" KB")>0?1024*parseInt(e.substring(0,e.indexOf(" KB")),10):e.indexOf(" MB")>0?1048576*parseInt(e.substring(0,e.indexOf(" MB")),10):e.indexOf(" GB")>0?1073741824*parseInt(e.substring(0,e.indexOf(" GB")),10):null}function n(e){var t=e.split(new RegExp("[^0-9]+")),n=0,r=0,o=0,i=0,a=0,l=0;return t.length>=1&&(o=parseInt(t[0],10)),t.length>=2&&(r=parseInt(t[1],10)),t.length>=3&&(n=parseInt(t[2],10)),t.length>=4&&(i=parseInt(t[3],10)),t.length>=5&&(a=parseInt(t[4],10)),t.length>=6&&(l=parseInt(t[5],10)),new Date(n,r,o,i,a,l)}function r(e){var t="";if(e instanceof HTMLElement){var n=e.getAttribute("sortKey");if(null!==n)return n;if(null===e||null===e.childNodes)return t;var o=void 0,i=e.childNodes;for(o=0;o<i.length;o++)t+=r(i[o])}else 3===e.nodeType&&(t=e.data);return t}function i(e,t,n){for(var r,o=0;(r=e.indexOf(t,o))>=0;)e=e.substring(0,r)+n+e.substring(r+t.length),o=r+n.length;return e}e||(e=window.event);var a,l=o.LectioJSUtils.GetAssertedType(e.target,HTMLElement,"htmlelement");if(!l)throw new Error("th er null?");for(l instanceof Text&&(l=o.LectioJSUtils.GetAssertedType(l.parentNode,HTMLElement,"element")),a=0;a<2;a++)(!l||"TD"!==l.tagName&&"TH"!==l.tagName)&&(l=o.LectioJSUtils.GetAssertedType(l.parentNode,HTMLElement,"parent"));if(l&&("TD"===l.tagName||"TH"===l.tagName)){var s,c,u,d,f=0;if(f="TH"===l.tagName?1:0,null==l.parentNode||null==l.parentNode.parentElement||null==l.parentNode.parentNode)throw new Error("p");var p=l.parentNode.parentNode;if(p instanceof HTMLTableElement)d=p,s=p.tBodies[0].rows;else{if(!(p.parentNode instanceof HTMLTableElement))throw new Error("p2");d=p.parentNode.tBodies[0],s=p.parentNode.tBodies[0].rows,f=0}u=d,c=0;for(var h=0;h<l.parentNode.childNodes.length;h++){var m=void 0;if((m=l.parentNode.childNodes[h]).isSameNode(l))break;1===m.nodeType&&c++}for(var v=new Array(s.length),g=arguments.length>1?arguments[1]:"s",y=f;y<s.length;y++){var w=r(s[y].cells[c]),b=void 0;switch(g){case"i":b=null==w||""===w?-1e6:parseInt(i(w,".",""),10);break;case"f":b=parseFloat(i(w,",","."));break;case"filesize":b=t(w);break;case"date":b=n(w);break;case"s":b=w.toLocaleUpperCase();break;default:b=w}v[y]=[b,s[y]]}var S=Number(u.getAttribute("previousSortColumnIndex")),k=Number(u.getAttribute("previousSortDirection"));if(!(l instanceof HTMLTableCellElement))throw new Error("table");var x,C=1;S===l.cellIndex?C=-1*k:null===k&&null===S&&arguments.length>2&&"-"===arguments[2]&&(C=-1),u.setAttribute("previousSortColumnIndex",l.cellIndex.toString()),u.setAttribute("previousSortDirection",C.toString()),x="s"===g?function(e,t){return e[0].localeCompare(t[0])*C}:function(e,t){return e[0]===t[0]?0:e[0]<t[0]?C:-C},v.sort(x);for(var E=f;E<s.length-f;E++)d.appendChild(v[E][1])}}},95123:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSErrorHandling=void 0;var r=n(49768),o=n(97136);!function(e){function t(e){if(window.JSON&&!r.LectioFeatureDetection.IsIE()){var t={message:e.message,source:e.source,lineNumber:e.lineNumber,columnNumber:e.columnNumber,stack:e.stack,userAgent:e.userAgent,customData:e.customData,error:{name:null!=e.error?e.error.name:null,message:null!=e.error?e.error.message:null,stack:null!=e.error?e.error.stack:null}};$.post(o.LectioJSUtils.GetBaseSchoolURL()+"/Utils/LectioErrorReport.aspx",{errorData:JSON.stringify(t)})}}e.reportJSError=function(e,n){t({message:"Javascript fejl: "+e,source:null,stack:o.LectioJSUtils.GetStackTrace(),userAgent:navigator.userAgent,customData:n,error:void 0})},e.reportJSErrorImpl=t}(t.JSErrorHandling||(t.JSErrorHandling={}))},5878:function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(e){l=[6,e],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardNav=void 0;var a,l=n(85964),s=n(97136),c=n(79112),u=function(){function e(){}return e.Initialize=function(){$(document.body).on("keydown",(function(e){if(!e.altKey&&!e.ctrlKey){var t=$(e.target);if(t.is(":input")){var n=t.parentsUntil("table.lf-grid");if("HTML"!==n.get(-1).tagName.toUpperCase()||"HTML"!==(n=t.parentsUntil(".lf-keyboardnav")).get(-1).tagName.toUpperCase()){var r,o=n.get(-1),i=n.get(-2),a=n.get(-3),l=!1;switch(e.which){case 13:r=e.shiftKey?-1:1;break;case 40:r=1,l=!0;break;case 38:r=-1,l=!0;break;default:return}if(!(l&&(t.is(":checkbox")||t.is(":radio"))||l&&(t.is("select")||t.is("option"))||t.is("textarea"))){if(e.preventDefault(),i.rowIndex+r<o.rows.length&&i.rowIndex+r>=0){var s=o.parentElement.rows[i.rowIndex+r],c=s.cells.length-i.cells.length;if(a.cellIndex+c>=s.cells.length)return;var u=s.cells[a.cellIndex+c],d=t.get(0);if(!d)return;var f=$(a).find(":input").indexOf(d),p=$(u).find(":input").get(f);if(!p)return;$(p).focus()}t.trigger("KeyboardNavEnterSuppressed")}}}}}))},e}();function d(e){var t="input,textarea,select,a,img[data-role=cb]".split(",");"extended"===e&&t.push("*[data-lectiocontextcard]");var n=Array.from(document.querySelectorAll(t.join(","))).filter((function(e){return!(e instanceof HTMLAnchorElement&&null===e.firstChild||"none"===window.getComputedStyle(e).display||e.getAttribute("aria-hidden")||null===e.offsetParent||-1!==e.className.indexOf("hidetabinputbutton")||0!==$(e).parents(".ui-datepicker").length||0!==$(e).parents(".cke_toolbar").length)})).filter((function(e){return e.getBoundingClientRect().top>=0&&e.getBoundingClientRect().top<window.outerHeight-20})),l=Array.from(document.querySelectorAll(".ls-master-pageheader, #contenttable")).map((function(e){return t=e,function(e){return 0!=(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINS)};var t}));if(l.length){var s=function(e){var t,n;try{for(var r=o(l),i=r.next();!i.done;i=r.next())if((0,i.value)(e))return!0}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!1};n.stableSort((function(e,t){return(s(e)?0:1)-(s(t)?0:1)}))}var u=function(e){var t,n,i={},a=function(){var e,t,n,i,a,l,s,c,u,d,f,p,h,m;return r(this,(function(r){switch(r.label){case 0:e=5,t="hkyuopnm,qwertzxcvbasdgjf",r.label=1;case 1:r.trys.push([1,6,7,8]),n=o(t.slice(0,t.length-e)),i=n.next(),r.label=2;case 2:return i.done?[3,5]:[4,i.value];case 3:r.sent(),r.label=4;case 4:return i=n.next(),[3,2];case 5:return[3,8];case 6:return a=r.sent(),f={error:a},[3,8];case 7:try{i&&!i.done&&(p=n.return)&&p.call(n)}finally{if(f)throw f.error}return[7];case 8:l=0,r.label=9;case 9:if(!(l<e))return[3,18];r.label=10;case 10:r.trys.push([10,15,16,17]),h=void 0,s=o(t),c=s.next(),r.label=11;case 11:return c.done?[3,14]:(u=c.value,[4,t[t.length-(l+1)]+u]);case 12:r.sent(),r.label=13;case 13:return c=s.next(),[3,11];case 14:return[3,17];case 15:return d=r.sent(),h={error:d},[3,17];case 16:try{c&&!c.done&&(m=s.return)&&m.call(s)}finally{if(h)throw h.error}return[7];case 17:return l++,[3,9];case 18:return[2]}}))}(),l=0;try{for(var s=o(e),c=s.next();!c.done;c=s.next()){var u=c.value;l++;var d=a.next();if(d.done){console.warn("enum done?? count="+l);break}var f=d.value;if("disabled"!==u.getAttribute("disabled")){var p=document.createElement("span");if(p.innerText=f.toUpperCase(),p.className="ls-nav-motion",u instanceof HTMLAnchorElement&&u.parentElement instanceof HTMLTableCellElement)p.setAttribute("ls-nav-label-hint","a-in-td");else{var h=window.getComputedStyle(u);"absolute"===h.position&&(p.style.top=h.top,p.style.left=h.left)}u.parentElement.parentElement.classList.contains("lectioTabToolbar")?u.appendChild(p):u.parentElement.insertBefore(p,u),i[f]={label:p,input:u}}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return i}(n),d=[],p=function(e){"Escape"===e.key&&m()},h=function(e){d.push(e.key.toLowerCase());var t=d.join(""),n=u[t];if(n){e.preventDefault();var r=n.input,o=[],l=void 0;(l=n.input instanceof HTMLInputElement||n.input instanceof HTMLButtonElement||n.input instanceof HTMLAnchorElement||n.input instanceof HTMLSelectElement||n.input instanceof HTMLTextAreaElement||n.input instanceof HTMLImageElement&&$(n.input).is("img[data-role=cb]")?"click":null)&&o.push(l);var s,p,h=r instanceof HTMLAnchorElement&&r.href.match(/^https:/)?r.href:null;switch(h&&o.push({type:"openwin",url:h}),(function(e){return $(e).is("*[data-lectiocontextcard]")}(n.input)||n.input instanceof HTMLInputElement&&c.LectioContextMenu.IsContextCardLectioDropdown(n.input))&&o.push("cc"),p=0,(s=e).shiftKey&&(p|=a.SHIFT),s.altKey&&(p|=a.ALT),s.metaKey&&(p|=a.META),s.ctrlKey&&(p|=a.CTRL),p){case a.SHIFT:var v=i(o,2),g=(l=v[0],v[1]);g?f(g,r):l&&f(l,r);break;case 0:o.length&&f(o[0],r)}m(),n.label.remove()}else 0!==Object.keys(u).filter((function(e){return e.startsWith(t)})).length?e.preventDefault():m()};window.addEventListener("keypress",h,{capture:!0}),window.addEventListener("keydown",p);var m=function(){for(var e in window.removeEventListener("keypress",h),window.removeEventListener("keydown",p),u)u[e].label.remove()}}t.KeyboardNav=u,function(e){e[e.SHIFT=1]="SHIFT",e[e.ALT=2]="ALT",e[e.META=4]="META",e[e.CTRL=8]="CTRL"}(a||(a={}));var f=function(e,t){switch(t.focus(),e){case"click":t.click();break;case"cc":!function(e){var t=e.getBoundingClientRect(),n=t.left+5,r=t.top+5,o=t.top+document.defaultView.scrollY,i=t.left+document.defaultView.scrollX;if(document.createEvent){var a=document.createEvent("HTMLEvents");a.initEvent("contextmenu",!0,!1);var l=a;l.pageX=i,l.pageY=o,l.clientX=n,l.clientY=r,e.dispatchEvent(a)}}(t);break;default:if("type"in e){"openwin"===e.type?window.open(e.url):s.LectioJSUtils.AssertNever(e.type,"action.type");break}s.LectioJSUtils.AssertNever(e,"action")}};$((function(){l.CommandRegistry.RegisterCommand({id:"navigation.easymotion",title:"EasyMotion",execute:function(){var e=document.activeElement;e instanceof HTMLInputElement&&e.blur(),setTimeout((function(){d("default")}),10)},skipAddToHistory:!0},"alt+1"),l.CommandRegistry.RegisterCommand({id:"navigation.easymotionEx",title:"EasyMotion med flere knapper",execute:function(){var e=document.activeElement;e instanceof HTMLInputElement&&e.blur(),setTimeout((function(){d("extended")}),10)},skipAddToHistory:!0},"shift+alt+1"),l.CommandRegistry.RegisterCommand({id:"blur",title:"Forlad fokus",execute:function(){var e=document.activeElement;(e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement)&&e.blur()},skipAddToHistory:!0},"alt+2")}))},23749:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.LCDocumentPresentation=t.RenderKatexToString=t.RectangeContains=t.InstantiateContentRelativeBox=t.GetConsecutive=void 0;var a=n(7151),l=n(96547),s=n(97136),c=n(35671);function u(e,t){for(var n=null,r=0,o=[],i=0;i<e.length;i++){var a=t(e[i]);null!==n&&a!==n&&(o.push({startIndex:r,count:i-r,category:n}),r=i),n=a}return e.length&&o.push({startIndex:r,count:e.length-r,category:n}),o}function d(e){var t=0;return u(e.children,(function(e){return e instanceof HTMLElement&&"section"===e.localName?"pseudo"===e.getAttribute("lec-slide-variant")?"ignore":++t%2==0?"sec-a":"sec-b":"non-section"})).filter((function(e){return"ignore"!==e.category})).map((function(e){return"non-section"!==e.category?{isRealSlide:!0,elementIndex:e.startIndex}:{isRealSlide:!1,elementStartIndex:e.startIndex,elementCount:e.count}}))}function f(e,t){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e),o=(parseInt(r.paddingLeft||"0",10),parseInt(r.paddingTop||"0",10)),i=parseInt(r.paddingRight||"0",10);if(parseInt(r.paddingBottom||"0",10),"right top"===t.position)return{x:n.left+n.width-i+t.x,y:n.top+o+t.y,width:t.width,height:t.height};throw t.position,new Error("bad ContentRelativeBox.position: "+t.position)}function p(e,t,n){return t>=e.x&&t<e.x+e.width&&n>=e.y&&n<e.y+e.height}t.GetConsecutive=u,t.InstantiateContentRelativeBox=f,t.RectangeContains=p;var h=function(){return window.katex};function m(e,t){var n=h();return v(e,(function(e,r){return n.render(e,t,r)}))}function v(e,t){var n=e.match(/^\\\(/)?e.substr(2,e.length-4):e,r=void 0,o=[];try{return{type:"ok",value:t(n,{})}}catch(e){if(!e.message.match(/No such environment: align\b/))return console.error("Fejl fra KaTex.",e,n),{type:"error"};r=n.replace(/{align}/g,"{aligned}"),o.push(["Fejl fra KaTex, forsoeger at erstatte env align med aligned.",e.message,n])}try{return{type:"ok",value:t(r,{})}}catch(e){console.warn("Fejl fra KaTex efter tilretning af input.",e,"Advarselshistorik for denne formel:",o)}return{type:"error"}}t.RenderKatexToString=function(e){var t=h();return v(e,(function(e,n){return t.renderToString(e,n)}))};var g=function(){function e(t){var n=this;this.projectorWindow=null,this.currentSlide=0;var r=$("#"+t),o=$("*[data-local-id=content]",r);this.presentationIdCons=t,this.presentation=r,this.slideParent=o;var i=$("*[data-local-id=topnavouter]"),a=this.presentation.find("*[data-local-id=topnav]");0===a.length&&console.debug("Pres ".concat(t,": Fandt ikke topnav - ingen knapper.")),this.statusBar=a.find("*[data-local-id=navigation_page_status]"),this.topnav=a.add(i),this.topnavouter=i,this.topnavinner=a,this.slideControl=this.presentation.find("*[data-local-id=slide_control]"),this.topnav.on("click","*[data-command]",(function(t){var r=t.currentTarget.getAttribute("data-command");switch(r){case"fullscreen_enter":n.ToggleFullscreen(),setTimeout((function(){return e.SetSlideShowEnabled(n.presentationIdCons,!0)}),100);break;case"navigate_next":n.GoToNextSlide();break;case"navigate_previous":n.GoToPreviousSlide();break;default:return console.warn('Ukendt kommando "'+r+'".'),!1}return t.preventDefault(),t.stopPropagation(),!0})),this.presentation.keydown((function(t){switch(t.which){case 27:return e.SomethingIsFullScreen()&&n.ToggleFullscreen(),t.preventDefault(),!1;case 37:return!!n.IsSlideMode()&&(n.GoToPreviousSlide(),t.preventDefault(),!1);case 39:return!!n.IsSlideMode()&&(n.GoToNextSlide(),t.preventDefault(),!1);default:return!0}}))}return e.AttachOnCopyIconClickListener=function(e,t){s.LectioJSUtils.AssertArgument(e instanceof HTMLElement,"displayFragment instanceof HTMLElement"),e.addEventListener("click",(function(n){var r=n.target;if(r instanceof HTMLElement&&("h1"===r.localName||"h2"===r.localName||"h3"===r.localName)&&r.parentElement===e){var o=f(r,{position:"right top",x:-6,y:0,width:22,height:22}),i=p(o,n.x,n.y);if(i){var a=r.getAttribute("id");if(!a)throw new Error("rod-header uden ID?");console.log("in box: ",i,o,n),t({id:a})}}}))},e.Init=function(){$(document).ready((function(){$(".lc-document-slide").css({"overflow-y":"auto","overflow-x":"hide"})}))},e.Initialize=function(){var e,t;if(h())try{for(var n=r(c.HtmlUtilities.PretendArray(document.querySelectorAll(".lc-math-tex"))),o=n.next();!o.done;o=n.next()){var i=o.value;m(i.innerText,i)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}l.LCDocumentPresentationAudioPlayer.Init()},e.GetAncestorSpacing=function(e,t){var n=window.getComputedStyle(e),r={tag:e.nodeName,class:e.className,paddingTop:n.paddingTop,marginTop:n.marginTop,height:n.height},a=e.parentElement&&0!==t?this.GetAncestorSpacing(e.parentElement,t?t-1:void 0):[];return i(i([],o(a),!1),[r],!1)},e.InitializeDocument=function(t){if(e.currentSlideShows[t])throw new Error("Præsentationen er initaliseret.");var n=new e(t);e.currentSlideShows[t]=n,e.SetSlideShowEnabled(t,!1),n.SetFullScreenCommandState(!1),window.addEventListener("message",(function(t){if(t.data&&"LCDocumentPresentation"===t.data.area){var n=t.data.data,r=e.GetSinglePresentation();r&&r.IsSlideMode()&&r.ProcessIncoming(n)}}))},e.prototype.SetFullScreenCommandState=function(e){e?this.topnavinner.show(0):this.topnavinner.hide(0)},e.SomethingIsFullScreen=function(){return!!e.GetFullScreenElement()||$(document.body).hasClass("lc-display-maxview")},e.GetFullScreenElement=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},e.prototype.UpdateFullScreenScale=function(){if(0!==this.topnav.length){var t=this.topnav.height();"number"!=typeof t&&console.log("LCDocumentPresentation.ts: ikke tal?",t);var n=window.innerWidth,r=(n-2)/600,o=(window.innerHeight-t)/450,i=Math.min(r,o),l="";600>n&&(l="translateX("+(600-n+1)/2*-1+"px)"),e.stylesheet||(e.stylesheet=a.CssUtil.CreateDynamicStylesheet("lc"));for(var s=e.stylesheet,c=l+"scale("+i+")",u=s.rules||s.cssRules,d=u.length-1;d>=Math.max(u.length-10,0);d--)-1!==u[d].selectorText.indexOf(this.presentationIdCons)&&s.deleteRule(d);if(this.IsSlideMode()||!(i>=1)){u=s.rules||s.cssRules;var f="#"+this.presentationIdCons+".lc-display-fullscreen section.lc-document-slide",p=["transform: "+c,"-webkit-transform: "+c];s.insertRule(f+" { "+p.join("; ")+" }",u.length)}}},e.prototype.ToggleFullscreen=function(){var t=this;e.fullScreenChangeSub||(e.fullScreenChangeSub=new Rx.Subject,e.fullScreenLeaveObs=e.fullScreenChangeSub.where((function(t){return!e.SomethingIsFullScreen()})),$(document).bind("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange msfullscreenchange",(function(t){e.fullScreenChangeSub.onNext(void 0)})));var n,r=0!==["requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","webkitRequestFullScreen","webkitEnterFullScreen"].filter((function(e){return e in document.body})).length,o=function(){t.SetFullScreenCommandState(!0),t.presentation.addClass("lc-display-fullscreen"),r||$(document.body).addClass("lc-display-maxview"),t.UpdateFullScreenScale();var n=e.fullScreenLeaveObs.take(1);Rx.Observable.fromEvent(window,"resize").throttle(200).takeUntil(n).subscribe((function(e){return t.UpdateFullScreenScale()}))},i=function(){t.SetFullScreenCommandState(!1),t.presentation.removeClass("lc-display-fullscreen"),$(document.body).removeClass("lc-display-maxview"),n&&n.dispose()};if(e.SomethingIsFullScreen()){var a=document;if(r)if(document.exitFullscreen)document.exitFullscreen();else if(a.msExitFullscreen)a.msExitFullscreen();else if(a.mozCancelFullScreen)a.mozCancelFullScreen();else{if(!a.webkitExitFullscreen)throw new Error("Uventet fuldskaermshaandtering. !SomethingIsFullScreen.");a.webkitExitFullscreen()}else i()}else{n=e.fullScreenChangeSub.subscribe((function(){e.SomethingIsFullScreen()?(e.SetSlideShowEnabled(t.presentationIdCons,!0),o()):(i(),e.SetSlideShowEnabled(t.presentationIdCons,!1))}));var l=this.presentation[0],s=l;if(r)if(l.requestFullscreen)l.requestFullscreen();else if(s.msRequestFullscreen)s.msRequestFullscreen();else if(s.mozRequestFullScreen)s.mozRequestFullScreen();else if(s.webkitRequestFullscreen)s.webkitRequestFullscreen(s.ALLOW_KEYBOARD_INPUT);else if(s.webkitRequestFullScreen)s.webkitRequestFullScreen(s.ALLOW_KEYBOARD_INPUT);else{if(!s.webkitEnterFullScreen)throw new Error("Uventet fuldskaermshaandtering. SomethingIsFullScreen.");s.webkitEnterFullScreen(s.ALLOW_KEYBOARD_INPUT)}else o();this.presentation.focus()}},e.GetSinglePresentation=function(){for(var e in this.currentSlideShows)return this.currentSlideShows[e];return null},e.OpenProjectorWindow=function(){var t=e.GetSinglePresentation();if(t){var n=window.open(location.href,"","width=760,height=600");t.projectorWindow=n}},e.SetSlideShowEnabled=function(t,n){var r=e.currentSlideShows[t];if(!r)throw new Error("Ikke initialiseret.");n?(e.currentSlideShows[t]=r,r.slideParent.addClass("lc-display-slidemode"),r.ShowSlide(0)):r.ExitSlideShow(),r.UpdateFullScreenScale()},e.prototype.IsSlideMode=function(){return this.slideParent.hasClass("lc-display-slidemode")},e.prototype.ExitSlideShow=function(){this.slideParent.removeClass("lc-display-slidemode"),this.slideControl.css("visibility","hidden"),this.slideParent.removeClass("lc-presentation-content-slidemode")},e.prototype.GetSlideCount=function(){return d(this.slideParent.get(0)).length},e.prototype.IsFirstSlide=function(e){return 0===e},e.prototype.IsLastSlide=function(e){return e===this.GetSlideCount()-1},e.prototype.GetSlideContent=function(e){var t=this.slideParent.get(0),n=d(t);if(e<0||e>=n.length)throw new Error("grimt indeks");var r=n[e];if(r.isRealSlide){var o=t.children[r.elementIndex];if(!(o instanceof HTMLElement&&"section"===o.localName))throw new Error("ikke section.");return o}for(var i=document.createDocumentFragment(),a=r.elementStartIndex;a<r.elementStartIndex+r.elementCount;a++){var l=t.children[a];i.appendChild(l.cloneNode(!0))}return i},e.prototype.ShowSlide=function(e){this.slideParent.children("section[lec-slide-variant]").remove(),this.slideParent.children("section").css("display",""),this.slideControl.css("visibility","");var t,n=this.GetSlideContent(e);if(n instanceof HTMLElement?this.slideParent.addClass("lc-display-has-slide"):this.slideParent.removeClass("lc-display-has-slide"),n instanceof HTMLElement)t=n;else{var r=this.slideParent.get(0),o=document.createElement("section");o.setAttribute("lec-slide-variant","pseudo"),o.appendChild(n),r&&r.appendChild(o),t=o}t.style.display="inherit",this.statusBar.html(e+1+" / "+this.GetSlideCount()),this.currentSlide=e,this.IsFirstSlide(e),this.IsLastSlide(e)},e.prototype.Navigate=function(e){this.ShowSlide(e)},e.prototype.IsCommandAvailable=function(e){var t=this.topnav.find("*[data-command="+e+"]");0===t.length&&console.warn("Kommando "+e+" ikke fundet."),t.parent().is(":visible")},e.prototype.SetCommandVisibility=function(e,t){var n=this.topnav.find("*[data-command="+e+"]");0===n.length&&console.warn("Kommando "+e+" ikke fundet."),n.parent().css("visibility",t?"":"hidden")},e.prototype.SetCommandDisplay=function(e,t){var n=this.topnav.find("*[data-command="+e+"]");0===n.length&&console.warn("Kommando "+e+" ikke fundet."),n.parent().css("display",t?"":"none")},e.prototype.GoToPreviousSlide=function(e){void 0===e&&(e=!1),this.IsFirstSlide(this.currentSlide)||(this.Navigate(this.currentSlide-1),e||this.Publish({Type:"GoToSlide",SlideNo:this.currentSlide}))},e.prototype.GoToNextSlide=function(e){void 0===e&&(e=!1),this.IsLastSlide(this.currentSlide)||(this.Navigate(this.currentSlide+1),e||this.Publish({Type:"GoToSlide",SlideNo:this.currentSlide}))},e.prototype.ProcessIncoming=function(e){switch(e.Type){case"GoToSlide":var t=e.SlideNo;if(!this.IsSlideMode())break;this.Navigate(t);break;default:console.warn("Ukendt: "+e.Type)}},e.prototype.Publish=function(e){var t={area:"LCDocumentPresentation",data:e};s.LectioJSUtils.LogDebug("Publish",t),window.opener&&!window.opener.closed&&window.opener.postMessage(t,location.origin),this.projectorWindow&&!this.projectorWindow.closed&&this.projectorWindow.postMessage(t,location.origin)},e.fullScreenChangeSub=null,e.fullScreenLeaveObs=null,e.currentSlideShows={},e}();t.LCDocumentPresentation=g},96547:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LCDocumentPresentationAudioPlayer=void 0;var r=n(97136),o=function(){function e(){}return e.Init=function(){++e.initCount>1?r.LectioJSUtils.LogDebug("audio double init...x"):(window.location.pathname,$((function(){var e;$(document).on("click","img[data-embed-xhtml]",(function(e){var t=e.target,n=t.getAttribute("data-embed-xhtml");r.LectioJSUtils.AssertNotNullOrEmpty(n,"xhtml"),$(n).insertAfter(t).addClass("ls--video"),$(t).css("display","none")})),function(e){e[e.None=0]="None",e[e.Waiting=1]="Waiting",e[e.Playing=2]="Playing",e[e.PausedEx=3]="PausedEx",e[e.Error=4]="Error",e[e.Ended=5]="Ended"}(e||(e={}));var t,n=new Rx.Subject;$(document).on("click",'img[data-lc-type="audio"]',(function(r){var o=r.target,i=o.getAttribute("data-lc-resource");if(!i)throw new Error("Mangler data-lc-resource.");var a=function(){if(!t){var e=document.createElement("audio");e.setAttribute("id","lectioaudio"),document.body.appendChild(e);var r={audioElement:e,on:function(t){return Rx.Observable.fromEvent($(e),t).takeUntil(n)},errors:[],reset:function(){e.pause(),e.src="",n.onNext(null),this.errors=[]}};r.on("error").subscribe((function(e){if(r.errors.push(e),r.errors.length>100){var t=r.errors.slice(r.errors.length-40,r.errors.length);r.errors=r.errors.slice(0,50).concat(t)}console.log("audioerror",e)})),t=r}return t}();if(-1!==a.audioElement.src.indexOf(i)){var l=function(t){var n=t.audioElement,r=n.readyState,o=n.paused,i=0===r||1===r||2===r||o,a=r>=1&&n.currentTime===n.duration;return n.paused||a||0!==t.errors.length||i?o?e.PausedEx:a?e.Ended:t.errors.length?e.Error:e.Waiting:e.Playing}(a);if(l===e.Playing||l===e.Ended)a.audioElement.pause();else if(l===e.PausedEx)a.audioElement.play();else if(l===e.Error){var s=a.audioElement.src;a.reset(),a.audioElement.src=s,a.audioElement.play()}else console.log("audio kan ikke starte/stoppe",l,a.audioElement)}else a.reset(),a.on("error play pause ended").subscribe((function(e){var t;$(a.audioElement).trigger({type:"lectioaudio",audioEventType:e.type,data:e}),t="play"===e.type?"/lectio/img/audiopause24x24.auto":"/lectio/img/audioplay24x24.auto",o.src=t})),a.audioElement.src=i,a.audioElement.play()}))})))},e.initCount=0,e}();t.LCDocumentPresentationAudioPlayer=o},35372:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.LectioAlertBox=void 0;var i=n(97136),a=function(){function e(){}return e.ShowAlerts=s,e.RegisterAlerts=l,e}();function l(e,t){var n=i.LectioJSUtils.CreateDeferred(),r=function(){setTimeout((function(){s(e,t).then((function(){return n.resolve(void 0)}))}),10)};return"complete"===document.readyState?r():$(window).ready(r),n.promise()}function s(e,t){var n,a=(n=/(?:(?:\<\.\w+\>)|\w|(?:[<][\w\.>])|[>\[\]`])+/.toString()).substr(1,n.length-2),l=new RegExp(a,"g"),s=function(e,t){if(e!==(t.match(l)||[]).join(" "))throw new Error("exp="+e+", act="+t)};s("Macom SomeClass method1","Macom.SomeClass.method1"),s("Macom SomeClass Method1[TReturn]","Macom.SomeClass.Method1[TReturn]"),s("Macom SomeClass Method1`3","Macom.SomeClass.Method1`3"),s("Macom SomeClass <>c <.cctor>b__48_0","Macom.SomeClass.<>c.<.cctor>b__48_0"),s("","<");var c=new RegExp("^([ \\w]+ )((?:".concat(a,"\\.)*)(").concat(a,")(\\(.+)")),u=function(e){var t,n,o=e.map((function(e){if("unk"===e.variant)return e;var t=[{p:"Oracle.DataAccess",g:"OraCthulhu"},{p:"OpenDataReader",g:"OpenDataReader"},{p:"OracleUtility.Execute",g:"OpenDataReader"},{p:"DatabaseConnector",g:"DatabaseConnector"}].filter((function(t){var n=t.p;return t.g,-1!==e.fqMethod.indexOf(n)}))[0];return t?(e.group=t.g,e):e})),a=[];try{for(var l=r(o),s=l.next();!s.done;s=l.next()){var c=s.value;switch(c.variant){case"unk":a.push(c);break;case"method":if(!c.group){a.push(c);break}if(!a.length){a.push({variant:"grouplist",grouplist:[c.group]});break}var u=a[a.length-1];"grouplist"===u.variant?u.grouplist[u.grouplist.length-1]!==c.group&&u.grouplist.push(c.group):a.push({variant:"grouplist",grouplist:[c.group]});break;default:i.LectioJSUtils.AssertNever(c,"al")}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return a.map((function(e){if("grouplist"==e.variant)return{variant:"unk",content:"["+e.grouplist.join(" ← ")+"]<br/>"};if("unk"===e.variant)return e;var t=e.typeAndMethodPostfix.match(/^\([^\)]+\)(.*)/);return t&&(e.typeAndMethodPostfix="()"+t[1]),e}))}(e.split(/\r?\n/).map((function(e){var t=e.replace(/&lt;/g,"<").replace(/&gt;/g,">").match(c);if(!t)return{variant:"unk",content:e};var n=o(t,5),r=n[1],i=n[2],a=n[3];return{variant:"method",fqMethod:i+a,typeAndMethod:a,typeAndMethodPrefix:r+i,typeAndMethodPostfix:n[4]}}))).map((function(e){return"unk"===e.variant?e.content:'<div class="ls-alertbox-stacktraceline">'+e.typeAndMethodPrefix+"<strong>"+e.typeAndMethod.replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</strong>"+e.typeAndMethodPostfix+"</div>"})).join("\r\n"),d=$(u).appendTo("body"),f=d.children(),p=0,h=t?function(e){var t=e.attr("data-title"),n=e.text();alert(t+"\n\n"+n),v()}:function(e){var t=$(document).width()-40;t>560&&(t=560),e.css({"text-align":"left","max-width":t+"px","min-width":"340px"}),e.dialog({title:e.attr("data-title"),appendTo:"#aspnetForm",modal:!0,width:"auto",height:"auto",buttons:{Ok:function(){e.dialog("close")}},close:function(){e.dialog("destroy"),v()},open:function(e){if(!e.target)throw new Error("e.target mangler.");var t=$(e.target).parent(),n=t.find("button").filter(':contains("Ok")');setTimeout((function(){return n.focus()}),100),t.keypress((function(e){13===e.keyCode&&n.click()})),function(e,t){var n=$("<div class='ui-dialog-copyclipboard'><a href='#'>Kopier</a></div>"),r=e.find("div#ui-id-1").text();if(n.click((function(){try{i.LectioJSUtils.CopyStringToClipboard(r),window.alert("Dataene er nu kopieret til udklipsholderen og kan indsættes.")}catch(e){window.alert(e)}})),r.length>1e3){var o=t.parent().parent();n.appendTo(o)}}(t,n)}}),e.css("max-height","70vh"),e.dialog("widget").position({my:"center",at:"center",of:window})},m=i.LectioJSUtils.CreateDeferred();function v(){if(p>=f.length)m.resolve(void 0);else{var e=$(f[p]);p++,h(e)}}return v(),d.remove(),m.promise()}t.LectioAlertBox=a},46324:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LectioButton=void 0;var n=function(){function e(){}return e.EnsureHiddenInputForPostback=function(e,t){var n=$('*[name="'+t+'"]');0===n.length&&(n=$('<input type="hidden" name="'+t+'" value="1" />'),$(e).after(n))},e}();t.LectioButton=n},68166:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LectioCKEditor=void 0;var n=function(){function e(){}return e.Initialize=function(){$.widget("ui.dialog",$.ui.dialog,{_allowInteraction:function(e){if(this._super(e))return!0;if(!e.target)throw new Error("e.target mangler.");return e.target.ownerDocument!==this.document[0]||!!$(e.target).closest(".cke_dialog").length||!!$(e.target).closest(".cke").length}})},e}();t.LectioCKEditor=n},47813:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LectioChart=void 0;var r=n(5865);(t.LectioChart||(t.LectioChart={})).Draw=function(e,t){var n=JSON.parse(t),o=n.displayOptions;if(o.credits={enabled:!1},o.chart){"heatmap"==o.chart.type.toLowerCase()&&(o.tooltip||(o.tooltip={}),o.tooltip.formatter=function(){return n.usePointNameTooltip?this.point.name:"<b>"+this.series.xAxis.categories[this.point.x]+","+this.series.yAxis.categories[this.point.y]+":</b>"+this.point.value});var i="columnrange"==o.chart.type.toLowerCase(),a=null!=o.yAxis&&null!=o.yAxis.type&&"datetime"==o.yAxis.type.toLowerCase();i&&a&&(o.tooltip||(o.tooltip={}),o.tooltip.formatter=function(){return'<b><span style="color:'+this.series.color+'">'+this.point.category+"</span></b><br/>"+new r.LectioDate(new Date(this.point.low)).ToLectioDateString()+"-"+new r.LectioDate(new Date(this.point.high)).ToLectioDateString()})}$("#"+e).highcharts(o,(function(e){if(n.extras){var t={},r=function(e,n,r){n.attr({"data-id":r.extraid}),r.tooltip&&n.attr({title:r.tooltip}),function(e,n){var r;null!==(r=t[e])&&void 0!==r||(t[e]=[]),t[e].push(n)}(e,n.add())};n.extras.rects&&$.each(n.extras.rects,(function(t,n){var o=e.renderer.rect(e.plotWidth+e.plotLeft+n.x,n.y,n.width,n.height,n.cornerradius).attr(n.attr);r(n.container.id,o,n)})),n.extras.texts&&$.each(n.extras.texts,(function(t,n){var o=e.renderer.text(n.str,n.x,n.y).attr(n.attr);r(n.container.id,o,n)})),n.extras.containers&&$.each(n.extras.containers,(function(n,r){var o=t[r.id];if(o){var i=o.map((function(e){return e.getBBox()})),a=$.makeArray(i.map((function(e){return e.x}))),l=Math.min.apply(null,a),s=$.makeArray(i.map((function(e){return e.x+e.width}))),c=Math.max.apply(null,s)-l,u=$.makeArray(i.map((function(e){return e.y}))),d=Math.min.apply(null,u),f=$.makeArray(i.map((function(e){return e.y+e.height}))),p=Math.max.apply(null,f)-d,h=null!=r.margin?r.margin:5,m=null!=r.cornerradius?r.cornerradius:5,v=e.renderer.rect(l-h,d-h,c+2*h,p+2*h,m).attr(r.attr).add();if(r.borderText){var g=v.getBBox();e.renderer.text(r.borderText,g.x+2,g.y-4).add()}}}))}}))}},2666:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LectioChat=void 0;var r=n(97136);(t.LectioChat||(t.LectioChat={})).Init=function(){r.LectioJSUtils.PostCurrentPageApi("PrepareWebsocket",{}).then((function(){var e=new WebSocket("wss://wpc-rasmus.macom.dk/lectio/941/test/chat.api/StartMessageLoop");e.onmessage=function(e){return console.log("got msg",e)},e.onopen=function(e){return console.log("ws open",e)},e.onerror=function(e){return console.log("ws err",e)},window.chatsocket=e}))}},39501:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InitLectioCheckBox=void 0;var r,o=n(97136);function i(e){var t=$(e),n=t.next(),r=!("1"==n.val()),o=t.attr("src"),i=o.replace(/_(checked|unchecked)/,(function(e){return"_"+("_checked"===e?"unchecked":"checked")}));if(i===o)throw new Error("lectiocheckbox img src genkendes ikke: "+o);t.attr("src",i),n.val(r?"1":"0")}t.InitLectioCheckBox=function(){r||(r=!0,$(document).on("click","img[data-role=cb]",(function(e){e.stopPropagation(),i(o.LectioJSUtils.GetAssertedType(e.target,HTMLImageElement,"img"))})),$(document).on("keypress","img[data-role=cb]",(function(e){" "===e.key&&(e.stopPropagation(),e.preventDefault(),i(o.LectioJSUtils.GetAssertedType(e.target,HTMLImageElement,"img")))})))}},67567:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LectioClientDevSettings=t.Reg=t.settingDefinitions=void 0;var r=n(13249),o=n(97136);t.settingDefinitions={};var i,a,l=function(e){this.name=e};t.Reg=l,function(e){function n(e,t){var n=window.sessionStorage[e];if(void 0!==n){if("string"!=typeof n)throw new Error("Vaerdi er ikke string?");switch(t){case"boolean":if("true"===n)return!0;if("false"===n)return!1;throw new Error("ikke bool string: "+n);case"string":return n;default:throw new Error("uhaandteret datatype: "+t)}}}function r(e,n){var r=t.settingDefinitions[e];if(!r)throw new Error("Ikke registreret?");var o=null;switch(r.datatype){case"boolean":if("boolean"!=typeof n)throw new Error("er ikke boolean.");o=n?"true":"false";break;case"string":if("string"!=typeof n)throw new Error("er ikke string.");o=n;break;default:throw r.datatype,new Error("uhaandteret datatype: "+r.defaultValue)}if("string"!=typeof o)throw new Error("er ikke string.");window.sessionStorage[e]=o}e.RegisterSettingImpl=function(e,n,r,i){o.LectioJSUtils.AssertNotNullOrEmpty(e,"name"),o.LectioJSUtils.AssertNotNullOrEmpty(n,"name");var a="dev-"+e+"."+n;if(t.settingDefinitions[a])throw new Error("allerede defineret: "+a);return t.settingDefinitions[a]={datatype:r,defaultValue:i},new l(a)},e.GetSettingValue=function(e){if(o.LectioJSUtils.AssertNotNullOrUndefined(e,"setting"),!(e instanceof l))throw new Error("er ikke Reg");var r=t.settingDefinitions[e.name];if(!r)throw new Error("Ikke registreret?");var i=n(e.name,r.datatype);return void 0===i?r.defaultValue:i},e.GetCurrentSettings_Array=function(){return Object.keys(t.settingDefinitions).map((function(e){var r=t.settingDefinitions[e],o=n(e,r.defaultValue);return{key:e,effectiveValue:void 0!==o?o:r.defaultValue}}))},e.GetCurrentSettings_Object=function(){var e={};for(var r in t.settingDefinitions){var o=t.settingDefinitions[r],i=n(r,o.defaultValue);e[r]=void 0!==i?i:o.defaultValue}return e},e.ClearSettings=function(){for(var e in t.settingDefinitions)window.sessionStorage.removeItem(e)},e.SetSettingValue=function(e,t){if(o.LectioJSUtils.AssertNotNullOrUndefined(e,"setting"),!(e instanceof l))throw new Error("er ikke Reg");r(e.name,t)},e.SetSettingValueCore=r}(i=t.LectioClientDevSettings||(t.LectioClientDevSettings={})),a||(a={}),$((function(){var e=i.RegisterSetting("Appearance","EnableDarkTheme","boolean",!1);i.GetSettingValue(e)&&document.body.setAttribute("data-theme","dark"),r.CommandRegistry.RegisterCommand({id:"appearance.toggleDarkTheme",title:"Toggle mørkt skin",execute:function(){var t=i.GetSettingValue(e);document.body.setAttribute("data-theme",t?"":"dark"),i.SetSettingValue(e,!t)}})})),i.RegisterSetting=i.RegisterSettingImpl},69162:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LectioCluetips=void 0;var r=n(97136),o=function(){function e(){}return e.Initialize=function(){$((function(){$.cluetip.defaults.hoverIntent.interval=100,$.cluetip.defaults.width=310,$.cluetip.defaults.showTitle=!1,$.cluetip.defaults.waitImage=!1,$("[data-additionalInfo]").each((function(e,t){var n=$(t);if(n.cluetip((function(){return r.LectioJSUtils.TooltipHtmlToHtml(n.attr("data-additionalInfo"))}),{}),e>500)return!1}))}))},e}();t.LectioCluetips=o},58200:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LectioCollapsiblePanel=void 0;var n=function(){function e(){}return e.LectioCollapsiblePanel_Toggle=function(e,t,n){var r=$("#"+e),o=$("#"+e+"_hp");"none"===r.css("display")?(r.css("display",""),o.html(n)):(r.css("display","none"),o.html(t))},e.LectioCollapsiblePanel_ToggleIcon=function(e,t,n){var r=$("#"+e),o=$("#"+e+"_hp");"none"===r.css("display")?(r.css("display",""),o.html('<img src="'+n+'">')):(r.css("display","none"),o.html('<img src="'+t+'">'))},e}();t.LectioCollapsiblePanel=n},80693:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LectioConfirmBox=void 0;var r=n(85964);!function(e){var t,n;function o(e,o){var i=n;n=void 0;var a=$("<div>"+o+"</div>").appendTo("body"),l=r.LectioJSUtils.CreateDeferred();function s(e){a.dialog("destroy"),a.remove(),t=void 0,l.resolve(e)}return a.css({"text-align":"left","max-width":"15cm","min-width":"9cm"}),a.dialog({title:e,modal:!0,width:"auto",height:"auto",buttons:{Ja:function(){return s(!0)},Nej:function(){return s(!1)}},close:function(){return s(!1)}}),t={title:e,questionHtml:o,resolve:function(e){return s(e)}},i&&i(),l.promise()}e.RegisterConfirm=function(e,t,n,r){var i=function(){setTimeout((function(){o(e,t).then((function(e){if(!0===e)n();else{if(!1!==e)throw new Error("huh? RegisterConfirm "+e);r()}}))}),10)};"complete"===document.readyState?i():$(window).ready(i)},e.ShowConfirm=function(e,t){return o(e,t)},e.Test_TryGetCurrentlyShowDialogQuestionHtmlAsync=function(){var e=r.LectioJSUtils.CreateDeferred();return t?e.resolve(t.questionHtml):n=function(){if(!t)throw new Error("Hvorfor vaekkede du mig?");e.resolve(t.questionHtml)},e.promise()},e.Test_SetCurrentlyShowDialogResult=function(e){if(!t)throw new Error("Der bliver ikke vist en dialog.");t.resolve(e)}}(t.LectioConfirmBox||(t.LectioConfirmBox={}))},79112:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function l(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},__generator=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(e){l=[6,e],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},__read=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(exports,"__esModule",{value:!0}),exports.LectioContextMenu=void 0;var GuiMisc_1=__webpack_require__(95612),lectiolib_1=__webpack_require__(85964),LectioContextMenu,lastContextCard;function GetSingle(e){var t=GetSingleOrDefault(e);if(!t)throw new Error("har ikke elementer.");return t}function GetSingleOrDefault(e){if(0===e.length)return null;if(e.length>1)throw new Error("har >1 elementer");var t=e.get(0);if(!(t instanceof Element))throw new Error("har ikke Element");return t}function ParseSingleElement(e){var t=(new DOMParser).parseFromString(e,"text/html").body.firstElementChild;if(!t)throw new Error("Ikke noget element efter parse.");return t}function TryGetLectioDropDownData(e){if(e.matches(".ac_input")&&$(e).nextAll(":input").first().is(":hidden")){var t=lectiolib_1.LectioJSUtils.GetAssertedType($(e).nextAll(":input").first().get(0),HTMLInputElement,"html input"),n=t.value;if(n&&n.length>2){if(n.match(/^[^\d]+\d+/))return{ccId:n};var r=t.getAttribute("lec-ddcc-prefix");if(r)return{ccId:r+n}}return"naesten"}return null}(function(LectioContextMenu){var activeContextMenu,currentMenuCallbackSet;function Initialize(e,t,n,r){var o=this;lectiolib_1.CommandRegistry.RegisterCommand({id:"TableSearch",title:"Tabelsøgning",execute:function(e){return __awaiter(o,void 0,void 0,(function(){var t,n,r;return __generator(this,(function(o){switch(o.label){case 0:return e.Argument?(t=e.Argument,[3,3]):[3,1];case 1:return[4,lectiolib_1.CommandRegistry.PromptUserForElementSelection({prompt:"Klik på en tabel",promptTitle:"Tabelsøgning",selector:"table[id]"})];case 2:if("notfound"===(n=o.sent()))return[2,{}];t=n.id,o.label=3;case 3:return null==t||(e.ArgumentDerivedByCommand=t,r=lectiolib_1.LectioJSUtils.GetAssertedType(document.getElementById(t),HTMLTableElement,"table"),GuiMisc_1.GuiMisc.ShowTableFilter(r)),[2,{}]}}))}))}});var i=function(o){HideContextMenu();var i=o.target;if(!i)return!0;var a=function(){if(i instanceof Element)return i;throw new Error("huh, target er ikke element?")}(),l=function(){if("click"===o.type||"contextmenu"===o.type)return o.type;throw new Error("huh, hvad er det for en event? type='".concat(o.type,"'."))}(),s=0;do{if(++s>50)throw new Error("wtf?");if(!a)break;var c=a.getAttribute("data-lectioContextCard");if(c&&c.length>2&&t&&n&&"contextmenu"===l)return o.stopPropagation(),o.preventDefault(),ShowContextCardAsync(t,c,n,o,void 0,!1),!1;var u=a instanceof HTMLElement&&TryGetLectioDropDownData(a);if(u&&t&&n&&e&&"contextmenu"===l)return"naesten"==u||(o.stopPropagation(),o.preventDefault(),ShowContextCardAsync(t,u.ccId,n,o,void 0,!0),!1);if(a.matches(".lec-context-menu-instance")&&e&&("contextmenu"===l||"click"===l&&a.matches(".lec-context-menu-onclick"))){var d=GetContextMenuContent(a);if(!d)continue;return o.stopPropagation(),o.preventDefault(),PrepareAndShowMenu(null,!1,o,d,void 0),!1}if(a.matches("[data-role=button]")&&"click"===l){var f=a;if(!(f instanceof HTMLElement))throw new Error("curr er ikke htmlelement.");var p=f.getAttribute("data-command");if(!p)continue;if(o.stopPropagation(),o.preventDefault(),"LbgShow"===p)PrepareAndShowMenu(f,r,null,null,void 0);else{if("menuhandler"===p){if(!currentMenuCallbackSet)throw new Error("har ikke callback set?");var h=lectiolib_1.LectioJSUtils.GetNotNullValue(a.getAttribute("data-menu-key"));return lectiolib_1.LectioJSUtils.GetNotNullValue(currentMenuCallbackSet[h])(),!1}var m=f.getAttribute("data-command-argument")||void 0;lectiolib_1.CommandRegistry.ExecuteCommand(p,m)}}}while(a=a.parentElement);return!0};$(document).ready((function(){document.body.addEventListener("click",i),document.body.addEventListener("contextmenu",i)}))}function PrepareAndShowMenu(buttonLink,allowTableSearch,eventForPlacement,lecContextMenu,handlers){var _a,thingForPlacement,content;if(buttonLink){var buttonForPlacement=$(buttonLink).closest(".button, .buttonlink, .buttonicon"),menuOrDefault=GetSingleOrDefault(buttonForPlacement.next(".lec-context-menu"));content=menuOrDefault||ParseSingleElement('<div class="lec-context-menu"><ul></ul></div>'),thingForPlacement=GetSingle(buttonForPlacement);var jj=$(content),ancestorisland=buttonForPlacement.closest(".island");if(ancestorisland.length&&allowTableSearch){var ele=ancestorisland.get(0);if(ele){var t0=GuiMisc_1.GuiMisc.TryFindTable(ele);if(t0){jj.find("li[data-tag=dynamic]").remove();var tableid=t0.id;if(tableid){var html="<li data-role='button' data-command='TableSearch' data-command-argument='".concat(tableid,"' data-tag='dynamic' class='macomonly'> <a>Tabelsøgning</a></li>");null===(_a=content.querySelector("ul"))||void 0===_a||_a.insertAdjacentHTML("beforeend",html)}else console.warn("LectioButtonGroup: Tabel har ikke id - tabelsoegning aktiveres ikke.")}}}if(!content.childElementCount)return}else{if(!lecContextMenu)throw new Error("har ikke menu...");if(content=lecContextMenu,!eventForPlacement)throw new Error("har ikke eventForPlacement");thingForPlacement=eventForPlacement}var documentbody=$(document.body);HideContextMenu(),currentMenuCallbackSet=handlers;var contextMenucontent=$(content).clone(!0,!0).wrap('<div class="lec-context-menu"></div>');activeContextMenu=contextMenucontent,documentbody.append(contextMenucontent);var lis=$("li",contextMenucontent);$.each(lis,(function(_idx,val){var typedval=$(val),p=typedval.attr("oncontextmenushow"),ee=eval("("+p+")");if(ee&&ee.href){var as=$("a",typedval);$.each(as,(function(e,t){$(t).attr("href",ee.href)}))}})),contextMenucontent.css({"z-index":10050,display:"inline-block"}),eventForPlacement?contextMenucontent.position({my:"left top",of:thingForPlacement}):contextMenucontent.position({my:"left top",at:"left bottom",of:thingForPlacement});var onclick=function(){HideContextMenu(),document.removeEventListener("click",onclick,!0)};document.addEventListener("click",onclick,!0)}function GetContextMenuContent(e){var t,n,r;lectiolib_1.LectioJSUtils.AssertNotNullOrUndefined(e,"instance");var o=$(e);if(0===o.length)return null;var i=o.hasClass(".lec-context-menu")?o:null;return i&&i.length>0?null!==(t=i.get(0))&&void 0!==t?t:null:(i=o.next(".lec-context-menu"))&&i.length>0?null!==(n=i.get(0))&&void 0!==n?n:null:(i=o.children(".lec-context-menu"))&&i.length>0&&null!==(r=i.get(0))&&void 0!==r?r:null}function ShowContextMenuEx(e,t,n){if(e.stopPropagation(),e.preventDefault(),0===t.length&&!n)throw new Error("huh: ingen elementer og ingen fallback-tekst?");var r=t.length||!n?t:[{caption:n,action:function(){}}],o=0,i={},a=r.map((function(e){var t,n,r=__read(function(){if("url"in e)return[e.url,"",""];var t="ctx"+ ++o;return i[t]=e.action,["#",t,"menuhandler"]}(),3),a=r[0],l=r[1],s=r[2];return e.iconPath?(t="<img src='".concat(e.iconPath,"' style='margin-right: 3px;'>")+lectiolib_1.LectioJSUtils.HtmlEncode(e.caption),n=" style='display: flex; align-items: center'"):(t=lectiolib_1.LectioJSUtils.HtmlEncode(e.caption),n=""),"<li data-menu-key='".concat(l,"' data-role='button' data-command='").concat(s,"'><a href='").concat(a,"'").concat(n,">").concat(t,"</a></li>")})).join("\n"),l=$('<div class="lec-context-menu">'.concat(a,"</di>"));PrepareAndShowMenu(null,!1,e,lectiolib_1.LectioJSUtils.GetAssertedType(GetSingleOrDefault(l),HTMLElement,"htmlelement"),i)}function HideContextMenu(){null!=activeContextMenu&&(activeContextMenu.remove(),activeContextMenu=void 0),$(".lec-context-menu").is(":visible")&&$(".lec-context-menu").hide()}function IsContextCardLectioDropdown(e){return!!TryGetLectioDropDownData(e)}LectioContextMenu.Initialize=Initialize,LectioContextMenu.GetContextMenuContent=GetContextMenuContent,LectioContextMenu.ShowContextMenuEx=ShowContextMenuEx,LectioContextMenu.IsContextCardLectioDropdown=IsContextCardLectioDropdown})(LectioContextMenu=exports.LectioContextMenu||(exports.LectioContextMenu={}));var contextCardDivId="ctxCardId";function ShowContextCardAsync(e,t,n,r,o,i){$("#"+contextCardDivId).length||$("<div id='"+contextCardDivId+"'></div>").appendTo("body"),lastContextCard&&(lastContextCard.dialog("destroy"),lastContextCard=void 0);var a=$("#"+contextCardDivId);a.html("<div><span class='loadingContextCard'>Henter info...</span></div>");var l=o?{my:"left top",at:"left bottom",of:o,collision:"fit",within:"section.outerContentFrame"}:{my:"left bottom-55%",at:"right bottom",of:r,collision:"fit",within:"section.outerContentFrame"},s=a.dialog({autoOpen:!0,closeOnEscape:!0,title:"",width:430,position:l,resizable:!1,draggable:!0,open:function(){$("div#thumbctrl_largeimg").hide()},close:function(){$("div#thumbctrl_largeimg").hide(),lastContextCard=void 0}});lastContextCard=s,$.ajax({url:e+"/contextcard/contextcard.aspx",data:{lectiocontextcard:t,prevurl:n,ignoreUnsupportedIdTypes:i?"1":"0"},dataType:"html"}).done((function(e,t,n){if(204===n.status&&i)return a.dialog("destroy"),void(lastContextCard=void 0);$(".ui-dialog-title").html($(e).first().text()),a.html(e),lectiolib_1.LectioJSUtils.DispatchBrowserTestEvent("contextCardShown",a.get(0))})).fail((function(e){a.html("Kan ikke vise kontekstkort - der er sket en fejl.")}))}},3297:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LectioCookie=void 0;var r=n(70895);!function(e){function t(e){r.remove(e,{secure:!0,sameSite:"Strict"})}e.GetCookieDomain=function(e){var t=e.match(/[^\.]+\.[^\.]+$/);if(null==t)return null;if(1!==t.length)throw"Bad match for domain '"+e+"'.";return t[0]},e.deleteCookieGlobal=t,e.setCookieGlobal=function(e,n){t(e),r.set(e,n,{path:"/",secure:!0,sameSite:"Strict"})},e.getCookie=function(e){return r.get(e)},e.supportsCookies=function(){return e.setCookieGlobal("ct","1"),null!=e.getCookie("ct")&&(e.deleteCookieGlobal("ct"),!0)}}(t.LectioCookie||(t.LectioCookie={}))},5865:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LectioDate=void 0;var n=function(){function e(e){this.jsDateObj=e}return e.FromDate=function(t){if(1!==arguments.length)throw"Forkert antal argumenter.";return new e(t)},e.Create=function(t,n,r){return new e(new Date(t,n-1,r))},e.ParseExact=function(t){var n=$.datepicker.parseDate(e.jqueryDateFormat,t);return e.FromDate(n)},e.TryParseUserInputCreative=function(t){var n=t.trim();if(0===n.length)return null;if(!this.userInputRegExp2.test(n))return null;var r=n.split(/[\-\/:\ \.,]/,3),o=new Date,i=o.getDate(),a=o.getMonth()+1,l=o.getFullYear();if(1===r.length){var s=r[0];s.length<=2?i=parseInt(s):s.length<=4?(a=parseInt(s.substr(s.length-2)),i=parseInt(s.substr(0,s.length-2))):s.length<=6?(l=parseInt(s.substr(s.length-2))+2e3,a=parseInt(s.substr(s.length-4,2)),i=parseInt(s.substr(0,s.length-4))):s.length<=8&&(l=parseInt(s.substr(s.length-4)),a=parseInt(s.substr(s.length-6,2)),i=parseInt(s.substr(0,s.length-6)))}else if(2===r.length){var c=r[0],u=r[1];i=parseInt(c),a=parseInt(u)}else if(3===r.length){c=r[0],u=r[1];var d=r[2];i=parseInt(c),a=parseInt(u),(l=parseInt(d))<100&&(l+=2e3)}var f=new Date(l,a-1,i);return f.getDate()!==i||f.getMonth()!==a-1||f.getFullYear()!==l?null:e.FromDate(f)},e.TryParseUserInput=function(t){var n=t.match(e.userInputRegExp);if(null===n)return null;var r=parseInt(n[1],10),o=parseInt(n[3],10),i=parseInt(n[5],10);i<100&&(i=(i<30?2e3:1900)+i);var a=new Date(i,o-1,r);return a.getDate()!==r||a.getMonth()!==o-1||a.getFullYear()!==i?null:e.FromDate(a)},e.ParseUserInput=function(t){var n=e.TryParseUserInput(t);if(null===n)throw"Kan ikke parse dato: '"+t+"'.";return n},e.prototype.IsLessThan=function(e){return this.jsDateObj<e.jsDateObj},e.prototype.IsLessThanOrEqual=function(e){return this.jsDateObj<=e.jsDateObj},e.prototype.AddDays=function(t){var n=new Date(this.jsDateObj.getTime());return n.setDate(n.getDate()+t),e.FromDate(n)},e.prototype.Subtract=function(e){return(this.GetJSDate().getTime()-e.GetJSDate().getTime())/864e5},e.prototype.GetJSDate=function(){return new Date(this.jsDateObj.getTime())},e.prototype.GetDate=function(){return this.jsDateObj.getDate()},e.prototype.GetMonth=function(){return this.jsDateObj.getMonth()+1},e.prototype.GetYear=function(){return this.jsDateObj.getFullYear()},e.prototype.ToLectioDateString=function(){return $.datepicker.formatDate(e.jqueryDateFormat,this.jsDateObj)},e.prototype.ToIsoDateString=function(){return $.datepicker.formatDate(e.serializedDateFormat,this.jsDateObj)},e.prototype.ToDDMMYYYY=function(){return $.datepicker.formatDate("ddmmyy",this.jsDateObj)},e.prototype.ToIsoWeekYearString=function(){var e=$.datepicker.iso8601Week(this.jsDateObj),t=(e<10?"0":"")+e.toString(),n=this.GetYear();return e>50&&1===this.GetMonth()?n-=1:1===e&&12===this.GetMonth()&&(n+=1),t+n},e.prototype.toString=function(){return"["+this.ToLectioDateString()+"]"},e.jqueryDateFormat="dd/mm-yy",e.serializedDateFormat="yy-mm-dd",e.userInputRegExp=new RegExp("^ *([0-9]{1,2})([.\\-/]| +)([0-9]{1,2})([.\\-/]| +)([0-9]{2,4}) *$"),e.userInputRegExp2=/^[0-9,\/\-\.\ ]+$/,e}();t.LectioDate=n},27074:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LectioControls=void 0;var r=n(5865),o=n(50541),i=function(){function e(){}return e.InitializeDatePickers=function(){$('input[data-role="datepicker"]').each((function(e,t){return(n=$(t)).change((function(e){return a(n)})),void n.datepicker({onSelect:function(e){return a(n)},defaultDate:n.data("defaultdate")});var n})),jQuery((function(e){e.datepicker&&(s(),l())}))},e}();function a(e,t){var n=e.val(),o=r.LectioDate.TryParseUserInputCreative(n);if(null!=o){var i=o.ToLectioDateString();e.val(i);var a=$("input[type=text][data-altfield='"+e.attr("id")+"']");if(void 0!==e.data("altfield")){var l=$("#"+e.data("altfield")),s=r.LectioDate.TryParseUserInput(l.val());null!=s?s.IsLessThan(o)&&l.val(i):l.val(i),l.datepicker("option","defaultDate",o.GetJSDate())}else if(1===a.length){l=a.eq(0);var c=r.LectioDate.TryParseUserInput(l.val());null!=c&&o.IsLessThan(c)&&l.val(i)}if(e.is("[lectio-behavior~=autopostback]"))window.__doPostBack("","");else{var u=e.data("nextfocuselement");if(null!=u){var d=$("#"+u);d.datepicker("option","defaultDate",o.GetJSDate()),d.length>0&&setTimeout((function(){return d.focus()}),50)}}}}function l(){$(document.body).on("mousewheel",".ui-datepicker",(function(e){var t=$(this),n=e.originalEvent.DOM_DELTA_LINE>0?"ui-datepicker-prev":"ui-datepicker-next";return t.datepicker("widget").find("."+n).click(),e.originalEvent.returnValue=!1,!1})),$(document.body).on("change",'input[type=text][lectio-behavior~="dctime"]',(function(){var e=$(this),t=o.LectioTimeSpan.TryParseUserInput(e.val());return null!==t&&(e.val(t.ToLectioTimeSpanString()),!0)})),$(document.body).on("mousewheel keydown",'input:focus[type=text][lectio-behavior~="dctime"]',(function(e){var t,n=$(this);if(!n.is(":enabled")||n.attr("readonly"))return!1;if("mousewheel"===e.type)t=15*(e.originalEvent.DOM_DELTA_LINE>0?-1:1);else{if("keydown"!==e.type)throw new Error("??");if(e.keyCode===$.ui.keyCode.DOWN)t=-15;else{if(e.keyCode!==$.ui.keyCode.UP)return!0;t=15}}var r=o.LectioTimeSpan.TryParseUserInput(n.val());if(null===r)return!1;function i(e){var t,n=e.GetTotalMinutes();if(n<0)t=o.LectioTimeSpan.Create(0,0);else if(n>=1440)t=o.LectioTimeSpan.Create(23,59);else{var r,i=e.GetMinutes();r=i<15?0:i<30?15:i<45?30:45,t=o.LectioTimeSpan.Create(e.GetHours(),r)}return t}var a=i(r.AddMinutes(t));n.val(a.ToLectioTimeSpanString());var l=n.attr("lectio-tc-other");if(l){var s=$("#"+l);if(0===s.length)return window.console&&console.log&&console.log("DatePicker, time: Kan ikke se anden kontrol."),!1;var c=o.LectioTimeSpan.TryParseUserInput(s.val());if(null===c)return!1;var u=i(c.AddMinutes(t));s.val(u.ToLectioTimeSpanString())}return!1}))}function s(){$.datepicker.regional.da={closeText:"Luk",prevText:"&#x3c;Forrige",nextText:"Næste&#x3e;",currentText:"Idag",monthNames:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNames:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],dayNamesShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayNamesMin:["Sø","Ma","Ti","On","To","Fr","Lø"],weekHeader:"Uge",dateFormat:"d/m-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",constrainInput:!1,showWeek:!0},$.datepicker.setDefaults($.datepicker.regional.da);var e=$.datepicker.parseDate;$.datepicker.parseDate=function(t,n,o){var i=r.LectioDate.TryParseUserInput(n);return null!==i?i.GetJSDate():e(t,n,o)}}t.LectioControls=i},60724:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LectioDialog=void 0;var r=n(97136);!function(e){function t(e){if("IFRAME"!==e.nodeName)throw new Error("er ikke iframe");return e}e.ShowLectioPopupDialog=function(e,n,o){var i=r.LectioJSUtils.GetBaseSchoolURL()+"/"+e,a=$('<iframe id="iframedocchooser" frameBorder="0"  src="'+i+'" />');t(a[0]).LectioGemOgLuk=function(e){n(e),setTimeout((function(){a.remove()}),50)},a.dialog({modal:!0,dialogClass:"documentchooserDialog",title:o,height:350,width:600,closeOnEscape:!0,resizable:!1,buttons:{Gem:function(){var e=a.contents()[0];(e.parentWindow?e.parentWindow:e.defaultView).GemFunc()},Annuller:function(){setTimeout((function(){a.remove()}),50)}}}),a.removeAttr("style"),a.css("width","580px"),a.css("height","330px")},e.PostDialogResult=function(e){var n=window.frameElement;if(!n)throw new Error("window.frameElement er ikke sat.");var r=t($(n)[0]).LectioGemOgLuk;if(null==r)throw new Error("lectiogemogluk er ikke sat.");r(e)}}(t.LectioDialog||(t.LectioDialog={}))},86149:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LectioDropDown=void 0;var n=function(){function e(){}return e.SelectboxNameSearch=function(t,n,r,o,i){var a,l,s,c,u;switch(a=!!document.all,n||(n=window.event),l=!1,c=t.name+"_SelectboxNameSearch_"+t.id,u=a?n.keyCode:n.charCode,c!=e.SelectboxNS_LastBoxUniqueID&&""!==e.SelectboxNS_TimeOutCode&&(window.clearTimeout(e.SelectboxNS_TimeOut),e.SelectboxNS_Start=1,e.SelectboxNS_SearchStr="",e.SelectboxNS_LastBoxUniqueID="",""!==(e.SelectboxNS_LastDisplayID||"")&&(a?document.getElementById(e.SelectboxNS_LastDisplayID).innerText="":document.getElementById(e.SelectboxNS_LastDisplayID).textContent=""),e.SelectboxNS_LastDisplayID="",e.SelectboxNS_TimeOutCode=""),u){case 13:return""!==(o||"")&&(""!==(i||"")?window.setTimeout(o,100,i):window.setTimeout(o,100)),!0;case 0:return!0}if(window.clearTimeout(e.SelectboxNS_TimeOut),e.SelectboxNS_SearchStr=e.SelectboxNS_SearchStr+String.fromCharCode(u).toLowerCase(),""!==(r||"")&&(a?document.getElementById(r).innerText=e.SelectboxNS_SearchStr:document.getElementById(r).textContent=e.SelectboxNS_SearchStr),1===e.SelectboxNS_Start){for(s=0;s<t.options.length;s++)if(0===(a?t.options[s].innerText:t.options[s].textContent).toLowerCase().indexOf(e.SelectboxNS_SearchStr)){a&&(t.setCapture(),t.releaseCapture()),t.selectedIndex=t.options[s].index,t.value=t.options[s].value,t.onchange&&t.onchange(null),l=!0;break}l||(e.SelectboxNS_Start=2)}if(2===e.SelectboxNS_Start){for(s=0;s<t.options.length;s++)if((a?t.options[s].innerText:t.options[s].textContent).toLowerCase().indexOf(e.SelectboxNS_SearchStr)>0){a&&(t.setCapture(),t.releaseCapture()),t.selectedIndex=t.options[s].index,t.value=t.options[s].value,t.onchange&&t.onchange(null),l=!0;break}l||(e.SelectboxNS_Start=3)}return e.SelectboxNS_LastDisplayID=r,e.SelectboxNS_LastBoxUniqueID=c,e.SelectboxNS_TimeOutCode="SelectboxNS_Start = 1; ",e.SelectboxNS_TimeOutCode=e.SelectboxNS_TimeOutCode+"SelectboxNS_SearchStr = '';",e.SelectboxNS_TimeOutCode=e.SelectboxNS_TimeOutCode+"SelectboxNS_LastBoxUniqueID = ''; ",""!==(r||"")&&(e.SelectboxNS_TimeOutCode=e.SelectboxNS_TimeOutCode+"document.getElementById('"+r+"')."+(a?"innerText":"textContent")+" = '';"),e.SelectboxNS_TimeOutCode=e.SelectboxNS_TimeOutCode+"SelectboxNS_LastDisplayID = ''; ",e.SelectboxNS_TimeOutCode=e.SelectboxNS_TimeOutCode+"SelectboxNS_TimeOutCode = ''; ",e.SelectboxNS_TimeOut=window.setTimeout(e.SelectboxNS_TimeOutCode,1e3),!0},e.SelectboxNS_SearchStr="",e.SelectboxNS_TimeOut=0,e.SelectboxNS_Start=1,e.SelectboxNS_TimeOutCode="",e.SelectboxNS_LastBoxUniqueID="",e.SelectboxNS_LastDisplayID="",e}();t.LectioDropDown=n},39114:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LectioExtensions=void 0;var n=function(){function e(){}return e.Init=function(){r.Init(),o.Init()},e}();t.LectioExtensions=n;var r=function(){function e(){}return e.Init=function(){var e=this;$.fn.indexOf=function(t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}},e}(),o=function(){function e(){}return e.Init=function(){Array.prototype.stableSort=Array.prototype.sort},e}()},49768:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LectioFeatureDetection=void 0,function(e){function t(){return null!==window.navigator.plugins.namedItem("ClickOnce plugin for Chrome")}e.HasClickOnceExtension=t;var n=/Firefox/i.test(navigator.userAgent)&&!/Mobile/i.test(navigator.userAgent),r=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),o=!(!navigator.userAgent.match(/MSIE/)&&!navigator.userAgent.match(/Trident\//)),i=-1!==navigator.userAgent.indexOf("Edge/"),a=-1!==navigator.userAgent.indexOf("Edg/"),l=navigator.platform.toUpperCase().indexOf("MAC")>=0;function s(){return o}e.IsFirefox=function(){return n},e.IsChrome=function(){return r},e.IsEdgeChromium=function(){return a},e.IsOldEdge=function(){return i},e.IsIE=s,e.IsMac=function(){return l},e.OnlyIfNotIE=function(e,t,n){n||(n="Denne funktionalitet er ikke længere understøttet i Internet Explorer."),s()?$("#"+e).text(n):t()},e.SupportsScrollOptions=function(){return!o},e.SupportsWpf=function(){return!!(o||i||a)||function(e){var t=window.navigator.mimeTypes,n=!1;for(var r in t)"application/x-ms-application"===r.type&&(n=!0);return n}()||t()}}(t.LectioFeatureDetection||(t.LectioFeatureDetection={}))},71928:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LectioFileUpload=void 0;var r=n(97136),o=n(95123),i=function(){function e(){}return e.InitializeDrop=function(e,t){var n=e;function i(e,t,n,r){return $("<div class=textCenter></div>").appendTo("body").append($("<p></p>",{text:e,class:"infoTextItalic"})).append(n||$()).dialog({title:"Vent venligst",resizable:!1,buttons:r})}n.addEventListener("dragenter",(function(e){e.stopPropagation(),e.preventDefault(),$(e).addClass("dropHere")}),!1),n.addEventListener("dragover",(function(e){e.stopPropagation(),e.preventDefault()}),!1),n.addEventListener("dragleave",(function(e){e.stopPropagation(),e.preventDefault(),$(e).removeClass("dropHere")}),!1),n.addEventListener("drop",(function(e){e.stopPropagation(),e.preventDefault();var n=e.dataTransfer.files;console.log("files:",n),0!==n.length&&function(e){var n=new XMLHttpRequest,a=$("<div />").progressbar({value:!1}),l=i("Uploader "+e.name,0,a,[{text:"Annuller",click:function(){l&&l.dialog("destroy").remove(),l=null,n.abort()}}]);n.upload.addEventListener("progress",(function(e){if(e.lengthComputable){var t=Math.floor(100*e.loaded/e.total);t>100&&t<120&&(t=100),a.progressbar("value",t),console.log("pct",t,e.loaded+" af "+e.total,e)}else a.progressbar("value",!1),console.warn("progress !lengthComputable ??")}),!1),n.open("POST",r.LectioJSUtils.GetBaseSchoolURL()+"/dokumentupload.aspx"),n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE){if(!l)return;if(l.dialog("destroy").remove(),l=null,200===n.status){console.log("upload done",n);var e=n.responseText,r=JSON.parse(e);t({serializedId:r.serializedId})}else{console.warn("upload ikke 200",n),o.JSErrorHandling.reportJSError("Filupload vha. drag drop fejlede. Status: "+n.status+" "+n.statusText);var a=i("Upload fejlede.",0,null,[{text:"Ok",click:function(){return a.dialog("destroy").remove()}}])}}};var s=new FormData;s.append("file",e),n.send(s)}(n[0])}),!1)},e.ValidateTotalSize=function(e,t){var n=e.controltovalidate,r=document.getElementById(n);if(!(r instanceof HTMLInputElement))throw new Error("val total size: ikke input-element");if(r.files)if(0===r.files.length)t.isValid=!0;else{var o=0;$.each(r.files,(function(e,t){o+=t.size}));var i=$("#"+e.id).attr("data-val-max-total-size"),a=parseInt(i);if(t.isValid=o<a,!t.isValid)return $(r).val(""),alert("Den valgte fil er for stor. Lectio tillader ikke upload af filer større end 50mb"),!1}else t.isValid=!0;return!0},e}();t.LectioFileUpload=i},88432:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LectioGantt=void 0;var r,o,i=n(97136);n(67079),r=t.LectioGantt||(t.LectioGantt={}),function(e){e[e.Green=0]="Green",e[e.Red=1]="Red",e[e.LightGray=2]="LightGray",e[e.Yellow=3]="Yellow",e[e.LightBlue=4]="LightBlue"}(o=r.GanttChartBackgroundColor||(r.GanttChartBackgroundColor={})),r.Draw=function(e,t){var n=function(e){return i.LectioJSUtils.AssertArgument(e>=0,"virt < virtDrawRange.start"),i.LectioJSUtils.AssertArgument(e<=1e3,"virt <= virtDrawRange.end"),(e-0)/1e3*980+10},r=-1,a=0;e.forEach((function(e){r++;var i=a;a+=0===r?25:30;var l=0===r?4:5,s=0===r?0:2.5,c=0===r?25:15,u=0===r?null:20,d=0===r?"verdana":"arial",f=0===r?"2":"0.2",p=0===r?"white":"#666";e.intervals.forEach((function(r){var a,h;if(r.backgroundColor===o.Red)h="90-#B80000-#ff0000",a="white";else if(r.backgroundColor===o.Green)h="90-#339900-#ccff66",a="white";else if(r.backgroundColor===o.LightGray)h="90-#fafafa:#f7f7f7",a="";else if(r.backgroundColor===o.Yellow)h="90-#E8B611-#ffdf0d",a="";else{if(r.backgroundColor!==o.LightBlue)throw new Error("ukendt farve:"+r.backgroundColor);h="90-#008099-#66e6ff",a="white"}var m={stroke:p,"stroke-width":f,fill:h,title:r.title};null!=u&&(m.height=u);var v=t.rect(n(r.start),i+s,n(r.start+r.length)-n(r.start),c,l).attr(m),g={"font-family":d,"font-size":11};if(a&&(g.fill=a),"left"===e.textAlign)g["text-anchor"]="start",t.text(n(r.start)+2,v.attr("y")+v.attr("height")/2,r.title).attr(g);else{if("center"!==e.textAlign)throw new Error("ukendt align");t.text(n(r.start)+(n(r.start+r.length)-n(r.start))/2,v.attr("y")+v.attr("height")/2,r.title).attr(g)}}))})),t.setSize(1e3,a)}},69729:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LectioGestureSupport=void 0;var r=n(5762),o=function(){function e(){}return e.IsEnabled=function(){return!!e.isEngaged&&(null===e.isGesturesEnabled&&(e.isGesturesEnabled=!!navigator.userAgent.match(/ipad/i)||!!navigator.userAgent.match(/android/i)||!1),!!e.isGesturesEnabled&&e.isGesturesEnabled)},e.Initialize=function(){if(e.isEngaged=!0,e.IsEnabled()){var t=$("body");t.attr("id")||$("body").attr("id","body1"),t[0].ontouchstart=function(t){e.touchStart(t,"body1")},t[0].ontouchend=function(t){e.touchEnd(t)},t[0].ontouchmove=function(t){e.touchMove(t)},t[0].ontouchcancel=function(t){e.touchCancel(t)},$("body").on("swipeleft",(function(){var e=$("a[data-nav=next]");1===e.length&&"disabled"!==e.attr("disabled")&&(r.PostBackHelper.Customize(10,"Næste kapitel loader"),e.click())})),$("body").on("swiperight",(function(){var e=$("a[data-nav=previous]");1===e.length&&"disabled"!==e.attr("disabled")&&(r.PostBackHelper.Customize(10,"Forrige kapitel loader"),e.click())}))}},e.processingRoutine=function(){var t=e.swipeDirection;"left"===t?$("body").trigger("swipeleft"):"right"===t&&$("body").trigger("swiperight")},e.touchStart=function(t,n){e.fingerCount=t.touches.length,1===e.fingerCount?(e.startX=t.touches[0].pageX,e.startY=t.touches[0].pageY,e.triggerElementID=n):e.touchCancel(t)},e.touchMove=function(t){1===t.touches.length?(e.curX=t.touches[0].pageX,e.curY=t.touches[0].pageY):e.touchCancel(t)},e.touchEnd=function(t){1===e.fingerCount&&0!==e.curX?(e.swipeLength=Math.round(Math.sqrt(Math.pow(e.curX-e.startX,2)+Math.pow(e.curY-e.startY,2))),e.swipeLength>=e.minLength?(e.caluculateAngle(),e.determineSwipeDirection(),e.processingRoutine(),e.touchCancel(t)):e.touchCancel(t)):e.touchCancel(t)},e.touchCancel=function(t){e.fingerCount=0,e.startX=0,e.startY=0,e.curX=0,e.curY=0,e.deltaX=0,e.deltaY=0,e.horzDiff=0,e.vertDiff=0,e.swipeLength=0,e.swipeAngle=null,e.swipeDirection=null,e.triggerElementID=null},e.caluculateAngle=function(){var t=e.startX-e.curX,n=e.curY-e.startY,r=(Math.round(Math.sqrt(Math.pow(t,2)+Math.pow(n,2))),Math.atan2(n,t));e.swipeAngle=Math.round(180*r/Math.PI),e.swipeAngle<0&&(e.swipeAngle=360-Math.abs(e.swipeAngle))},e.determineSwipeDirection=function(){if(null==e.swipeAngle)throw new Error("swipeAngle er null");e.swipeAngle<=45&&e.swipeAngle>=0||e.swipeAngle<=360&&e.swipeAngle>=315?e.swipeDirection="left":e.swipeAngle>=135&&e.swipeAngle<=225?e.swipeDirection="right":e.swipeAngle>45&&e.swipeAngle<135?e.swipeDirection="down":e.swipeDirection="up"},e.isGesturesEnabled=null,e.isEngaged=!1,e.triggerElementID=null,e.fingerCount=0,e.startX=0,e.startY=0,e.curX=0,e.curY=0,e.deltaX=0,e.deltaY=0,e.horzDiff=0,e.vertDiff=0,e.minLength=72,e.swipeLength=0,e.swipeAngle=null,e.swipeDirection=null,e}();t.LectioGestureSupport=o},97136:function(e,t,n){"use strict";var r,o,i,a,l=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.LectioKeyCode=t.GetKeys=t.LectioJSUtils=void 0;var u=n(3297);"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},writable:!0,configurable:!0}),Array.prototype.maxBy=function(e){var t,n,r=void 0,o=void 0;try{for(var i=l(this),a=i.next();!a.done;a=i.next()){var s=a.value;if(null!=s){var c=e(s);null!=c&&(null!=o?c>o&&(r=s,o=c):(r=s,o=c))}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}if(void 0===r)throw new Error("No elements");return r};var d,f=Object.keys({map:42,filter:42,slice:42,reduce:42,every:42,some:42,find:42,single:42,singleOrDefault:42}),p=f,h=function(e,t){var n,r,o=[!1,void 0];try{for(var i=l(e),a=i.next();!a.done;a=i.next()){var s=a.value;if(!t||t(s)){if(o[0])throw new Error(t?"More than one value matches the predicate.":"The collection contains more than one element.");o=[!0,s]}}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o};Array.prototype.single=function(e){var t=s(h(this,e),2),n=t[0],r=t[1];if(!n)throw new Error(e?"The collection contains no elements.":"No elements in the collection matches the predicate.");return r},Array.prototype.singleOrDefault=function(e){return s(h(this,e),2)[1]};try{for(var m=l(f),v=m.next();!v.done;v=m.next())(w=v.value)in NodeList||(NodeList.prototype[w]=Array.prototype[w])}catch(e){r={error:e}}finally{try{v&&!v.done&&(o=m.return)&&o.call(m)}finally{if(r)throw r.error}}try{for(var g=l(p),y=g.next();!y.done;y=g.next()){var w;(w=y.value)in HTMLCollection||(HTMLCollection.prototype[w]=Array.prototype[w])}}catch(e){i={error:e}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}!function(e){function t(e,t){if("object"==typeof e){if(null===e)throw new Error("value er null.")}else{if(void 0===e)throw new Error("value er undefined.");if("string"!=typeof e)throw new Error("'condition' er ikke string.");if(""===e)throw t||"Ugyldigt argument."}}function n(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t)return!0;return!1}function r(e,n,r){t(e,"apiPath"),t(n,"method");var o="";for(var i in r)r.hasOwnProperty(i)&&(o+=(o?"&":"")+i+"="+encodeURIComponent(r[i]));return a()+e+"/"+n+(o?"?"+o:"")}function o(e,n,o,i){return t(e,"apiPath"),t(n,"method"),fetch(r(e,n,o),{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})}function i(){var e,t,n=new Promise((function(n,r){e=n,t=r})),r=!1;return{promise:function(){return n},resolve:function(t){return r=!0,e(t)},reject:function(e){return r=!0,t(e)},isResolveOrRejected:function(){return r}}}function a(){var e=window.location.pathname.match(/^\/lectio\/\d+/);return e?e[0]:"/lectio"}e.GetCookieDomain=function(e){return u.LectioCookie.GetCookieDomain(e)},e.AssertNotNullOrUndefined=function(e,t){if(null===e)throw new Error("value er null: "+t);if(void 0===e)throw new Error("value er undefined: "+t)},e.AssertNotNullOrEmpty=t,e.False=function(){return!1},e.Throw=function(e){throw new Error(e)},e.AssertArgument=function(e,t){if("boolean"!=typeof e)throw new Error("'condition' er ikke boolsk.");if(!e)throw t||"Ugyldigt argument."},e.AssertOneElement=function(e){if(!(e instanceof jQuery))throw new Error("'val' er ikke jquery.");if(1!==e.length)throw 0===e.length?new Error("val indeholder ingen elementer."):new Error("val indeholder flere end eet element.")},e.StaticAssertTrue=function(e){return!0},e.AssertNever=function(e,t){throw new Error("Uventet: "+t)},e.LogDebug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];console.debug?console.debug.apply(console,c([e],s(t),!1)):console.log.apply(console,c([e],s(t),!1))},e.GetNotNullValue=function(e,t){if(null==e)throw new Error("oev, er null"+(t?": "+t:""));return e},e.AssertType=function(e,t){if(!(e instanceof t))throw new Error("Value does not have the expected type. Expected: "+t)},e.GetAssertedType=function(e,t,n){if(e instanceof t)return e;if(null==e)throw new Error("Value does not have the expected type. Expected: "+n+", actual: "+e);throw new Error("Value does not have the expected type. Expected: "+n)},e.GetAssumedType=function(e){return e},e.ExtendNarrow=function(e,t){return $.extend(e,t)},e.AssertArgumentPresent=function(e,t){if(void 0===e)throw t||"Ugyldigt argument."},e.GetOuterHtml=function(e){return"XMLSerializer"in window?(new window.XMLSerializer).serializeToString(e):e.outerHTML},e.IsEnumValue=n,e.AssertEnumValue=function(e,t){if(!n(e,t))throw new Error("Vaerdien "+t+" findes ikke i enum-en.")},e.GetElementSelector=function e(t){var n,r=t instanceof jQuery?t.get(0):t;if(!(r instanceof HTMLElement))throw new Error("elem");if(r.nodeType===document.TEXT_NODE)n="#text";else{if(r.nodeType!==document.ELEMENT_NODE)throw new Error;var o,i=r.getAttribute("id"),a=r.getAttribute("data-lcomp");n=r.nodeName.toLowerCase()+(i?"#"+i:"")+(a?"[data-lcomp]":"")+((o=r instanceof HTMLTableCellElement?r.cellIndex:r instanceof HTMLTableRowElement?r.rowIndex:null)?"["+o+"]":"")}return null!==r.parentNode&&r.parentNode.nodeType!==document.DOCUMENT_NODE?e(r.parentElement)+" > "+n:n},e.GetUserControlPath=function(e){function t(e){for(var t=e;;){var n=t.previousSibling;if(!n)return null;if(n instanceof Comment&&n.nodeValue){var r=n.nodeValue.match(/Lectiouserctrl:\s?([\w$]+)\b/i);if(r)return r[1]}t=n}}for(var n=e,r=[];n;){var o=t(n);o&&r.push(o),n=n.parentElement}return r},e.ClientSettingSupported=function(){return!!window.localStorage},e.ClientSettingRead=function(e){return window.localStorage.getItem(e)},e.ClientSettingWrite=function(e,t){window.localStorage.setItem(e,t)},e.FreezeObject=function(e){"freeze"in Object&&Object.freeze(e)},e.TooltipHtmlToHtml=function(e){return e.split(/\r?\n/g).join("<br />")},e.GetStackTrace=function(){var e;try{throw null.toString(),new Error("GetStackTrace: skulle smide en exception.")}catch(t){try{e=t.stack}catch(t){e="Kunne ikke få stack: "+t}}return e.replace(/^.+\n.* Object.GetStackTrace.+\n/,"")},e.PostCurrentPageApi=function(e,t,n){return o(location.pathname.replace(/\.aspx$/,".api").replace(/\/lectio\/\d+/,""),e,t,n)},e.PostApi=function(e,n,r,i){return t(e,"apiPath"),o(e,n,r,i)},e.GetApiPathAndQuerystring=r,e.CreateDeferred=i,e.GetNextEventPromise=function(e){t(e,"type");var n=i();return $(document).one(e,(function(e){return n.resolve(e.originalEvent)})),n.promise()},e.NewSkipUntil=function(){var e=!1;return function(t){return!e&&t&&(e=!0),e}},e.NewSkip=function(t){e.AssertArgument(t>=0&&t<1048576,"int range");var n=0;return function(){return++n>t}},e.GetBaseSchoolURL=a,e.GetBaseUrl_SpecialCase=function(){var e=a(),t=window.location.href,n=t.indexOf(e);return t.substring(0,n+1)+"lectio/"},e.GetLectioMainTitle=function(){return $(".maintitle").text()||null},e.HtmlEncode=function(e){return e?$("<div/>").text(e).html():""},e.GetShortcutTooltipSystemDependent=function(e){var t=navigator.userAgent.toUpperCase();return-1!==t.indexOf("MACINTOSH")||-1!==t.indexOf("MAC OS")?"Cmd+"+e:"Ctrl+"+e},e.ReturnPreventDefault=function(e){if(!e)throw new Error("Mangler event");e.preventDefault?e.preventDefault():e.returnValue=!1},e.SwapVisibility=function(e,t){document.getElementById(t).style.display="none",document.getElementById(e).style.display="block"},e.dropdown_redirect_aurl_on_change=function(e){if(e){var t=e.options[e.selectedIndex].getAttribute("url");null!==t&&0!==t.length&&(window.location.href=t)}},e.FormDefaultButtonActivated=function(){$(document.body).trigger("FormDefaultButtonActivated")},e.logininfo=function(e,t){var n=document.getElementById("logininfodetail"),r=document.getElementById("logininfoshort");if(!n)throw new Error("d");if(!r)throw new Error("s");e?(window.loginfotimeout&&(window.clearTimeout(window.loginfotimeout),window.loginfotimeout=null),n.style.display="block",r.style.display="none"):(void 0===t&&(n.style.display="none",r.style.display="block",t=50),t>0?(document.getElementById("logininfoshortprogress").style.width=100*t/50+"%",window.loginfotimeout=window.setTimeout("LectioJSUtils.logininfo(false,"+(t-1)+");",200)):(n.style.display="none",r.style.display="none"))},e.AddEventListener=function(e,t,n){e.addEventListener(t,n,!1)},e.RemoveEventListener=function(e,t,n){e.removeEventListener(t,n,!1)},e.CopyStringToClipboard=function(e){var t=!1;if(navigator.clipboard&&navigator.clipboard.writeText&&navigator.clipboard.writeText(e).then((function(){return t=!0}),(function(){return t=!1})),!t){if(void 0===window.clipboardData){if(document.queryCommandSupported("copy")){var n=function(t){t.clipboardData.setData("text/plain",e),t.preventDefault(),document.removeEventListener("copy",n,!0)};return document.addEventListener("copy",n,!0),void document.execCommand("copy")}throw new Error("Kan ikke kopiere oplysninger til udklipsholder.")}window.clipboardData.setData("Text",e)}},e.ShowInformation=function(e,t){(0,window.noty)({type:"information",text:t?t+"\r\n\r\n"+e:e,layout:"topRight",timeout:5e3})},e.DispatchBrowserTestEvent=function(e,t){var n=new CustomEvent(e,{detail:t});document.body.dispatchEvent(n)}}(t.LectioJSUtils||(t.LectioJSUtils={})),t.GetKeys=function(e){return Object.keys(e)},(d=t.LectioKeyCode||(t.LectioKeyCode={}))[d.SPACE=32]="SPACE",d[d.PAGE_UP=33]="PAGE_UP",d[d.UP=38]="UP",d[d.PAGE_DOWN=34]="PAGE_DOWN",d[d.DOWN=40]="DOWN",d[d.LEFT=37]="LEFT",d[d.RIGHT=39]="RIGHT",d[d.ENTER=13]="ENTER",d[d.TAB=9]="TAB",d[d.BACKSPACE=8]="BACKSPACE",d[d.ESCAPE=27]="ESCAPE"},93575:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.LectioScript=void 0;var o=n(35671),i=n(23749),a=function(){function e(){}return e.Initialize=function(){$((function(){window.Sys&&window.Sys.Application&&window.Sys.Application.add_init((function(){window.Sys.WebForms.PageRequestManager.getInstance().add_pageLoaded(t)}));var e=0;function t(t,n){var a,l,s,c,u=n.get_panelsCreated(),d=n.get_panelsUpdated(),f=u.concat(d);if(1!=++e){i.LCDocumentPresentation.Initialize();try{for(var p=r(f),h=p.next();!h.done;h=p.next()){var m=h.value;window.MathJax&&window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,m]);var v=m.getElementsByTagName("script");try{for(var g=(s=void 0,r(o.HtmlUtilities.PretendArray(v))),y=g.next();!y.done;y=g.next()){var w=y.value,b="lecmsajax-isevaluated";if(!w.getAttribute(b)){w.setAttribute(b,"si");var S=w.getAttribute("type");if(!S||"text/javascript"===S.toLowerCase()){var k=w.innerText;(0,eval)(k)}}}}catch(e){s={error:e}}finally{try{y&&!y.done&&(c=g.return)&&c.call(g)}finally{if(s)throw s.error}}}}catch(e){a={error:e}}finally{try{h&&!h.done&&(l=p.return)&&l.call(p)}finally{if(a)throw a.error}}}}}))},e}();t.LectioScript=a},57925:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LectioMobile=void 0;var n=function(){function e(){}return e.addTouch=function(e){e.each((function(e,n){$(n).on("touchstart touchmove touchend touchcancel",(function(e){t(e)}))}));var t=function(e){var t=e.changedTouches[0],n="";switch(e.type){case"touchstart":n="mousedown";break;case"touchmove":n="mousemove";break;case"touchend":n="mouseup";break;default:return}var r=document.createEvent("MouseEvent");r.initMouseEvent(n,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(r),e.preventDefault()}},e}();t.LectioMobile=n},57828:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.LectioPageCommands=void 0;var o=n(13249),i=n(95612),a=n(97136);!function(e){function t(e){location.href=a.LectioJSUtils.GetBaseSchoolURL()+"/"+e}!function(){var e,n,a,l;o.CommandRegistry.RegisterCommand({id:"SayHi",title:"hejsa",execute:function(){alert("hejsa")}});var s=[{id:"cleanCurrentPageUrl",title:"Fjern unødige dele af sidens url",execute:function(){var e=i.GuiMisc.LectioJump.CleanLectioLink(location.href);window.history.replaceState(window.history.state,window.document.title,e)}},{id:"getNiceLink",title:"Pænt link til nuværende side",execute:function(){var e=i.GuiMisc.LectioJump.CleanLectioLink(location.href);alert(e)}},{id:"showCommandSelector",title:"Vis kommandovælger",execute:function(){return o.CommandRegistry.showCommandSelector()}},{id:"showGridStuff",title:"Vis grid-stuff",execute:function(e){return o.CommandRegistry.showGridStuff(e)},historyAfterAll:!0},{id:"gotoUserFrontPage",title:"Gå til forside",execute:function(){return t("forside.aspx")}},{id:"gotoMacomLookup",title:"Gå til macom lookup",execute:function(){return t("macom/lookup.aspx")}},{id:"search",title:"Søg i Lectio",execute:function(){return $("#s_m_searchinputfield").focus()}},{id:"showKeyboardHelp",title:"Vis hjælp til brug af keyboard",execute:o.CommandRegistry.ShowKeybordHelpDialog},{id:"showSetStudentIdsToBrowse",title:"Indsaet student-id pr. linie eller kommasepareret list",execute:i.GuiMisc.ShowSetStudentIdsToBrowse},{id:"showDatabaseInfo",title:"Vis databaseinfo",execute:i.GuiMisc.ShowDatabaseInfo},{id:"showTableFilter",title:"Vis tabelfiltrering",execute:function(){return o.CommandRegistry.ExecuteCommand("TableSearch")}},{id:"maximizeCurrentDialog",title:"Maksimér dialog",execute:i.GuiMisc.CurrentDialogMaximize},{id:"executeRecent1",title:"Genkør nylig 1",execute:function(){return o.CommandRegistry.ExecuteRecent(1,!1)}},{id:"executeRecent2",title:"Genkør nylig 2",execute:function(){return o.CommandRegistry.ExecuteRecent(2,!1)}},{id:"executeRecent3",title:"Genkør nylig 3",execute:function(){return o.CommandRegistry.ExecuteRecent(3,!1)}},{id:"executeRecent1ReuseArg",title:"Genkør nylig 1, genbrug argument",execute:function(){return o.CommandRegistry.ExecuteRecent(1,!0)}},{id:"executeRecent2ReuseArg",title:"Genkør nylig 2, genbrug argument",execute:function(){return o.CommandRegistry.ExecuteRecent(2,!0)}},{id:"executeRecent3ReuseArg",title:"Genkør nylig 3, genbrug argument",execute:function(){return o.CommandRegistry.ExecuteRecent(3,!0)}}];try{for(var c=r(s),u=c.next();!u.done;u=c.next()){var d=u.value;!0!==d.historyAfterAll&&(d.skipAddToHistory=!0),o.CommandRegistry.RegisterCommand(d)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}try{for(var f=r([{key:"g f",commmand:"gotoUserFrontPage"},{key:"/",commmand:"search"},{key:"?",commmand:"showKeyboardHelp"},{key:"o d",commmand:"showDatabaseInfo"},{key:"o g",commmand:"showGridStuff"},{key:"o t",commmand:"showTableFilter"},{key:"o u",commmand:"cleanCurrentPageUrl"},{key:"o c",commmand:"showCommandSelector"},{key:"o m",commmand:"maximizeCurrentDialog"},{key:"o l",commmand:"gotoMacomLookup"},{key:"r 1",commmand:"executeRecent1"},{key:"r 2",commmand:"executeRecent2"},{key:"r 3",commmand:"executeRecent3"},{key:"r r 1",commmand:"executeRecent1ReuseArg"},{key:"r r 2",commmand:"executeRecent2ReuseArg"},{key:"r r 3",commmand:"executeRecent3ReuseArg"}]),p=f.next();!p.done;p=f.next()){var h=p.value;o.CommandRegistry.RegisterCommandKeyBinding(h.commmand,h.key)}}catch(e){a={error:e}}finally{try{p&&!p.done&&(l=f.return)&&l.call(f)}finally{if(a)throw a.error}}}()}(t.LectioPageCommands||(t.LectioPageCommands={}))},75537:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.LectioPageOps=void 0;var i=n(97136),a=n(95123),l=n(79112),s=n(75298),c=n(51150);!function(e){var t;function n(){var e={},t=$('img[src^="chrome-extension://"]');if(t.length>0){t.each((function(){var t=$(this).attr("src").match(/^chrome-extension:\/\/(\w+)\//);if(t){var n=t[1];e[n]=!0}}));var n=Object.keys(e),r={liajalnjelpdmdbfbmpiconpenfbpgln:"Lectio Enchancer"};return n.map((function(e){return(r[e]||"Ukendt udvidelse")+" (ID: "+e+")"}))}return[]}e.rightClickShareIcon=function(e,t,n){i.LectioJSUtils.AssertNotNullOrEmpty(t,"id"),e.preventDefault();var r=i.LectioJSUtils.GetBaseSchoolURL()+"/lcutil/editorapi.api/GetSkemaData";(0,c.ajax)({url:r,method:"get",success:function(r,o,a){var s=r.map((function(e){return{caption:e.titel,iconPath:e.iconPath,action:function(){return r=e.actId,void(0,c.ajax)({url:i.LectioJSUtils.GetBaseSchoolURL()+"/lcutil/editorapi.api/CopyToActivity?src="+t+"&srcSchoolId="+n+"&dstActivityContentId="+r,method:"post",success:function(e,t,n){i.LectioJSUtils.ShowInformation("Indhold kopieret")},error:function(e,t,n){i.LectioJSUtils.ShowInformation("Kopiering fejlede:"+e.responseText)}});var r}}}));l.LectioContextMenu.ShowContextMenuEx(e,s,"Ingen lektioner")},error:function(e,t,n){i.LectioJSUtils.ShowInformation("Kunne ikke hente næste lektioner")}})},e.DetectChromeExtension=function(e){return new Promise((function(t,n){var r=document.createElement("script");r.onerror=function(){return t("found")},r.onload=function(){return n("notfound")},document.body.appendChild(r),r.src="chrome-extension://"+e+"/manifest.json",r.remove()})).then((function(e){return!0})).catch((function(e){return!1}))},e.DetectChromeExtensions=n,e.InitScriptErrorHandling=function(e,i){window.onerror=function(l,s,c,u,d){if(console.log("errxx"),"string"==typeof l){if(!(l.startsWith("Uncaught EvalError: Possible side-effect in debug-evaluate")||l.startsWith("Uncaught SyntaxError: ")&&s&&s==location.href&&1===c)){var f=l.replace(/^[\w ]+Error: (.+)$/,"$1");if(e){var p=void 0,h=s&&"undefined"!==s?s:null;if(!(p=d?d.stack:h?"  at "+h+":"+c+":"+u:""))return;var m=[];if("performance"in window&&"getEntriesByType"in window.performance)try{var v=document.querySelectorAll("script[src]"),g=Array.from(v).map((function(e){return e.src})),y=window.performance.getEntriesByType("resource").filter((function(e){return"script"==e.initiatorType})).map((function(e){return e.name})),w=g.filter((function(e){return-1===y.indexOf(e)}));m.push.apply(m,o([],r(w),!1))}catch(e){m.push("[fejl under detektering: "+e+"]")}else m.push("[Kan ikke afgoere: window.performance.getEntriesByType() findes ikke.]");var b=[],S="";0!==m.length?b.push.apply(b,o([],r(m.map((function(e){return"Script-tag-src lader ikke til at vaere loaded: ".concat(e)}))),!1)):b.push("window.performance.getEntriesByType indikerer ikke at der er scripts ikke kunne loades.");try{var k=!1;$.each(["of undefined","ikke defineret","not defined","is not a function","is not an object","understøtter ikke egenskaben eller metoden"],(function(e,t){-1!==f.indexOf(t)&&(k=!0)})),k&&(b=b.concat(function(){var e=[];return e.push("document.readyState: "+document.readyState),$.each(["document.cookie","$.ui","$.cluetip.defaults","WebForm_AutoFocus"],(function(t,n){var r=function(e){var t=[],n=e.split("."),r=window,o=!1,i="";if($.each(n,(function(e,n){if(!o){t.push(n);var a=r[n];a?r=a:(o=!0,i='Stødte på værdien "'+a+'" ved evaluering af sidste del af '+t.join(".")+".")}})),!o){var a=void 0;try{(a=r+"").length>50&&(a=a.substr(0,50))}catch(e){a="(Evalueringsfejl: "+e}i="Kunne godt evaluere. Type: "+typeof r+". Sneak peak: "+a}return i}(n);e.push("Evaluering af "+n+": "+r)})),e}())),S=(b=b.concat(n())).join("\r\n")}catch(e){S="Fejl under scriptfilsdiagnosticering: "+e}var x=navigator.userAgent;if(!d&&!h)return;if(x.match(/Firefox/)&&p.match(/\w@http/))return;if(!d&&0===c&&0===u)return;if(x.match(/Safari/)&&f.match("Can't find variable:")&&1===c&&void 0===u)return;a.JSErrorHandling.reportJSErrorImpl({message:f,source:h,lineNumber:c,columnNumber:u,stack:p,userAgent:x,customData:S,error:d})}i&&function(e){var n=t;n?n.text(n.text()+"\r\n"+e):(n=$("<div>").css({"white-space":"pre-line","text-align":"left"}).text(e).dialog({title:"Javascriptfejl"}),t=n)}(l)}}else console.warn('msg er ikke string. Burde kun forekomme i \'error="..."". Afbryder.')}},e.BuildNavigationTimingObject=function(e){var t=window.performance.timing;return{timestamp:new Date,navigationTiming:t,method:e,userAgent:navigator.userAgent,screen:{devicePixelRatio:window.devicePixelRatio,availWidth:screen.availWidth,availHeight:screen.availHeight,width:screen.width,height:screen.height}}},e.PrepareAutoFocus=function(){var e=window.WebForm_AutoFocus;var t=function(t){setTimeout((function(){$((function(){return function(t){var n,r,o,a,l,s,c=null!==(n=function(){if(t.startsWith("bydummyid_")){var e=t.slice("bydummyid_".length);return document.querySelector('*[data-dummyid="'.concat(e,'"]'))}return document.getElementById(t)}())&&void 0!==n?n:i.LectioJSUtils.Throw('Focus target id "'.concat(t,'" was not found.')),u=$(c),d=u.is(":input")?"input":c.matches("span, div")&&c.querySelector("textarea[lectio-role=editor-textarea]")?"editor":"container";switch(d){case"input":!function(e){var t,n,r,o=document.getElementById(e),i=o;if(o&&!window.WebForm_CanFocus(o)&&(i=window.WebForm_FindFirstFocusableChild(o)),i)try{i.focus(),t=$(i).offset().top,r=(n=$(window).scrollTop())+window.innerHeight,!(t<n||t>r)||$("html,body").animate({scrollTop:t-window.innerHeight/3},1e3)}catch(e){}}(c.getAttribute("id"));break;case"editor":var f=null!==(o=null===(r=c.querySelector("textarea[lectio-role=editor-textarea]"))||void 0===r?void 0:r.getAttribute("id"))&&void 0!==o?o:i.LectioJSUtils.Throw("autofokus: Ligner en editor, men har ikke ID?"),p=null!==(a=CKEDITOR.instances[f])&&void 0!==a?a:i.LectioJSUtils.Throw('AutoFocus: Editor-instans "'.concat(f,'" ikke fundet.'));p.once("instanceReady",(function(){setTimeout((function(){window.scrollTo(0,u.offset().top-50);var e=function(t){document.removeEventListener("keydown",e),document.activeElement&&0!==$(document.activeElement).closest(".cke").length||"Tab"===t.key&&(p.focus(),t.preventDefault())};document.addEventListener("keydown",e)}),100)}));break;case"container":var h;setTimeout((function(){var e=u.offset().top;e>$(window).scrollTop()+$(window).height()&&$(window).scrollTop(e+100)}),50),h=u.children(".ls-tabs1").length?null!==(l=u.find(".lectioTabContent:first :input:not([type=hidden]):first").get(0))&&void 0!==l?l:c.querySelector(".lectioTabContent a"):null!==(s=u.find(":input:not([type=hidden])").get(0))&&void 0!==s?s:c.querySelector("a");var m=function(t){var n;document.removeEventListener("keydown",m),null!=document.activeElement&&$(document.activeElement).is(":input")||"Tab"===t.key&&h&&($(h).uniqueId(),e(null!==(n=h.getAttribute("id"))&&void 0!==n?n:i.LectioJSUtils.Throw("Har ikke id?")),t.preventDefault())};document.addEventListener("keydown",m);break;default:i.LectioJSUtils.AssertNever(d,d)}}(t)}))}),50)};if(window.WebForm_AutoFocus=t,window.Sys&&window.Sys.WebForms&&window.Sys.WebForms.PageRequestManager){var n=window.Sys.WebForms.PageRequestManager.getInstance();n&&n.add_pageLoaded((function(){window.WebForm_AutoFocus=t}))}};var u={},d=i.LectioJSUtils.CreateDeferred(),f=!1;function p(){return window.theForm.elements.__SCROLLPOSITION}e.RegisterRestoreScrollDependency=function(e){if(!e)throw new Error("Der skal gives en tekstnoegle med.");if(u[e])throw new Error("noeglen ".concat(e," findes allerede."));if(f)throw new Error("For sent: Afvent af scroll-afhaengigheder er startet.");var t=i.LectioJSUtils.CreateDeferred();u[e]=t},e.ResolveRestoreScrollDependency=function(e){if(!e)throw new Error("Der skal gives en tekstnoegle med.");var t=u[e];if(!t)throw new Error("noeglen ".concat(e," er ukendt - ikke registreret med RegisterRestoreScrollDependency()."));if(f)throw new Error("For sent: Afvent af scroll-afhaengigheder er startet.");t.resolve(void 0)},e.GetScrollPositionRestored=function(){return d.promise()},e.SetCustomScrollState=function(e){p().value=JSON.stringify(e)},e.PrepareMaintainScrollPosition=function(){var e=function(){var e=function(){var e=window.pageYOffset||window.document.documentElement.scrollTop,t=window.pageXOffset||window.document.documentElement.scrollLeft,n=$(window.document.elementFromPoint(window.innerWidth/2,window.innerHeight/2)),r=n.parents("table.list:last");if(r.length){var o=n.is("table.list tr")?n:n.parents("table.list tr"),i=o[0],a=o.offset();return{tableId:r.attr("id"),rowIndex:i.rowIndex,rowScreenOffsetTop:a.top-window.pageYOffset,rowScreenOffsetLeft:a.left-window.pageXOffset,pixelScrollTop:e,pixelScrollLeft:t}}return{tableId:"",rowIndex:-1,rowScreenOffsetTop:-1,rowScreenOffsetLeft:-1,pixelScrollTop:e,pixelScrollLeft:t}}();p().value=JSON.stringify(e)};window.WebForm_SaveScrollPositionOnSubmit=function(){return e(),!window.theForm.oldOnSubmit||window.theForm.oldOnSubmit()},window.WebForm_SaveScrollPositionSubmit=function(){return e(),!window.theForm.oldSubmit||window.theForm.oldSubmit()},window.WebForm_RestoreScrollPosition=function(){var e=p().value,t=Object.keys(u).map((function(e){return u[e].promise()}));if(0===t.length){var n=i.LectioJSUtils.CreateDeferred();n.resolve(void 0),t.push(n.promise())}return Promise.all(t).then((function(){f=!0,void 0!==e&&""!==e&&function(e){if(e.tableId){var t=i.LectioJSUtils.GetAssumedType(document.getElementById(e.tableId));if(t)if(e.rowIndex>=t.rows.length)console.log("Scroll: Kan ikke genfinde tabelrække.");else{var n=t.rows[e.rowIndex];n.scrollIntoView(),console.log("scroll pos:",e);var r=$(n).offset(),o=r.top-window.pageYOffset,a=r.left-window.pageXOffset,l=o-e.rowScreenOffsetTop,s=a-e.rowScreenOffsetLeft;console.log("rowoffset.top",r.top,"window.pageYOffset",window.pageYOffset),window.scrollBy(s,l)}else console.log("Scroll: Kan ikke genfinde tabel.")}else window.scrollTo(e.pixelScrollLeft,e.pixelScrollTop)}(JSON.parse(e)),void 0!==window.theForm.oldOnLoad&&null!=window.theForm.oldOnLoad&&window.theForm.oldOnLoad(),d.resolve(void 0)})),!0}},e.InitializeHistory=function(e){switch(e){case s.PageHistoryBehavior.PrevUrl:!function(){var e=document.querySelector('.button > a[data-rolevariant="back"]:nth-child(1)');if(e||(e=document.querySelector('.button > a[data-rolevariant="cancel"]:nth-child(1)')),e){var t=!("state"in window.history);window.history.replaceState("initial","",window.location.href),window.history.pushState("dummystate","",window.location.href),$(window).on("popstate",(function(n){t?t=!1:"initial"===n.originalEvent.state&&(e?$(e).trigger("lecclick"):window.history.back())}))}}();break;case s.PageHistoryBehavior.HandsOff:break;case s.PageHistoryBehavior.ReplacePost:history.replaceState({},"my title",location.href);break;default:i.LectioJSUtils.AssertNever(e,"Ukendt opfoersel: "+e)}},e.EnableCprTitleRedaction=function(){$.post(i.LectioJSUtils.GetBaseSchoolURL()+"/utils/trace.api/EnableCprTitleRedaction").then((function(){return i.LectioJSUtils.ShowInformation("CPR-skjul aktiveret.")}),(function(){return i.LectioJSUtils.ShowInformation("Fejl under aktivering af CPR-skjul.")}))},e.DisableCprTitleRedaction=function(){$.post(i.LectioJSUtils.GetBaseSchoolURL()+"/utils/trace.api/DisableCprTitleRedaction").then((function(){return i.LectioJSUtils.ShowInformation("CPR-skjul af sessionen deaktiveret.")}),(function(){return i.LectioJSUtils.ShowInformation("Fejl under deaktivering af CPR-skjul.")}))},e.EnableDevelopmentTracing=function(){$.post(i.LectioJSUtils.GetBaseSchoolURL()+"/utils/trace.api/EnableDevelopmentTracing").then((function(){return i.LectioJSUtils.ShowInformation("Trace af sessionen aktiveret.")}),(function(){return i.LectioJSUtils.ShowInformation("Fejl under aktivering af trace.")}))},e.EnableBusinessLogicTracing=function(){$.post(i.LectioJSUtils.GetBaseSchoolURL()+"/utils/trace.api/EnableBusinessLogicTracing").then((function(){return i.LectioJSUtils.ShowInformation("Trace af sessionen aktiveret.")}),(function(){return i.LectioJSUtils.ShowInformation("Fejl under aktivering af trace.")}))},e.DisableTracing=function(){$.post(i.LectioJSUtils.GetBaseSchoolURL()+"/utils/trace.api/DisableTracing").then((function(){return i.LectioJSUtils.ShowInformation("Trace af sessionen deaktiveret.")}),(function(){return i.LectioJSUtils.ShowInformation("Fejl under deaktivering af trace.")}))}}(t.LectioPageOps||(t.LectioPageOps={}))},42519:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function l(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(l){return function(s){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(e){l=[6,e],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.LectioSendAreaTo=void 0;var i=n(97136),a=n(13249),l=n(95612);!function(e){var t=null;function n(e){var t,n,r=function(e){if(!e||1!==e.length)throw new Error('"Vil kun tage ét element."');var t=$("<div/>");e.appendTo(t),function(e){$("[data-lectiocontextcard]",e).removeAttr("data-lectiocontextcard"),$("[data-rowdebug]",e).removeAttr("data-rowdebug"),$("[title]",e).removeAttr("title"),$(":input",e).filter((function(e){return e.hasOwnProperty("Validators")})).each((function(e,t){t.Validators.remove(),t.Validators=null})),$("select",e).each((function(e,t){var n=$(t).find("option:selected").text(),r=""!==n?$("<span />").text(n):$("<span />").html("&nbsp;");$(t).replaceWith(r)})),$("a",e).each((function(e,t){$(t).replaceWith($("<span />").text($(t).text()))})),$("img",e).remove(),$(".lf-excel-exclude",e).remove(),$("tr.paging",e).remove(),$("div.lec-context-menu",e).remove(),$("input",e).each((function(e,t){var n,r=$(t);switch(r.attr("type")){case"checkbox":n=r.prop("checked")?"Ja":"Nej";break;case"text":n=i.LectioJSUtils.GetAssertedType(t,HTMLInputElement,"input").value;break;default:n=""}r.replaceWith($("<span />").text(n))})),$("textarea",e).each((function(e,t){var n=i.LectioJSUtils.GetAssertedType(t,HTMLTextAreaElement,"textarea").value.replace("<","&lt;").replace(/\n/g,"<br />")+"<br />";$(t).replaceWith($("<span />").html(n))})),e.find(".s2skemabrikIcons").remove(),e.find(".validator").remove(),$("ul[lectio-behavior~=copy-as-table]",e).each((function(e,t){var n=$('<table class="list lf-grid"></table>');$(t).children().each((function(e,t){var r=$("<td></td>").append($(t).children());$("<tr></tr>").append(r).appendTo(n)})),$(t).replaceWith(n)})),$("*[lectio-behavior~=copy-as-table]",e).each((function(e,t){var n=$('<table class="list lf-grid"></table>');$(t).children().children().each((function(e,t){var r=$("<td></td>").append($(t));$("<tr></tr>").append(r).appendTo(n)})),$(t).replaceWith(n)})),$("ul",e).each((function(e,t){var n=$("<span/>").html($("li",t).map((function(e,t){return t.innerText})).get().join("<br/>"));$(t).replaceWith(n)})),$("td[style]",e).css("white-space",""),$("th[style]",e).css("white-space",""),$(".nowrap",e).removeClass("nowrap"),$("table.lf-grid",e).each((function(e,t){var n=$("tr:eq(1)",t);if(0!==n.length){var r=n.find("th").toArray(),o=$(t).find("tr:eq(0)");r.length>0?(o.find("th").each((function(e,t){var n=parseInt($(t).attr("colSpan")||"0",10);if(n>1){var o=void 0;if(parseInt($(t).attr("rowSpan")||"0",10)>1){for(var i=[],a=0;a<n;a++)i.push($("<th />").eq(0));o=$(i)}else o=$(r.splice(0,n));o.insertAfter($(t)),o.each((function(e,n){$(n).prepend($("<br />")),$(n).prepend($("<span />").text($.trim($(t).text())))})),$(t).remove()}})),o.find("th").attr("rowSpan","1")):o.find("th[rowSpan]").attr("rowSpan","1"),0===n.find("*").length&&n.remove()}}));for(var t=function(t){var n=0;if($("table.lf-grid ul > li",e).each((function(e,t){n++;var r=$(t).text();$(t).replaceWith($("div").text(r))})),$("table.lf-grid ul",e).each((function(e,t){n++;var r=$(t).html();$(t).replaceWith(r)})),$("table.lf-grid div:not(:first-child)",e).before("<br />"),$("table.lf-grid div",e).each((function(e,t){n++,$(t).replaceWith($(t).html())})),0===n)return"break"},n=0;n<10&&"break"!==t();n++);$('[style=""]',e).removeAttr("style"),$('[class=""]',e).removeAttr("class"),$('[class=" "]',e).removeAttr("class"),$('[class="tooltip"]',e).removeAttr("class"),$("td table",e).each((function(e,t){var n=[],r=$("tr",t);r.length>1&&(r.each((function(e,t){var r=[];$(t).find("td,th").each((function(e,t){r.push($(t).text())})),n.push(r.join("&emsp;&emsp;").trim())})),t.outerHTML=n.join("<br/>").trim())}))}(t);var n=function(e){var t=$("<div/>");return e.appendTo(t),$(".lf-grid",t).before("<table><tr><td></td></tr></table>"),$(".lf-grid",t).after("<table><tr><td></td></tr></table>"),i.LectioJSUtils.GetNotNullValue(t.get(0))}(e);return i.LectioJSUtils.GetOuterHtml(n).replace(/(<br \/>|<br>)/gi,"<br style='mso-data-placement: same-cell;' />")}($("#"+e).clone()),o=(t=r,n=i.LectioJSUtils.GetLectioMainTitle(),"<strong>"+i.LectioJSUtils.HtmlEncode(n)+"</strong><br/>\n"+t);i.LectioJSUtils.CopyStringToClipboard(o)}i.LectioJSUtils.CreateDeferred(),e.LastData=null,e.LastCss=null,e.LastDataTimestamp=null,e.CopyToExcel=function(e){return r(this,void 0,void 0,(function(){var t,r;return o(this,(function(o){switch(o.label){case 0:return e.Argument?(t=e.Argument,[3,3]):[3,1];case 1:return[4,a.CommandRegistry.PromptUserForElementSelection({prompt:"Klik på en tabel eller et område.",promptTitle:"Kopiér til Excel",selector:"table[id]"})];case 2:if("notfound"===(r=o.sent()))return[2,"notfound"];t=r.id,o.label=3;case 3:return null==t||(e.ArgumentDerivedByCommand=t,n(t),i.LectioJSUtils.ShowInformation("Dataene er nu kopieret til udklipsholderen og kan indsættes i MS Excel.")),[2,{}]}}))}))};var s=!1;e.InitializeGlobal=function(){function n(n,l){var s=this;return function(c){return r(s,void 0,void 0,(function(){var r,s,u;return o(this,(function(o){switch(o.label){case 0:return c.Argument?(r=JSON.parse(c.Argument),[3,3]):[3,1];case 1:return[4,a.CommandRegistry.PromptUserForElementSelection({prompt:"Klik på en tabel eller et område.",promptTitle:"Print",selector:"table[id], .islandContent"})];case 2:if("notfound"===(s=o.sent()))return[2,"notfound"];u={CtrlToPrint:s.id,IncludeDateTimeTag:!0,Subcommand:"woe",TitleForPrint:document.title},c.ArgumentDerivedByCommand=JSON.stringify(u),r=u,o.label=3;case 3:return function(n,r,o,a,l,s){var c=$("#"+n);if(0===c.length)return null;if(a){if("string"!=typeof a)throw new Error("scaleTo");if("A3"!==a&&"A4"!==a&&"A2"!==a)throw new Error("scaleTo")}$(window).trigger("beforeprint");var u=c.clone();$(window).trigger("afterprint"),u.find("script").remove();$("head style").clone().prependTo($(u));var d,f=function(e){$("input,button",e).each((function(e,t){t.setAttribute("value",$(t).val().toString())})),$("textarea[data-print-behavior~=expand-all]",e).each((function(e,t){var n=i.LectioJSUtils.GetAssertedType(t,HTMLTextAreaElement,"textarea").value;$(t).replaceWith($("<span/>").text(n).css("white-space","pre-line").css("border","1px solid black").css("display","inline-block"))})),$("textarea",e).each((function(e,t){$(t).html(i.LectioJSUtils.GetAssertedType(t,HTMLTextAreaElement,"textarea").value)})),$("input:radio,input:checkbox",e).each((function(e,t){$(t).is(":checked")?t.setAttribute("checked","checked"):t.removeAttribute("checked")})),$("option",e).each((function(e,t){$(t).is(":selected")?t.setAttribute("selected","selected"):t.removeAttribute("selected")}));var t=$("svg",e);if(t.length>0){var n=[],r=$("linearGradient",t);r.length>0&&r.each((function(e,t){var r=$(t).attr("id");n[e]=void 0===r?"":r}));var o=$("rect",t);o.length>0&&o.each((function(e,t){var r=$(t).attr("fill");void 0!==r&&void 0!==r&&n.forEach((function(e,n){var o=r.match(e);null!==o&&t.setAttribute("fill","url('#"+o.toString()+"')")}))}))}return e}($(u));if("TABLE"===f.prop("tagName")?(d=f[0].outerHTML)||(d=f.wrap("<table>").parent().html()):d=f.html(),!d)return alert("Denne funktionalitet virker ikke i den browser du bruger"),null;var p=s||i.LectioJSUtils.GetLectioMainTitle(),h=(new Date).valueOf(),m={sendtotarget:"printer",lectiomaintitle:p||"",includeprintdate:o?"1":"0",scaleto:a||"",timestamp:h,showPrintDialog:l?"1":"0"};e.LastData=d,e.LastCss=$("style[lec-cssalsoforprint]").text(),e.LastDataTimestamp=h,t=i.LectioJSUtils.CreateDeferred();var v=window.open(i.LectioJSUtils.GetBaseSchoolURL()+"/print.aspx?"+jQuery.param(m),"_newtab");if(null==v)return t.promise();var g,y={MsgType:"SendToData",LastData:e.LastData,LastCss:e.LastCss,LastDataTimestamp:e.LastDataTimestamp};g=function(e){if(e.origin===window.origin)switch(e.data.MsgType){case"NotifySendToWindowReady":v.postMessage(y,window.origin);break;case"NotifySendToDone":window.removeEventListener("message",g)}},window.addEventListener("message",g),t.promise()}(r.CtrlToPrint,0,r.IncludeDateTimeTag,n,l,r.TitleForPrint),[2,{}]}}))}))}}s||(s=!0,a.CommandRegistry.RegisterCommand({id:"PrintA2",title:"Print med tilpasset bredde til A2",execute:n("A2",!0)}),a.CommandRegistry.RegisterCommand({id:"PrintA3",title:"Print med tilpasset bredde til A3",execute:n("A3",!0)}),a.CommandRegistry.RegisterCommand({id:"PrintA4",title:"Print med tilpasset bredde til A4",execute:n("A4",!0)}),a.CommandRegistry.RegisterCommand({id:"PrintPreview",title:"Vis udskriftsvenlig udgave",execute:n(null,!1)}),a.CommandRegistry.RegisterCommand({id:"PrintDefault",title:"Print",execute:n(null,!0)}),a.CommandRegistry.RegisterCommand({id:"CopyToExcel",title:"Kopiér til Excel",execute:e.CopyToExcel}),l.GuiMisc.InitTableFilter())},e.ScaleDocument=function(e,t){i.LectioJSUtils.AssertArgument("string"==typeof t),i.LectioJSUtils.AssertArgument("A4"===t||"A3"===t||"A2"===t);var n=1e3,r=90;"A3"===t?n*=Math.sqrt(2):"A2"===t&&(n*=2);var o=$("body",e),a=$("#printcontainerDiv",e);if(a[0])for(var l=a[0].clientWidth;l>1.1*n;){var s=n/l,c=Math.round(r*s)+"%";o.css("font-size",c);var u=a[0].clientWidth;if(u>n&&(r*=s),l=u,r<0)throw new Error("fontsize")}},e.PrinterDefault=function(e){return $("#"+e).data("DefaultPrintAction")()}}(t.LectioSendAreaTo||(t.LectioSendAreaTo={}))},87865:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LectioTextBox=void 0;var n=function(){function e(){}return e.LTB_CheckMand=function(e){var t=e.id+"_mand",n=document.getElementById(t);""===$(e).val().trim()?(n||((n=document.createElement("DIV")).id=t,n.style.position="relative",n.innerHTML='<div style="position:absolute;z-index:10;padding:0.3em;" class="attention">*</div>',e.parentNode.insertBefore(n,e)),n.style.visibility="visible"):n&&n.parentNode.removeChild(n)},e.AutoCPRstreg=function(e,t){var n,r;return window.event?(n=String.fromCharCode(e.keyCode),r=e.keyCode):e.which?(n=String.fromCharCode(e.which),r=e.which):(r=null,n=""),!(null!==r&&8!=r&&!/\d/.test(n)&&t.value.length<6||(6==t.value.length&&"-"!=n&&null!==r&&8!==r&&(t.value=t.value+"-"),0))},e.Initialize=function(){$(document.body).on("change keyup",'input[lectio-behavior~="required"], select[lectio-behavior~="required"]',(function(t){return e.LTB_CheckMand(t.target)})),$((function(){$(document.body).find('input[lectio-behavior~="required"]').each((function(){e.LTB_CheckMand($(this)[0])})),$(document.body).find('select[lectio-behavior~="required"]').each((function(){e.LTB_CheckMand($(this)[0])})),e.autoResizeText(4e3)}))},e.fitToContent=function(e,t){var n=e.height(),r=parseInt(e.attr("relative_error"),10);if(!t||t>n){if(n=Math.max(e[0].scrollHeight,n),t&&(n=Math.min(t,n)),!e.data("original-height")){var o=e.height();e.data("original-height",o)}var i=n-r,a=!1;if(i>e.height()?(e.css("height",i+"px"),a=!0):i<e.height()&&i>=e.data("original-height")&&(a=!0),a&&e[0].scrollHeight!==n){var l=e[0].scrollHeight-n;r!==l&&e.attr("relative_error",l+r)}}},e.autoResizeText=function(t){var n=$('textarea[lectio-behavior~="autoresize"]'),r=function(n){var r=$(n).val();if(!(!r||!r.match(/\n/)&&r.length<15)){var o=$(n);e.fitToContent(o,t)}};n.attr("relative_error",0),n.each((function(e,t){return r(t)})),n.keyup((function(e){return r(e.target)})).keydown((function(e){return r(e.target)}))},e}();t.LectioTextBox=n},50541:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LectioTimeSpan=void 0;var r=n(97136),o=function(){function e(e){this.seconds=e}return e.Create=function(t,n){return new e(3600*t+60*n)},e.TryParseUserInput=function(t){r.LectioJSUtils.AssertArgument("string"==typeof t);var n=t.match(e.userInputRegExp);if(null===n)return null;var o=parseInt(n[1],10);if(o>24)return null;var i=n.length>=2&&void 0!==n[4]&&""!==n[4]?parseInt(n[4],10):0;return i>59?null:e.Create(o,i)},e.ParseUserInput=function(t){var n=e.TryParseUserInput(t);if(null===n)throw"Kan ikke parse tidsunkt: '"+t+"'.";return n},e.prototype.AddMinutes=function(t){return new e(this.seconds+60*t)},e.prototype.GetHours=function(){var e=this.seconds<0,t=Math.abs(this.seconds)/3600;return Math.floor(t)*(e?-1:1)},e.prototype.GetTotalMinutes=function(){return Math.floor(this.seconds/60)},e.prototype.GetMinutes=function(){var e=this.GetTotalMinutes(),t=this.GetHours();return(Math.abs(e)-60*Math.abs(t))*(e<0?-1:1)},e.prototype.ToLectioTimeSpanString=function(){var e=this.GetHours(),t=this.GetMinutes();return e+":"+(t<10?"0":"")+t},e.prototype.toString=function(){return"["+this.ToLectioTimeSpanString()+"]"},e.userInputRegExp=new RegExp("^ *([0-9]{1,2})(([.\\:]| +)([0-9]{1,2}))? *$"),e}();t.LectioTimeSpan=o},86248:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.LectioTreeView=void 0;var o=n(97136);!function(e){var t={};e.Initialize=function(e){o.LectioJSUtils.AssertNotNullOrUndefined(e,"options"),o.LectioJSUtils.AssertNotNullOrEmpty(e.containerId,"containerId"),o.LectioJSUtils.AssertNotNullOrEmpty(e.expandedNodesHiddenId,"expandedNodesHiddenId"),o.LectioJSUtils.AssertNotNullOrUndefined(e.doPostback,"doPostback");var n="selectedFolder",r=document.getElementById(e.containerId);if(!r)throw new Error("container");t[e.containerId]||(t[e.containerId]=!0,$(r).on("click","a",(function(t){t.preventDefault();var i=t.currentTarget.getAttribute("lec-command");if(!i)throw new Error("ltv click uden target.");var a=$(t.currentTarget).parents("div[lec-role=treeviewnodecontainer]:first");switch(o.LectioJSUtils.AssertOneElement(a),i){case"ltv-selectnode":var l=a.attr("lec-node-id");o.LectioJSUtils.AssertNotNullOrEmpty(l,"nodeId"),$(r).find(".selectedFolder").removeClass(n),$(t.currentTarget).addClass(n),e.doPostback(l);break;case"ltv-togglesublist":var s=a.children("div[lec-role=ltv-sublist]");o.LectioJSUtils.AssertOneElement(s);var c=a.children("div:first").find("[lec-command=ltv-togglesublist]").find("img");o.LectioJSUtils.AssertOneElement(c);var u=c.attr("src"),d=c.attr("lec-other-src");s.toggle(),c.attr("src",d),c.attr("lec-other-src",u);var f=document.getElementById(e.expandedNodesHiddenId);if(!(f&&f instanceof HTMLInputElement))throw new Error("hf");f.value=function(e){var t=document.getElementById(e);if(!t)throw new Error("container");return $(t).find("div[lec-role=ltv-sublist]").filter((function(e,t){return"none"!==t.style.display})).parent().toArray().map((function(e){return e.getAttribute("lec-node-id")||""}))}(e.containerId).join(" ");break;default:throw new Error("ltv command "+i)}})))};var n=function(e){return{v1:123,v2:33,query:e}};function i(e,t){return e.querySelector(l[t].query)}function a(e,t){return e.querySelectorAll(l[t].query)}var l={foldercontainer:n(":scope > [lec-role=treeviewnodecontainer]"),foldername:n(":scope > div > [lec-command=ltv-selectnode]"),subfolders:n(":scope > [lec-role=ltv-sublist]"),togglesublist:n(":scope > div > [lec-command=ltv-togglesublist]")},s=function(e,t){var n;return(null!==(n=a(e,"foldercontainer").map((function(e){return{name:i(e,"foldername").innerText,folderele:e}})).singleOrDefault((function(e){return e.name===t})))&&void 0!==n?n:o.LectioJSUtils.Throw("Fandt ikke folder '".concat(t,"'."))).folderele};function c(e){var t,n,a,l,c;o.LectioJSUtils.AssertArgument(e.length>=1);var u=null!==(a=document.querySelectorAll(".lectio_treeview").singleOrDefault())&&void 0!==a?a:o.LectioJSUtils.Throw("trae ikke fundet");try{for(var d=r(e),f=d.next();!f.done;f=d.next()){var p=f.value,h=s(u,p);h.scrollIntoView();var m=null!==(l=i(h,"subfolders"))&&void 0!==l?l:o.LectioJSUtils.Throw("Folderen '".concat(p,"' har vist ikke underfoldere."));if(!$(m).is(":visible")){var v=null!==(c=i(h,"togglesublist"))&&void 0!==c?c:o.LectioJSUtils.Throw("fandt ikke toggle");$(v).click(),o.LectioJSUtils.AssertArgument($(m).is(":visible"))}u=m}}catch(e){t={error:e}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}return u}e.GetSubfolderNames_unittest=function(e){return a(c(e),"foldercontainer").map((function(e){return i(e,"foldername").innerText}))},e.EnterFolder_unittest=function(e){var t,n=c(e.slice(0,-1)),r=e[e.length-1],a=null!==(t=i(s(n,r),"foldername"))&&void 0!==t?t:o.LectioJSUtils.Throw("fandt ikke mappe '".concat(r,"'."));$(a).click()}}(t.LectioTreeView||(t.LectioTreeView={}))},91087:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LectioValidator=void 0;var lectiolib_1=__webpack_require__(85964),ValidatorUpdateDisplay_Original,LectioValidator=function(){function LectioValidator(){}return LectioValidator.LectioRequiredFieldValidatorEvaluateIsValid=function(e){var t=RequiredFieldValidatorEvaluateIsValid(e),n=document.getElementById(e.controltovalidate);"hidden"===n.type&&(n=$(n).prevAll("input")[0]);var r=$(n);return t?(r.removeClass("valerror").attr("placeholder",""),LectioValidator.IsElementSelect(n)&&r.css("color","")):(r.addClass("valerror").attr("placeholder",e.errormessage),LectioValidator.IsElementSelect(n)&&(r.find("option").each((function(e,t){lectiolib_1.LectioJSUtils.GetAssertedType(t,HTMLOptionElement,"option").selected=!1,""===$(t).text().toUpperCase()&&$(t).remove()})),$('<option style="display: none;">Påkrævet</option>').attr("selected","true").attr("disabled","true").prependTo(r),n.selectedIndex=0,r.css("color","red"),setTimeout((function(){r.on("click",(function(){r.css("color","")}))}),1))),e.display="None",e.style.display&&"none"!==e.style.display.toLowerCase()&&(e.style.display="none"),t},LectioValidator.IsElementSelect=function(e){return"SELECT"===e.nodeName},LectioValidator.LectioValidatorUpdateDisplay=function(val){var f=val.getAttribute("displayupdatefunction");f?eval(f+"(val)"):ValidatorUpdateDisplay_Original&&ValidatorUpdateDisplay_Original(val)},LectioValidator.Initialize=function(){$((function(){if("ValidatorUpdateDisplay"in window){var e=ValidatorUpdateDisplay;ValidatorUpdateDisplay=LectioValidator.LectioValidatorUpdateDisplay,ValidatorUpdateDisplay_Original=e}})),$((function(){$("*[evaluationfunction]").each((function(){var e=this.getAttribute("evaluationfunction");this.evaluationfunction=window[e]}))}))},LectioValidator}();exports.LectioValidator=LectioValidator},37829:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LectioWebform=void 0;var r=n(95123),o=function(){function e(){}return e.Initialize=function(){$((function(){var e=window.WebForm_FireDefaultButton;window.WebForm_FireDefaultButton=function(t,n){var o=t.target;if(o instanceof HTMLElement&&"a"===o.tagName.toLowerCase())return!0;if(o instanceof HTMLElement&&"button"===o.tagName.toLowerCase())return!0;if(null!=e&&null!=e)try{return e(t,n)}catch(t){return r.JSErrorHandling.reportJSError("org(event, target) typeof org="+typeof e,t.toString()),!1}return r.JSErrorHandling.reportJSError("org != null && org != undefined"),!1}}))},e}();t.LectioWebform=o},20087:function(e,t){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.ModalDialogAsync=void 0;var i=function(){function e(){}return e.EnsureDialogOpen=function(e,t){var i=$("#"+e);if((i.is(":data(dialog)")||i.is(":data(uiDialog)"))&&i.dialog("isOpen")&&i.dialog("destroy"),i.is(":data(dialog)")||i.is(":data(uiDialog)"));else{var a=function(){var e=navigator.userAgent,t=/iPad|iPhone|iPod/.test(e),n=/OS 11_0_1|OS 11_0_2|OS 11_0_3|OS 11_1|OS 11_2/.test(e);if(t&&n)return{open:"fixed",closed:"absolute"}}(),l=[],s={title:t.title,modal:!0,appendTo:"#aspnetForm",buttons:t.buttons,close:function(){var e,r,o=l;l=[];try{for(var i=n(o),s=i.next();!s.done;s=i.next()){var c=s.value;c.ele.accessKey=c.accesskey}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}a&&$("body").css("position",a.closed),t.cancelPostBack()},open:function(e,s){var c,u,d,f,p=[],h=function(t){if(!t.accesskey)return"continue";var n=e.target.parentElement;if(!n)throw new Error("wtf?");var i=o([],r(document.querySelectorAll("[accesskey="+t.accesskey+"]")),!1).filter((function(e){return!n.contains(e)&&e instanceof HTMLInputElement&&!e.disabled?e:null})).map((function(e){return e}));p.push.apply(p,o([],r(i),!1))};try{for(var m=n(t.buttons),v=m.next();!v.done;v=m.next())h(w=v.value)}catch(e){c={error:e}}finally{try{v&&!v.done&&(u=m.return)&&u.call(m)}finally{if(c)throw c.error}}l=[];try{for(var g=n(p),y=g.next();!y.done;y=g.next()){var w,b=(w=y.value).accessKey;w.accessKey="",l.push({ele:w,accesskey:b})}}catch(e){d={error:e}}finally{try{y&&!y.done&&(f=g.return)&&f.call(g)}finally{if(d)throw d.error}}i.removeClass("hidden"),a&&$("body").css("position",a.open),$(i).trigger("modalDialogAsyncOpen")}};t.height&&(s.height=t.height),t.width&&(s.width=t.width),null!=t.resizable&&(s.resizable=t.resizable),i.dialog(s)}return function(){}},e.CloseDialog=function(e){var t=$("#"+e);if(!0===(t.is(":data(dialog)")||t.is(":data(uiDialog)"))){t.dialog("destroy");var n=navigator.userAgent,r=/iPad|iPhone|iPod/.test(n),o=/OS 11_0_1|OS 11_0_2|OS 11_0_3|OS 11_1|OS 11_2/.test(n);r&&o&&$("body").css("position","absolute")}},e}();t.ModalDialogAsync=i},16834:function(e,t){"use strict";var n=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.NiceFeaturesForAktivitet=void 0;var r=function(){function e(){}return e.Initialize=function(e,t,n,r){var o=this,i=$("#"+e).next(".lec-context-menu");i.find("#chooseRandomStudent").click((function(){o.chooseRandomStudent(t,r)})),i.find("#chooseRandomStudentAnimated").click((function(){o.chooseRandomStudentAnimated(t,r)})),i.find("#createGroups").click((function(){o.createGroups(t,4)})),i.find("#createGroupsN").click((function(){o.createGroupsN(t)}))},e.chooseRandomStudent=function(e,t){var n=Math.floor(Math.random()*e.length),r=e[n],o='<div style="text-align:center;"><img style="border: 1px solid  gray; border-radius: 5%;margin: 1em 2em" src='+t[n]+'></img></div><div style="text-align:center;">'+r+"</div>",i=$("#NiceFeaturesForAktivitetDialog");i.html(o),i.dialog({modal:!0,open:function(){},close:function(){i.html("")}})},e.chooseRandomStudentAnimated=function(e,t){var n=this,r=8e3/e.length-1,o=this.getAllpicturesHtml(e,t),i=$("#NiceFeaturesForAktivitetDialog");i.html(o),i.dialog({modal:!0,open:function(){var e=$("img",i);n.fade(e,r)},close:function(){i.html("")}});var a=window.innerWidth,l=window.innerHeight;i.parent().width(a-100).height(l-100),i.parent().css({top:50,left:50})},e.createGroups=function(e,t){var n=this.shuffle(e),r=this.getGroupsHtml(n,t),o=$("#NiceFeaturesForAktivitetDialog");o.dialog({title:"Grupper"}),o.html(r),o.dialog({modal:!0,open:function(){},close:function(){o.html("")}}),o.css("overflow-y","auto"),o.css("max-height","700px")},e.createGroupsN=function(e){var t=$("#NiceFeaturesForAktivitetInputDialog"),n=this;t.html('<div style="margin:2em;"><label>Gruppestørrelse:</label> <input Width="130" ID="groupSize" type=\'number\'/>'),t.dialog({modal:!0,open:function(){},close:function(){t.html("")},title:"Vælg gruppestørrelse",buttons:{Generer:function(){var r=$("#groupSize").val();t.dialog("close"),n.createGroups(e,Number(r))}}})},e.shuffle=function(e){for(var t,r=e.slice(0),o=e.length-1;o>0;o--){var i=Math.floor(Math.random()*(o+1));t=n([r[i],r[o]],2),r[o]=t[0],r[i]=t[1]}return r},e.getAllpicturesHtml=function(e,t){for(var n='<div style="text-align: center;">',r=0;r<t.length;r++)n+="<img src="+t[r]+' style="border: 1px solid  gray; border-radius: 5%;margin: 1em 2em" title="'+e[r]+'"></img>';return n+"</div>"},e.getGroupsHtml=function(e,t){var n='<div style="margin:2em 3em;">',r=0,o=1;n+='<div style"padding:1em;"><label> Gruppe '+o+':</label><ul class="standardlist">';for(var i=0;i<e.length;i++)n+="<li>"+e[i]+"</li>",++r===t&&i+1<e.length&&(r=0,n+='</ul><br/><br/></div><div style"padding:1em;"><label> Gruppe '+ ++o+':</label><ul class="standardlist">');return n+"</div>"},e.fade=function(e,t){var n=this;if(e.length<=1)this.displayWinner(e);else{var r=Math.floor(Math.random()*e.length),o=e.eq(r);e=e.not(o),o.fadeOut(t,(function(){n.fade(e,t)}))}},e.displayWinner=function(e){if(1===e.length){var t=e.first(),n=$("<div>"+t.attr("title")+"</div>").hide();t.after(n),n.slideDown(1e3)}},e}();t.NiceFeaturesForAktivitet=r},49050:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MoveSelection=void 0,t.MoveSelection=function(e,t,n){var r,o,i=$("select#"+e+"_"+t).find(":selected"),a=$("select#"+e+"_"+n);i.each((function(e,t){$(t).attr("locked")||(t.selected=!1,a.append(t))})),i.length,(o=(r=$(a)).find("option").get()).sort((function(e,t){var n=parseInt($(e).attr("sortint")),r=parseInt($(t).attr("sortint"));return n>r?1:n==r?0:-1})),r.append(o),function(e){var t=$("select#"+e+"_selectedSet"),n=$("input#"+e+"_selectedIds"),r=Array();$("option",t).each((function(e,t){r.push(t.value)})),n.val(r.join(";"))}(e),"True"==$("select#"+e+"_selectedSet").parents("table").attr("ismobilebrowser")&&function(e){$("select#"+e+"_selectedSet").each((function(){for(var e=0;e<this.options.length;e++)this.options[e].selected=!0}))}(e)}},5762:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PostBackHelper=void 0;var r=n(3297),o=n(10721),i=n(95123),a=n(85964);!function(e){var t,n="Der arbejdes...",l=2e3,s=null,c=0;function u(){t&&(t.completion.resolve(void 0),t=void 0)}function d(o,i,s,c){var u,d="pbnotify";t&&(t.completion.resolve(void 0),t=void 0);var f={completion:a.LectioJSUtils.CreateDeferred(),msg:n,timeout:l};return n="Der arbejdes...",l=2e3,t=f,f.completion.promise().finally((function(){u&&(u.dialog("destroy"),u=void 0)})),r.LectioCookie.deleteCookieGlobal(d),window.setTimeout((function(){if(!f.completion.isResolveOrRejected()){if(null!=r.LectioCookie.getCookie(d))return f.completion.resolve(void 0),void e.NotificationReceived.resolve(void 0);if(u=$("<div class=textCenter><p class='infoTextItalic'>"+f.msg+"</p></div>").appendTo("body").append($("<div />").progressbar({value:100})).dialog({title:"Vent venligst",resizable:!1}),o&&c&&$.connection&&(n="",u.append($("<div data-tag=\"dialogcontent\" class=textLeft style='padding: 1em'></div>")),$.connection.hub)){var t=$.connection.hub.createHubProxy("postbackHub");t.on("PostUpdate",(function(e){var t=JSON.parse(e),n=$('[data-tag="dialogcontent"]');n.empty();for(var r=0;r<t.length;r++)null==t[r]||""===t[r]?n.append($("<br/>")):n.append($("<div></div>",{text:t[r]}).css("white-space","pre"))}));var a=u;$.connection.hub.start().done((function(){t.invoke("attach",c);var e=$('<div class="textCenter"></div>');i&&e.append($("<div class=\"button\" style='margin: 0.4em'><a href=#>Annuller</a></div>").click((function(){return t.invoke("cancel",c),u&&(u.dialog("destroy").remove(),u=void 0),f.completion.resolve(void 0),!1}))),s&&e.append($("<div class=\"button\" style='margin: 0.4em'><a href=#>Anvend</a></div>").click((function(){return t.invoke("apply",c),f.completion.resolve(void 0),!1}))),e.find("div").length>0&&a.append(e)}))}setTimeout((function t(){f.completion.isResolveOrRejected()||(null!=r.LectioCookie.getCookie(d)?(u&&(u.dialog("destroy").remove(),u=void 0),f.completion.resolve(void 0),e.NotificationReceived.resolve(void 0)):setTimeout(t,100))}),100)}}),f.timeout),f.completion.promise()}function f(e){if(!e.data("disabledx"))return e.data("disabledx",!0),function(){e.removeData("disabledx")}}e.IsPerformingPostBack=function(){return c>0},e.NotificationReceived=a.LectioJSUtils.CreateDeferred(),e.Customize=function(e,t){null!=e&&(l=e),null!=t&&(n=t)},e.LatestSubmitEnded=u,e.InitializePostBackOverride=function(e){var t=window.theForm;$("body").on("keydown click lecclick",'a[data-role="button"]',(function(e){var t=$(e.currentTarget);switch(e.type){case"keydown":return void(32===e.keyCode&&(e.preventDefault(),e.stopImmediatePropagation(),t.trigger("lecclick")));case"lecclick":case"click":var n=t.attr("href"),r=n&&"#"!==n?n:"";if(r&&(e.ctrlKey||e.metaKey||e.shiftKey||e.altKey||"_blank"===t.attr("target")))return;if(t.is(":disabled")&&e.preventDefault(),e.isDefaultPrevented())return;if("lecclick"===e.type){var o=$.Event("click",{srcElement:t[0]});s=o.originalEvent;try{t.trigger(o)}finally{s=null}if(o.isDefaultPrevented())return;r&&(window.location.href=n)}var a=null!=n&&null!=n&&0===n.indexOf("#");if("click"===e.type&&r&&!a){var l;if(!t.is('[data-behavior~="multi-activation"]')&&!(l=f(t)))return void e.preventDefault();t.is('[data-behavior~="no-wait-bar"]')||d(!1,!1,!1,"").finally((function(){l&&l()}))}break;default:i.JSErrorHandling.reportJSError("button: got unexpected event type "+e.type)}}));var n=function(e,n){t||(t=($("#aspnetForm")||$("form")).get(0));var r=t;if(!t.onsubmit||!1!==t.onsubmit(void 0)){var i,a=s||window.event,l=void 0;if((!(l=a?a.currentTarget||a.target:null)||l instanceof Element&&"#document"===l.nodeName||l===window)&&(l=null),l&&!(i=f($(l))))return!1;var u=e?$("#"+e.replace(/\$/g,"_")):$(),p=u.length>0&&!!u.attr("data-showpostbackprogress"),h=u.length>0&&!!u.attr("data-showpostbackcancelbtn"),m=u.length>0&&!!u.attr("data-showpostbackapplybtn"),v=p?Math.random()+"":"";u.is('[data-behavior~="no-wait-bar"]')||d(p,h,m,v).finally((function(){i&&i()})),l&&$(l).is('[data-behavior~="keep-session-helper"]')||o.SessionHelper.Instance&&o.SessionHelper.Instance.SetIsSuspended(!0),t.LectioPostbackId||$('<input type="hidden" name="LectioPostbackId" id="LectioPostbackId" value="" />').appendTo($(r)),t.LectioPostbackId.value=v,t.__EVENTTARGET||$('<input type="hidden" name="__EVENTTARGET" id="__EVENTTARGET" value="tg" />').appendTo($(r)),t.__EVENTARGUMENT||$('<input type="hidden" name="__EVENTARGUMENT" id="__EVENTARGUMENT" value="ta" />').appendTo($(r)),t.__EVENTTARGET.value=e,t.__EVENTARGUMENT.value=n,c++,t.submit()}},r=!0;if(window.Sys&&Sys.WebForms&&Sys.WebForms.PageRequestManager){var l=Sys.WebForms.PageRequestManager.getInstance();l._originalDoPostBack=n,l._prmInitialized&&(r=!1),l.add_beginRequest((function(e,t){return d(!1,!1,!1,"")})),l.add_endRequest((function(e,t){return u()}));var p=function(t,n){this._additionalInput=null;var r=this._form;if(null==t||this._isCrossPost)this._postBackSettings=this._createPostBackSettings(!1),this._isCrossPost=!1;else{var o=this._masterPageUniqueID,i=this._uniqueIDToClientID(t),l=document.getElementById(i);if(!l&&o&&0===t.indexOf(o+"$")&&(l=document.getElementById(i.substr(o.length+1))),l)"1"===l.getAttribute("data-fullpostback")?this._postBackSettings=this._createPostBackSettings(!1):this._postBackSettings=this._getPostBackSettings(l,t);else if(Array.contains(this._asyncPostBackControlIDs,t))this._postBackSettings=this._createPostBackSettings(!0,null,t);else if(Array.contains(this._postBackControlIDs,t))this._postBackSettings=this._createPostBackSettings(!1);else{var s=this._findNearestElement(t);s?this._postBackSettings=this._getPostBackSettings(s,t):(o&&(o+="$",0===t.indexOf(o)&&(s=this._findNearestElement(t.substr(o.length)))),this._postBackSettings=s?this._getPostBackSettings(s,t):this._createPostBackSettings(!1))}}if(!this._postBackSettings.async)return r.onsubmit=this._onsubmit,this._originalDoPostBack(t,n),void(r.onsubmit=null);r.__EVENTTARGET.value=t,r.__EVENTARGUMENT.value=n,function(){if(e){var t=e?e():null;a.LectioPageOps.SetCustomScrollState(null!=t?t:{})}}(),this._onFormSubmit()};l._doPostBack=p,r||(window.__doPostBack=p.bind(l))}r&&(window.__doPostBack=n),window.WebForm_DoPostBackWithOptions&&(window.WebForm_DoPostBackWithOptions=function(e){var n=!0;if(e.validation&&"function"==typeof window.Page_ClientValidate){if(n=window.Page_ClientValidate(e.validationGroup),!window.Page_Validators)throw new Error("Ingen Page_Validators?");var r=window.Page_Validators.filter((function(e){return!e.isvalid})),o=r.length?r[0]:null;if(o&&o.controltovalidate){var i=document.getElementById(o.controltovalidate);if(i){if(i instanceof HTMLInputElement&&"hidden"===i.type&&null!=i.parentElement){var a=i.parentElement.getElementsByTagName("input");2===a.length&&("text"===a[0].type&&"hidden"===a[1].type||"hidden"===a[0].type&&"input"===a[1].type)&&(i="text"===a[0].type?a[0]:a[1])}i.focus()}}}if(n&&(void 0!==e.actionUrl&&null!=e.actionUrl&&e.actionUrl.length>0&&(t.action=e.actionUrl),e.trackFocus)){var l=t.elements.__LASTFOCUS;if(void 0!==l&&null!=l)if(void 0===document.activeElement)l.value=e.eventTarget;else{var s=document.activeElement;s&&(void 0!==s.id&&null!=s.id&&s.id.length>0?l.value=s.id:void 0!==s.name&&(l.value=s.name))}}e.clientSubmit&&window.__doPostBack(e.eventTarget,e.eventArgument)})}}(t.PostBackHelper||(t.PostBackHelper={}))},27981:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectChooser=void 0;var r=n(97136);!function(e){function t(e,t){for(var n=0;n<e.options.length;n++)if(e.options[n].value==t)return!0;return!1}function n(e,t,n,r,o){var i,a,l=n.toUpperCase();if(0===e.options.length)i=e.options.length,e.options[e.options.length]=new Option(n,t);else{var s=0;if(0===o)for(a=0;a<e.options.length&&(s=a,!(l<e.options[a].text.toUpperCase()));a++)s++;else{var c=t.substring(0,1);for(a=0;a<e.options.length&&(s=a,!(c==e.options[a].value.substring(0,1)&&l<e.options[a].text.toUpperCase()))&&!(c<e.options[a].value.substring(0,1));a++)s++}for(a=e.options.length;a>s;a--)e.options[a]=new Option(e.options[a-1].text,e.options[a-1].value),e.options[a].selected=e.options[a-1].selected;i=s,e.options[s]=new Option(n,t)}e.options[i].selected=r}e.SelectFirstEntries=function(e){for(var t=r.LectioJSUtils.GetAssertedType(document.getElementById(e+"_MyListbox"),HTMLSelectElement,"select"),n=r.LectioJSUtils.GetAssertedType(document.getElementById(e+"_MyListboxSel"),HTMLSelectElement,"select"),o=1;o<t.options.length;o++)t.options[o].selected=!1;for(t.options.length>0&&(t.options[0].selected=!0),o=1;o<n.options.length;o++)n.options[o].selected=!1;n.options.length>0&&(n.options[0].selected=!0)},e.AddOption=n,e.SelectThis=function(n,o,i){for(var a=r.LectioJSUtils.GetAssertedType(document.getElementById(n+"_MyListbox"),HTMLSelectElement,"select"),l=r.LectioJSUtils.GetAssertedType(document.getElementById(n+"_MyListboxSel"),HTMLSelectElement,"select"),s=0;s<a.options.length;s++)if(a.options[s].value==o){var c=a.options[s].value,u=a.options[s].text;t(l,c)||(e.AddOption(l,c,u,!1,i),a.options[s].selected=!0)}for(;a.selectedIndex>=0;)a.remove(a.selectedIndex)},e.RemoveBtn=function(e,t){var o=r.LectioJSUtils.GetAssertedType(document.getElementById(e+"_MyListbox"),HTMLSelectElement,"select"),i=r.LectioJSUtils.GetAssertedType(document.getElementById(e+"_MyListboxSel"),HTMLSelectElement,"select");for(o.selectedIndex=-1;i.selectedIndex>=0;)n(o,i.options[i.selectedIndex].value,i.options[i.selectedIndex].text,!0,t),i.remove(i.selectedIndex)},e.AddBtn=function(e,o){var i=r.LectioJSUtils.GetAssertedType(document.getElementById(e+"_MyListbox"),HTMLSelectElement,"select"),a=r.LectioJSUtils.GetAssertedType(document.getElementById(e+"_MyListboxSel"),HTMLSelectElement,"select");a.selectedIndex=-1;for(var l=0;l<i.options.length;l++)if(i.options[l].selected){var s=i.options[l].value,c=i.options[l].text;t(a,s)||n(a,s,c,!0,o)}for(;i.selectedIndex>=0;)i.remove(i.selectedIndex)},e.selectsubmit=function(e){for(var t=r.LectioJSUtils.GetAssertedType(document.getElementById(e+"_MyListboxSel"),HTMLSelectElement,"select"),n=0;n<t.options.length;n++)t.options[n].selected=!0}}(t.SelectChooser||(t.SelectChooser={}))},51706:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionDialogs=void 0;var o=n(97136),i=n(80693);!function(e){var t,n;function a(e,t){function n(e){return e?1:0}var r=o.LectioJSUtils.GetBaseSchoolURL()+"/documentchoosercontent.aspx?year="+e.year+"&ispublic="+n(e.isPublic)+"&showcheckbox="+n(e.showCheckbox)+"&mode="+(e.mode||"pickfile")+(t?"&folderid="+t:"")+(e.activityContentId?"&activitycontentid="+e.activityContentId:"")+(e.warnIfUploadIsOld?"&warnIfUploadIsOld=1":""),i=$('<iframe id="iframedocchooser" scrolling="no"  frameBorder="0" src="'+r+'" />').appendTo("body");return d({title:e.title},{showHomeworkCreationMannerOptions:!1},i)}function l(e,t,n){if(t>n)throw new Error("minval >= maxval");return e<t?t:e>n?n:e}!function(e){e.auto="auto",e.lektie="lektie",e.oevrigIndhold="oevrigtIndhold",e.aktuelleAfsnit="aktuelleAfsnit"}(t=e.HomeworkCreationManner||(e.HomeworkCreationManner={})),(n=e.InitialFolder||(e.InitialFolder={})).createLink="createLink",n.uploadFile="uploadFile",n.video="video",e.ShowChooseDocumentDialog=function(e){return a(e,null)},e.ShowChooseDocumentOrEditorContentDialog=function(e,t){return a({isPublic:!1,showCheckbox:!1,warnIfUploadIsOld:!1,title:e.title,year:e.year,mode:"pickeditorcontent"},t)},e.Test_WaitFirstDialog=function(){return Promise.all([u.promise(),c.promise()]).then((function(e){return r(e,1)[0]}))},e.ShowChooseFolderDialog=function(e){var t=o.LectioJSUtils.GetBaseSchoolURL()+"/documentchoosercontent.aspx?mode=savefile&year="+e.year;return d({title:"Vælg mappe",okButtonText:"Gem i mappe"},{showHomeworkCreationMannerOptions:!1},$('<iframe id="iframedocchooser" scrolling="Auto"  frameBorder="0" src="'+t+'" />').appendTo("body"))},e.ShowHomeworkPickerDialog=function(e){var t=o.LectioJSUtils.GetBaseSchoolURL()+"/documentchoosercontent.aspx?mode=pickhomework&year="+e.year+"&activitycontentid="+e.activitycontentid+(e.phaseids?"&phaseids="+e.phaseids:"")+(e.folderid?"&folderid="+e.folderid:"");return d({title:"Vælg materiale"},e,$('<iframe id="iframedocchooser" scrolling="Auto"  frameBorder="0" src="'+t+'" />').appendTo("body"))},e.ShowHomeworkPickerDialog_ForPhaseMaterial=function(e){var t=o.LectioJSUtils.GetBaseSchoolURL()+"/documentchoosercontent.aspx?mode=pickeditorcontent_forphasematerial&year="+e.year+(e.phaseid?"&phaseids="+e.phaseid:"");return d({title:"Vælg materiale"},{showHomeworkCreationMannerOptions:!1,requirePhaseMatHtml:!0},$('<iframe id="iframedocchooser" scrolling="Auto"  frameBorder="0" src="'+t+'" />').appendTo("body"))};var s=!1;e.DebugDontSendSelection=function(e){s=e},e.DocumentChooserContentInitialize=function(e){var t,n,r={InitFromServer:function(e){t=n,l()},OkButtonPressed:function(t){e.doPostBack(JSON.stringify({preferEditorMarkup:t.preferEditorMarkup}))}},a=[];function l(){if(o.LectioJSUtils.AssertArgument(null!=t,"portToHost != null"),!t)throw new Error("portToHost er null.");for(;a.length;){var e=a.shift();if("Selected"===e.type&&s)return o.LectioJSUtils.LogDebug("SelectionDialogs: "+e.type,e.data),void a.push(e);t.postMessage(e)}}var c=function(e){a.push(e),t&&l()},u=new MessageChannel,d=u.port1;return d.onmessage=function(e){var t=e.data;if("string"!=typeof t.type)throw new Error("Besked: Manglende/fejlagtig type-property."+t.type);var n=t.type,o=r[n];if(!o)throw new Error("MessageType "+n+" mangler handler.");o(t)},window.parent.postMessage({type:"InitFromClient"},window.origin,[u.port2]),n=d,setTimeout((function(){t||console.warn("port til host ikke modtaget efter nogle sekunder.")}),5e3),document.body.addEventListener("keydown",(function(e){"Escape"===e.code&&!(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&c({type:"Cancel"})})),c({type:"SupportsOkButton",supportsOkButton:e.enableOkButton}),{SendSelectionToHost:function(e){return c({type:"Selected",data:e})},SendMessageToHost:function(e,t){t?i.LectioConfirmBox.ShowConfirm(t.title,t.questionHtml).then((function(t){t&&c(e)})):c(e)}}};var c=o.LectioJSUtils.CreateDeferred(),u=o.LectioJSUtils.CreateDeferred();function d(n,r,i){var a,s=o.LectioJSUtils.CreateDeferred(),d=r.showHomeworkCreationMannerOptions?r.defaultHomeworkCreationManner:null;function f(e){i.remove(),s.resolve(e)}function p(){var e=i.parent(".ui-dialog").find("input[type=radio]:checked").val()||o.LectioJSUtils.GetNotNullValue(d);return o.LectioJSUtils.AssertEnumValue(t,e),e}var h=0,m={InitFromClient:function(e){throw new Error("skal ikke haandteres her")},SupportsOkButton:function(e){0==h++&&i.focus();var o=i.parent(".ui-dialog").find(".ui-dialog-buttonset"),l=o.find("button[lec-role=ok]");0===l.length&&(l=$("<button type=button lec-role=ok>Vælg</button>"),n.okButtonText&&l.text(n.okButtonText),l.insertBefore(o.find("button:first")),l.on("click",(function(){a({type:"OkButtonPressed",preferEditorMarkup:r.showHomeworkCreationMannerOptions&&p()===t.aktuelleAfsnit?"headingvariants_off":r.showHomeworkCreationMannerOptions||!0!==r.requirePhaseMatHtml?"no":"headingvariants_on"})}))),e.supportsOkButton?l[0].removeAttribute("disabled"):l[0].setAttribute("disabled",""),c.resolve(void 0)},Selected:function(e){var t;t=e.data,r.showHomeworkCreationMannerOptions&&null!=t&&(t.creationManner=p()),f(t)},Done:function(e){f(void 0)},Cancel:function(e){f(void 0)}};function v(e){var t=e.data;if(o.LectioJSUtils.LogDebug("onmessage",e.data),"string"!=typeof t.type)throw new Error("Besked: Manglende/fejlagtig type-property."+t.type);var n=t.type,r=m[n];if(!r)throw new Error("MessageType "+n+" mangler handler.");r(t)}window.addEventListener("message",(function(e){if(e.origin===window.origin){var t=e.data;if(o.LectioJSUtils.LogDebug("window.onmessage",e.data),"string"==typeof t.type&&"InitFromClient"===t.type){var n=e.ports[0];a=function(e,t){return n.postMessage(e,t)},n.onmessage=v,n.postMessage({type:"InitFromServer"})}}}));var g=[{text:"Annuller",click:function(){i.remove()}}],y=l(window.innerHeight-100,500,705),w=l(window.innerWidth-50,600,1440);return i.dialog({modal:!0,autoOpen:!0,dialogClass:"documentchooserDialog",title:n.title,height:y,width:w,closeOnEscape:!0,resizable:!0,buttons:g,close:function(e){s.resolve(void 0)},create:function(t){var n;if(r.showHomeworkCreationMannerOptions){var a=i.parent(".ui-dialog").find(".ui-dialog-buttonpane");o.LectioJSUtils.AssertArgument(a.length>0,"pane.length > 0");var l=$('<div class="insert-as-type"></div>');if(l.append("<input type=radio name=dialog_insertionmanner ".concat(d===e.HomeworkCreationManner.auto?"checked":""," id=dialog_auto value=").concat(e.HomeworkCreationManner.auto,"><label for=dialog_auto>Auto</label>")),l.append("<input type=radio name=dialog_insertionmanner ".concat(d===e.HomeworkCreationManner.lektie?"checked":""," id=dialog_lektie value=").concat(e.HomeworkCreationManner.lektie,"><label for=dialog_lektie>Lektie</label>")),l.append("<input type=radio name=dialog_insertionmanner ".concat(d===e.HomeworkCreationManner.oevrigIndhold?"checked":""," id=dialog_oevrigtindhold value=").concat(e.HomeworkCreationManner.oevrigIndhold,"><label for=dialog_oevrigtindhold>Øvrigt indhold</label>")),"disabled"===r.homeworkCreationOptionAktuelleAfsnit||"visible"===r.homeworkCreationOptionAktuelleAfsnit){var c="disabled"===r.homeworkCreationOptionAktuelleAfsnit?"disabled":"";l.append("<input type=radio name=dialog_insertionmanner ".concat(d===e.HomeworkCreationManner.aktuelleAfsnit?"checked":""," id=dialog_aktuelleafsnit value=").concat(e.HomeworkCreationManner.aktuelleAfsnit," ").concat(c,"><label for=dialog_aktuelleafsnit ").concat(c,">I aktuelle afsnit</label>"))}a.append(l),n=function(e){var t=l.find("input[type=radio][value="+e+"]");o.LectioJSUtils.AssertArgument(1===t.length,"radio.length"),t.click()}}else n=function(){throw new Error("Der er ikke creationManner i denne dialog.")};u.resolve({SetCreationManner:n,Closed:s.promise().then((function(e){}))})}}),i.removeAttr("style"),i.css("width",w-20+"px"),i.css("height",y-78+"px"),s.promise()}}(t.SelectionDialogs||(t.SelectionDialogs={}))},10721:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionHelper=void 0;var r=n(95123),o=n(3297),i=n(97136),a=function(){function e(e,t,n,o){var i=this;if(this._schoolId=null,this._secondsUntilWarning=null,this._secondsUntilTimeout=null,this._currentlyShowingDialog=null,this._isSuspended=!1,this.sessionCheckIntervalId=null,this.createWarningDialogCount=0,this.pingStartCount=0,this.pingCompleteCount=0,this.pingCompleteCount2=0,this.hasStartedRedirecting=!1,this.SetIsLoggedIn(e),e){this._schoolId=t,this._secondsUntilWarning=n,this._secondsUntilTimeout=o;var a=document.cookie;if(this.SetSchoolId(t),this.GetSchoolId()!==t)return void r.JSErrorHandling.reportJSError("Sessionsforlænger: Kunne ikke sætte BaseSchoolUrl.","Satte '".concat(t,"', fik '").concat(this.GetSchoolId(),"'. Cookie før: '").concat(a,"'. Cookie efter: '").concat(document.cookie,"'."));this.SetLastAuthenticatedPageLoad(new Date),this.sessionCheckIntervalId=window.setInterval((function(){return i.TimerSessionCheck()}),2e3)}}return e.log=function(e){window.console&&window.console.log&&window.console.log(e)},e.prototype.SetLastAuthenticatedPageLoad=function(e){var t=e.toString();o.LectioCookie.setCookieGlobal("LastAuthenticatedPageLoad",t)},e.prototype.GetLastAuthenticatedPageLoad=function(){var e=o.LectioCookie.getCookie("LastAuthenticatedPageLoad");if(!e)return null;var t=Date.parse(e);return isNaN(t)?(r.JSErrorHandling.reportJSError('LastAuthenticatedPageLoad: NaN: "'+e+'"'),null):new Date(t)},e.prototype.GetIsLoggedIn=function(){var e=o.LectioCookie.getCookie("isloggedin3");return void 0===e||"Y"!==e&&"N"!==e?null:"Y"===e},e.prototype.SetIsLoggedIn=function(e){"boolean"!=typeof e&&r.JSErrorHandling.reportJSError("SetIsLoggedIn(".concat(e,")"));var t=e?"Y":"N";o.LectioCookie.setCookieGlobal("isloggedin3",t)},e.prototype.GetSchoolId=function(){var e=parseInt(o.LectioCookie.getCookie("BaseSchoolUrl")||"");return isNaN(e)?null:e},e.prototype.SetSchoolId=function(e){o.LectioCookie.setCookieGlobal("BaseSchoolUrl",e.toString())},e.prototype.SetIsSuspended=function(e){this._isSuspended=e},e.prototype.HasStartedRedirecting=function(){return this.hasStartedRedirecting},e.prototype.ShowWarningDialog=function(){var t=this;null!==this._currentlyShowingDialog&&e.log("ShowWarningDialog: Dialog != null");var n,o=$("<div style='text-align: center'><h3>Du bliver snart logget ud.</h3><p>Af sikkerhedsmæssige årsager bliver du snart logget ud.<br />Klik herunder for at forlænge sessionen.</p></div>").appendTo("body");this.createWarningDialogCount++,n=o.dialog({title:"Sessionsudløb",resizable:!1,buttons:[{text:"Forlæng session",click:function(){n.is(":visible")&&(t.pingStartCount++,5===t.pingStartCount&&Math.random()<.1&&r.JSErrorHandling.reportJSError("Mange ping-kald fra denne side.\r\ncreateWarningDialogCount: "+t.createWarningDialogCount+"\r\npingStartCount: "+t.pingStartCount+"\r\npingCompleteCount: "+t.pingCompleteCount+"\r\npingCompleteCount2: "+t.pingCompleteCount2),$.get(i.LectioJSUtils.GetBaseSchoolURL()+"/ping.aspx",(function(){t.pingCompleteCount++,t._currentlyShowingDialog=null,t.SetLastAuthenticatedPageLoad(new Date),n.dialog("close"),t.pingCompleteCount2++})))}}],close:function(){}}),this._currentlyShowingDialog=n},e.prototype.Redirect=function(e){this.hasStartedRedirecting=!0,this.sessionCheckIntervalId&&window.clearInterval(this.sessionCheckIntervalId),window.location.href=i.LectioJSUtils.GetBaseSchoolURL()+e},e.prototype.TimerSessionCheck=function(){if(!this._isSuspended){var t=this.GetIsLoggedIn();if(null===t)return null!==this.sessionCheckIntervalId&&(window.clearInterval(this.sessionCheckIntervalId),this.sessionCheckIntervalId=null),void e.log("Sessionsforlænger: Droppes pga. manglende/tom/ugyldig cookie.");if(t){var n=this.GetSchoolId();if(n&&this._schoolId&&n!==this._schoolId)return e.log("Sessionsforlænger: baseSchoolUrlFromSession changed."),void this.Redirect("/default.aspx");var r=this.GetLastAuthenticatedPageLoad();if(r){var o=(new Date).getTime()-r.getTime();if(o>=1e3*this._secondsUntilTimeout)this.Redirect("/logout.aspx?fromSessionHelper=true");else if(o>=1e3*this._secondsUntilWarning){if(this._currentlyShowingDialog)return;this.ShowWarningDialog()}else this._currentlyShowingDialog&&(this._currentlyShowingDialog.dialog("close"),this._currentlyShowingDialog=null)}}else this.Redirect("/default.aspx")}},e.Initialize=function(t,n,r,o){e.Instance&&e.log("Warning: Re-initializing SessionHelper."),e.Instance=new e(t,n,r,o)},e}();t.SessionHelper=a},61847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SkemaMenu=void 0;var r=n(97136),o=n(95123),i=n(50541),a=function(){function e(){}return e.Initialize=function(t){r.LectioJSUtils.AssertArgumentPresent(t,"Ikke nogen skemadata?"),e.skemadata=t},e.SetupContextMenu=function(t){if(!e.skemadata)throw new Error("skemadata");if(!1===e.skemadata.isLoggedIn||!1===e.skemadata.lektionAvailable&&!1===e.skemadata.privAppAvailable&&!1===e.skemadata.aaAvailable)return!1;t||(t=window.event);var n=t.pageY-$("div.s2skemabrikcontainer").position().top,r=n/e.skemadata.hourHeight*60*60+60*e.skemadata.firstdate.getHours()*60+60*e.skemadata.firstdate.getMinutes(),a=Math.floor(r/3600),l=Math.floor((r-60*a*60)/60);return a>23&&(a=23,l=45),(isNaN(a)||isNaN(l))&&(o.JSErrorHandling.reportJSError("STM15815 Javascriptfejl - ny aa/lektion/privat: totalSec: "+r+"  mouseY: "+n+"  skemadata.hourHeight: "+e.skemadata.hourHeight+"  skemadata.firstdate.getHours(): "+e.skemadata.firstdate.getHours()+"  skemadata.firstdate.getMinutes(): "+e.skemadata.firstdate.getMinutes()),a=8,l=0),e.timeClicked=i.LectioTimeSpan.Create(a,l).ToLectioTimeSpanString(),!0},e.GetLektionLink=function(t,n){if(!e.SetupContextMenu(t))return null;if(!e.skemadata)throw new Error("skemadata");return e.skemadata.lektionLink+"&date="+n+"&time="+e.timeClicked+"&prevurl="+e.skemadata.goBackUrl},e.GetPrivAppLink=function(t,n){if(!e.SetupContextMenu(t))return null;if(!e.skemadata)throw new Error("skemadata");return r.LectioJSUtils.GetBaseSchoolURL()+"/privat_aftale.aspx?date="+n+"&time="+e.timeClicked+"&prevurl="+e.skemadata.goBackUrl},e.GetAALink=function(t,n){if(!e.SetupContextMenu(t))return null;if(!e.skemadata)throw new Error("skemadata");var r="&date="+n+"&time="+e.timeClicked;return e.skemadata.aaLink+r+"&prevurl="+e.skemadata.goBackUrl},e}();t.SkemaMenu=a},77758:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SkemaUge=void 0;var n=function(){function e(){}return e.Initialize=function(t){e.containerID=t;var n=document.getElementById(t);n&&(e.chbType="module",e.firstCol=1,e.firstRow=2,e.lastCol=Number(n.getAttribute("data-maxCol")),e.lastRow=Number(n.getAttribute("data-maxRow")),$(".skemaweekWeek",n).mousedown((function(t){e.expandWeek(t.target,t.button)})),$(".skemaweekFirstModuleSpan",n).mousedown((function(t){e.expandRow(t.target,t.button)})),$(".skemaweekWeek",n).click((function(t){e.selectWeek(t.target)})),$(".skemaweekSkemabrik",n).click((function(t){e.selectSkemabrikClick(t.currentTarget)})),$(".skemaweekWeek",n).mouseover((function(t){e.highlightWeek(t.target)})),$(".skemaweekWeek",n).mouseout((function(t){e.unhighlightWeek(t.target)})),$(".skemaweekFirstModuleSpan",n).click((function(t){e.selectRow(t.target)})),$(".skemaweekFirstModuleSpan",n).mouseover((function(t){e.highlightRow(t.target)})),$(".skemaweekFirstModuleSpan",n).mouseout((function(t){e.unhighlightRow(t.target)})),$("input:checkbox[data-type=sb]",n).focusin((function(t){e.highlightSkemabrik(t.target)})),$("input:checkbox[data-type=sb]",n).focusout((function(t){e.unhighlightSkemabrik(t.target)})),document.addEventListener("keydown",this.keyboardDown))},e.expandWeek=function(e,t){if(2===t){var n=$(e).attr("data-colNum");if(!n)return;var r=$("div[data-isexpander=true][data-colNum="+n+"]").siblings("a"),o=$("div[data-isexpander=true][data-colNum="+n+"]:hidden").siblings("a");0===o.length||o.length===r.length?r.click():o.click()}},e.expandRow=function(e,t){if(2===t){var n=$(e).attr("data-rowNum");if(!n)return;var r=$("div[data-isexpander=true][data-rowNum="+n+"]").siblings("a"),o=$("div[data-isexpander=true][data-rowNum="+n+"]:hidden").siblings("a");0===o.length||o.length===r.length?r.click():o.click()}},e.selectActivity=function(){var t=$(document.activeElement);if("checkbox"===t.attr("type"))if("sb"===e.chbType){var n=t.attr("data-absenseID");if(!n)return;var r=$("input:checkbox[data-absenseID="+n+"]");t.prop("checked")?r.prop("checked",!1).change():r.prop("checked",!0).change()}else t.is(":checked")?t.prop("checked",!1):t.prop("checked",!0)},e.selectSkemabrikClick=function(e){var t=$(e).attr("data-absenseid");if(t){var n=$("input:checkbox[data-absenseid="+t+"]");n.filter(":checked").length>0?n.prop("checked",!1).change():n.prop("checked",!0).change()}},e.selectWeek=function(e){var t=$(e).attr("data-colNum");if(t){var n=$("input:checkbox[data-colNum="+t+"][data-isHoliday=False]");n.filter(":checked").length===n.length?n.prop("checked",!1).change():n.prop("checked",!0).change()}},e.selectRow=function(e){var t=$(e).attr("data-rowNum");if(t){var n=$("input:checkbox[data-rowNum="+t+"][data-isHoliday=False]");n.filter(":checked").length===n.length?n.prop("checked",!1).change():n.prop("checked",!0).change()}},e.highlightWeek=function(e){var t=$(e).attr("data-colNum");if(t){var n=$(".skemaweekModuleContainer[data-colNum="+t+"]"),r=$(".skemaweekSkemabrikContainer[data-colNum="+t+"]");n.addClass("highlightSelection"),r.addClass("highlightSelection")}},e.unhighlightWeek=function(e){var t=$(e).attr("data-colNum");if(t){var n=$(".skemaweekModuleContainer[data-colNum="+t+"]"),r=$(".skemaweekSkemabrikContainer[data-colNum="+t+"]");n.removeClass("highlightSelection"),r.removeClass("highlightSelection")}},e.highlightRow=function(e){var t=$(e).attr("data-rowNum");if(t){var n=$(".skemaweekModuleContainer[data-rowNum="+t+"]"),r=$(".skemaweekSkemabrikContainer[data-rowNum="+t+"]");n.addClass("highlightSelection"),r.addClass("highlightSelection")}},e.unhighlightRow=function(e){var t=$(e).attr("data-rowNum");if(t){var n=$(".skemaweekModuleContainer[data-rowNum="+t+"]"),r=$(".skemaweekSkemabrikContainer[data-rowNum="+t+"]");n.removeClass("highlightSelection"),r.removeClass("highlightSelection")}},e.highlightSkemabrik=function(e){var t=$(e).attr("data-absenseID"),n=$(e).attr("data-rowNum"),r=$(e).attr("data-colNum");t&&n&&r&&$(".skemaweekSkemabrik[data-absenseID="+t+"][data-rowNum = "+n+"][data-colNum="+r+"]").addClass("highlightSelectionSkemabrik")},e.unhighlightSkemabrik=function(e){var t=$(e).attr("data-absenseID"),n=$(e).attr("data-rowNum"),r=$(e).attr("data-colNum");t&&n&&r&&$(".skemaweekSkemabrik[data-absenseID="+t+"][data-rowNum = "+n+"][data-colNum="+r+"]").removeClass("highlightSelectionSkemabrik")},e.keyboardDown=function(t){switch(t.which){case 37:e.moveLeft();break;case 38:e.moveUp();break;case 39:e.moveRight();break;case 40:e.moveDown();break;case 9:e.changeCheckboxType();break;case 32:e.selectActivity();break;default:return}t.preventDefault()},e.changeCheckboxType=function(){"module"===e.chbType?e.chbType="sb":e.chbType="module",$("input:checkbox[data-type="+e.chbType+"]").first().focus()},e.moveLeft=function(){var t=$(document.activeElement);if("checkbox"===t.attr("type"))for(var n=Number(t.attr("data-rowNum")),r=Number(t.attr("data-colNum")),o=Number(t.attr("data-count")),i=r-1;i>=e.firstCol;i--){var a=this.examineColumn(n,i,o);if(void 0!==a&&a.length)return void a.focus()}},e.moveRight=function(){var t=$(document.activeElement);if("checkbox"===t.attr("type"))for(var n=Number(t.attr("data-rowNum")),r=Number(t.attr("data-colNum")),o=Number(t.attr("data-count")),i=r+1;i<=e.lastCol;i++){var a=this.examineColumn(n,i,o);if(void 0!==a&&a.length)return void a.focus()}},e.examineColumn=function(t,n,r){var o=$(this.getCheckboxCountSelector(t,n,r));if(o.length)return o;if((o=$(this.getCheckboxSelector(t,n)).last()).length)return o;for(var i=t;i<=e.lastRow;i++)if((o=$(this.getCheckboxSelector(i,n)).first()).length)return o;for(i=t-1;i>=e.firstRow;i--)if((o=$(this.getCheckboxSelector(i,n)).last()).length)return o},e.moveUp=function(){var t=$(document.activeElement);if("checkbox"===t.attr("type")){var n=Number(t.attr("data-rowNum")),r=Number(t.attr("data-colNum")),o=Number(t.attr("data-count"))-1,i=t;if("sb"===e.chbType)for(i=$(this.getCheckboxCountSelector(n,r,o));!i.length&&n>=e.firstRow;){n--,o=1;var a=$("div[data-isExpander=true][data-rowNum="+n+"][data-colNum="+r+"]");for(null!=a.attr("id")&&"none"===a.css("display")&&$("#"+a.attr("id")+"_hp").click(),i=$(this.getCheckboxCountSelector(n,r,o));i.length;)o++,i=$(this.getCheckboxCountSelector(n,r,o));o--,i=$(this.getCheckboxCountSelector(n,r,o))}else i=$(this.getCheckboxSelector(n-1,r));i.focus()}},e.moveDown=function(){var t=$(document.activeElement);if("checkbox"===t.attr("type")){var n=Number(t.attr("data-rowNum")),r=Number(t.attr("data-colNum")),o=Number(t.attr("data-count"))+1,i=$("div[data-isExpander=true][data-rowNum="+n+"][data-colNum="+r+"]");2===o&&i.length&&"none"===i.css("display")&&$("#"+i.attr("id")+"_hp").click();var a=t;if("sb"===e.chbType)for(a=$(this.getCheckboxCountSelector(n,r,o));!a.length&&n<=e.lastRow;)n++,a=$(this.getCheckboxCountSelector(n,r,1));else a=$(this.getCheckboxSelector(n+1,r));a.focus()}},e.getCheckboxSelector=function(t,n){return"input:checkbox[data-rownum=".concat(t,"][data-colnum=").concat(n,"][data-type=").concat(e.chbType,"]:visible")},e.getCheckboxCountSelector=function(t,n,r){return"input:checkbox[data-rownum=".concat(t,"][data-colnum=").concat(n,"][data-type=").concat(e.chbType,"][data-count=").concat(r,"]")},e}();t.SkemaUge=n},79561:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SkemaView=void 0;var r=n(69162),o=function(){function e(){}return e.DisplaySkema=function(t,n,r,o,i,a,l){e.timeout&&window.clearTimeout(e.timeout),e.timeout=window.setTimeout((function(){e.DisplaySkemaNow(t,n,r,o,i,a,l)}),e.delay)},e.DisplaySkemaNow=function(t,n,o,i,a,l,s){if(n!==e.lastID){e.lastID=n;var c="AktivitetSkemaInline.aspx?id="+n+"&year="+o+"&datestart="+i+"&timestart="+l+"&dateend="+a+"&timeend="+s+" #skemacontainer";$(t).load(c,(function(){r.LectioCluetips.Initialize()}))}},e.lastID=null,e.timeout=null,e.delay=400,e}();t.SkemaView=o},16055:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Skolehjem=void 0;var a=n(79112),l=n(97136);(t.Skolehjem||(t.Skolehjem={})).InitializeGanttTable=function(e,t,n){function s(){var e=$("input[type=radio][data-role=skh-booking-radio]").toArray().map((function(e){return l.LectioJSUtils.GetAssertedType(e,HTMLInputElement,"radio")})).filter((function(e){return e.checked}));if(0!==e.length){if(e.length>1)throw new Error("mere end een radio?");return e[0].value}}$(e).on("click","gd",(function(e){var t="GD"===e.target.nodeName?e.target:$(e.target).parents("gd").first().get(0);l.LectioJSUtils.AssertArgument("GD"==t.nodeName,"forventede gd-element.");var i=$(t).parents("garlow, gahry").first().get(0);if(l.LectioJSUtils.AssertNotNullOrUndefined(i,"rowele null"),"vrow"===function(){if("gahry"===i.localName)return"headerstuff";if("garlow"===i.localName)return"vrow";throw new Error("ukendt ele")}()){var c=t.getAttribute("data-skh-plads-id"),u=JSON.parse(t.getAttribute("data-skh-book-infos")||"[]"),d=i.firstElementChild.innerText,f=s(),p=[];if(f){var h=JSON.parse(l.LectioJSUtils.GetNotNullValue(i.getAttribute("data-skh-p-info"),"p-info")).map((function(e){var t=r(e.split(/ /),2);return{id:t[0],kode:t[1]}}));p.push.apply(p,o([],r(h.map((function(e){return{caption:"Placér valgt booking i "+d+" "+e.kode,action:function(){console.log("doit",f,e.id,e.kode),n("".concat(f,",").concat(e.id))}}}))),!1))}p.push.apply(p,o([],r(u.map((function(e){return{caption:"Rediger bookning: "+e.Name,url:l.LectioJSUtils.GetBaseSchoolURL()+"/stamdata/skolehjem/booking_rediger.aspx?id="+e.Id}}))),!1)),c&&p.push({caption:"Opret booking i "+d,url:l.LectioJSUtils.GetBaseSchoolURL()+"/stamdata/skolehjem/booking_rediger.aspx?plads_id="+c+"&id=-1"}),p.length&&e.originalEvent&&a.LectioContextMenu.ShowContextMenuEx(e.originalEvent,p)}})),$(document).on("click","input[type=radio][data-role=skh-booking-radio]",(function(n){var o=l.LectioJSUtils.GetAssertedType(n.target,HTMLInputElement,"radio");console.log("radio...",o);var a=l.LectioJSUtils.GetNotNullValue(s());$(e).find("garlow").removeAttr("class"),$(e).find("garlow").removeAttr("data-skh-p-info"),$(e).find("garlow").removeAttr("title"),l.LectioJSUtils.PostCurrentPageApi("GetGanttPladsColors",{bookingId:a,afdelingId:t}).then((function(e){return e.json()})).then((function(t){var n,o,a=0;try{for(var s=i(t),c=s.next();!c.done;c=s.next()){var u=r(c.value,4),d=u[0],f=u[1],p=u[2],h=u[3],m=$(e).find("garlow[data-skh-v-id=".concat(d,"]"));if(0===m.length)throw new Error("Har modtaget vaerelsesinfo for vaerelse med id ".concat(d,", men vaerelset blev ikke fundet i dom-en."));m.attr("class","ls-skh-v-"+f),l.LectioJSUtils.GetAssertedType(m.get(0).firstElementChild,HTMLElement,"htmlelement").title=h,m.attr("data-skh-p-info",JSON.stringify(p)),m.length&&a++}}catch(e){n={error:e}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}console.log("color hit count:",a)})).catch((function(e){console.error("Fejl under hent vaerelsesfarvaer mhp. placeringsguide.",e),setTimeout((function(){throw new Error("Fejl under hent vaerelsesfarvaer mhp. placeringsguide.")}),20)}))}))}},67101:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Spoergeskema=void 0,n(71658);var o=n(97136);!function(e){function t(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}var n=0;function i(){return"i"+ ++n}function a(e,t,n){var r,o,i=!1;for(r=0,o=e.length-1;r<e.length;o=r++)e[r].y>n!=e[o].y>n&&t<(e[o].x-e[r].x)*(n-e[r].y)/(e[o].y-e[r].y)+e[r].x&&(i=!i);return i}function l(e){var t=document.getElementById(e);if(!t)throw new Error("Fandt ikke element med givne id.");return t}function s(e,t){var n=e.getElementsByTagName(t);if(!n||0===n.length)throw new Error("Fandt ikke tag '".concat(t,"'."));if(1!==n.length)throw new Error("Fandt flere tags '".concat(t,"'."));return n[0]}function c(e,t){var n=e.querySelectorAll(t);if(!n||0===n.length)throw new Error("Fandt ikke med selector '".concat(t,"'."));if(1!==n.length)throw new Error("Fandt flere tags med selector '".concat(t,"'."));return n[0]}function u(e,t){e.setAttribute("lec-owner-id",t)}var d="http://www.w3.org/2000/svg";function f(e,t){var n=document.createElementNS(d,"polyline");n.setAttribute("class","ls-questionnaire-hotspot-path"),u(n,t);var r=document.createElementNS(d,"polyline");return r.setAttribute("class","ls-questionnaire-hotspot-pathbg"),u(r,t),e.appendChild(r),e.appendChild(n),{line:n,linebg:r}}function p(e,t,n,r){var o=e.points.map((function(e){return e.x+" "+e.y})).join(",");t.setAttribute("points",o+(r?","+e.points[0].x+" "+e.points[0].y:"")),n.setAttribute("points",o+(r?","+e.points[0].x+" "+e.points[0].y:""))}function h(e,t){var n=e.getBoundingClientRect();return{x:Math.floor(t.clientX-n.left),y:Math.floor(t.clientY-n.top)}}function m(e){e.hidden.value=JSON.stringify(e.hotspots)}function v(e,t,n){o.LectioJSUtils.AssertNotNullOrEmpty(t,"id");var i=e.hotspots.filter((function(e){return e.id===t}));o.LectioJSUtils.AssertArgument(1===i.length,"hslist.length === 1"),e.hotspots.splice(e.hotspots.indexOf(i[0]),1),w(function(e){var t,n,o=[];try{for(var i=r(e.childNodes),a=i.next();!a.done;a=i.next()){var l=a.value;l instanceof Element&&o.push(l)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o}(n).filter((function(e){return(e.getAttribute("lec-owner-id")||"x")===t})))}function g(e){var t=l(e);return{container:t,svg:s(t,"svg")}}function y(e,t){$(e).addClass(t)}function w(e){var t,n;function o(e){e.parentNode&&e.parentNode.removeChild(e)}if(e instanceof Element)o(e);else try{for(var i=r(e),a=i.next();!a.done;a=i.next())o(a.value)}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}function b(e,t){var n,o,a,l,s=g(e);try{for(var c=r(t),u=c.next();!u.done;u=c.next())(m=u.value).id=i()}catch(e){n={error:e}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}try{for(var d=r(t),h=d.next();!h.done;h=d.next()){var m=h.value,v=f(s.svg,m.id);p(m,v.line,v.linebg,!0)}}catch(e){a={error:e}}finally{try{h&&!h.done&&(l=d.return)&&l.call(d)}finally{if(a)throw a.error}}}e.DrawHotspots=b,e.InitializeHotspotAnswering=function(e,n,o){var i,a;function l(e){var t=document.createElementNS(d,"circle");return t.setAttribute("cx",e.x.toString()),t.setAttribute("cy",e.y.toString()),t.setAttribute("r","4"),t.setAttribute("class","ls-questionnaire-hotspot-point"),t.setAttribute("lec-role","point-marker"),t}function s(e,t){for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(r instanceof Element&&"point-marker"===r.getAttribute("lec-role")&&r.getAttribute("cx")===t.x.toString()&&r.getAttribute("cy")===t.y.toString())return r}throw new Error("Fandt ikke svg-element med koordinat "+t.x+", "+t.y+".")}var u,f,p,m,v,S=(f=(u=g(e)).svg,v=(m=(p=c(u.container,"input[type=hidden]")).value)?JSON.parse(m):[],{container:u.container,pointContainer:f.parentNode,pointsHidden:p,svg:f,points:v});function k(){S.pointsHidden.value=JSON.stringify(S.points)}n&&b(e,n);try{for(var x=r(S.points),C=x.next();!C.done;C=x.next()){var E=l(C.value);S.svg.appendChild(E)}}catch(e){i={error:e}}finally{try{C&&!C.done&&(a=x.return)&&a.call(x)}finally{if(i)throw i.error}}function T(e){for(var t=0;t<S.points.length;t++)if(e.x===S.points[t].x&&e.y===S.points[t].y){var n=s(S.svg,S.points[t]);S.points.splice(t,1),w(n);break}}o&&(y(S.pointContainer,"ls-questionnaire-points-editable"),S.pointContainer.addEventListener("click",(function(e){var n,o,i=e.target;if("circle"===i.tagName&&"point-marker"===i.getAttribute("lec-role")){var a={x:parseInt(i.getAttribute("cx")||"-1",10),y:parseInt(i.getAttribute("cy")||"-1",10)};try{for(var s=r(S.points),c=s.next();!c.done;c=s.next()){var u=c.value;if(t(a,u)<1){T(u);break}}}catch(e){n={error:e}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}}else{var d=h(S.svg,e);S.points.push(d);var f=l(d);S.svg.appendChild(f)}k()})),$(S.container).on("execHotspotEditorCommand",(function(e,t){var n,o;if("RemoveAllAnswerPoints"!==t)throw new Error('Ukendt kommando "'+t+'".');try{for(var i=r(S.points.slice(0)),a=i.next();!a.done;a=i.next())T(a.value)}catch(e){n={error:e}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}k()})))},e.InitializeHotspotEditor=function(e){var n,g,b,S,k=function(e){var t=l(e),n=c(t,"input[type=hidden][lec-role=hotspot-json]"),r=s(t,"svg"),o=n.value;return{container:t,hotspotHidden:n,svg:r,hotspots:o?JSON.parse(o):[]}}(e);try{for(var x=r(k.hotspots),C=x.next();!C.done;C=x.next())(L=C.value).id=i()}catch(e){n={error:e}}finally{try{C&&!C.done&&(g=x.return)&&g.call(x)}finally{if(n)throw n.error}}try{for(var E=r(k.hotspots),T=E.next();!T.done;T=E.next()){var L=T.value,_=f(k.svg,L.id);p(L,_.line,_.linebg,!0)}}catch(e){b={error:e}}finally{try{T&&!T.done&&(S=E.return)&&S.call(E)}finally{if(b)throw b.error}}var A={hotspots:k.hotspots,currentlyPainting:null,hidden:k.hotspotHidden};y(k.container,"ls-questionnaire-hotspots-editable"),$(k.container).on("execHotspotEditorCommand",(function(e,n){switch(n){case"DrawPolyline":!function(e,n){if(e.currentlyPainting)e.currentlyPainting.cancel();else{var a=i(),l=f(n,a),s={type:"polyline",points:[],id:a},c=Rx.Observable.fromEvent(n,"click"),g=new Rx.Subject,b=new Rx.Subject;e.currentlyPainting=function(e,t){var n,o;try{for(var i=r(Object.getOwnPropertyNames(t)),a=i.next();!a.done;a=i.next()){var l=a.value;e[l]=t[l]}}catch(e){n={error:e}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return e}(s,{cancel:function(){return b.onNext(void 0)}}),e.hotspots.push(s),b.take(1).subscribe((function(){o.LectioJSUtils.AssertArgument(e.currentlyPainting===s,"cancel: painter.currentlypainter != pol"),o.LectioJSUtils.AssertArgument(e.hotspots[e.hotspots.length-1]===s,"painter.hotspots[painter.hotspots.length - 1] === pol"),g.onNext(void 0),e.currentlyPainting=null,v(e,a,n),m(e)}));var S="ls-questionnaire-hotspot-drawing";y(n,S),g.subscribe((function(){$(n).removeClass("ls-questionnaire-hotspot-drawing")})),c.takeUntil(g).subscribe((function(r){var o=h(n,r);if(!(0!==s.points.length&&t(o,s.points[s.points.length-1])<3)){var i=0===s.points.length,c=!1;if(0!==s.points.length&&t(o,s.points[0])<10){if(s.points.length<=2)return;c=!0,g.onNext(void 0)}else{var f=document.createElementNS(d,"circle");y(f,"ls-questionnaire-hotspot-edgepoint"),i&&y(f,"lc-comb-first"),f.setAttribute("cx",o.x.toString()),f.setAttribute("cy",o.y.toString()),f.setAttribute("r",i?"6":"4"),f.setAttribute("lec-role","hotspot-drawadorner"),u(f,a),n.appendChild(f),s.points.push(o)}p(s,l.line,l.linebg,c),c&&(w(n.querySelectorAll("[lec-owner-id="+a+"][lec-role=hotspot-drawadorner]")),e.currentlyPainting=null,m(e))}}))}}(A,k.svg);break;case"HitTest":l=k.svg,s=k.hotspots,c=0,l.addEventListener("click",(function e(t){if(++c>=5)return l.removeEventListener("click",e),void console.log("hit test: done");for(var n=h(l,t),r=[],o=0;o<s.length;o++)a(s[o].points,n.x,n.y)&&r.push(o);console.log("Polys hit:",r.length)}));break;case"RemoveAllHotspots":!function(e,t){var n,i;e.currentlyPainting&&e.currentlyPainting.cancel(),o.LectioJSUtils.AssertArgument(null===e.currentlyPainting,"painter === null");try{for(var a=r(e.hotspots.slice()),l=a.next();!l.done;l=a.next())v(e,l.value.id,t)}catch(e){n={error:e}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}e.hotspots=[],m(e)}(A,k.svg);break;default:throw new Error('Ukendt kommando "'+n+'".')}var l,s,c}))},e.ExecHotspotCommand=function(e,t){$(e).trigger("execHotspotEditorCommand",[t])}}(t.Spoergeskema||(t.Spoergeskema={}))},80829:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StackTraceHelper=void 0;var r=n(79180),o=n(98987),i=n(73514),a=n(97136),l=function(){function e(){}return e.ParseError=function(e,t,n){var l,s=r.parse(e).map((function(e){var t,n,r,o=e.getFileName();if(o){var i=(r=o.substring(o.lastIndexOf("/")+1)).lastIndexOf("?");-1!==i&&(r=r.substring(0,i)),-1!==(r=r.replace("#","")).lastIndexOf("lectiobundle")&&(r="./scripts/"+r)}else r=null;return{filename:null!=r?r:"umm-dunny",line:null!==(t=e.getLineNumber())&&void 0!==t?t:-666,column:null!==(n=e.getColumnNumber())&&void 0!==n?n:-666}}));l=t?"scripts/lectiobundle.js.map":"scripts/lectiobundle.min.js.map",$.get(a.LectioJSUtils.GetBaseUrl_SpecialCase()+l,(function(e,t,r){if("success"==t){var a=i.fromJSON(e).toObject(),l=o(a).map(s).map((function(e){return e.filename+":"+e.line+":"+e.column})).join("\r\n");n(l)}else n("Fejl: "+t)}))},e.Test=function(){try{this.PrivateFunc()}catch(e){this.ParseError(e,!0,(function(e){return console.log(e)}))}return""},e.PrivateFunc=function(){throw console.log("test"),new Error("en fejl")},e}();t.StackTraceHelper=l},46017:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringUtils=void 0;var n=function(){function e(){}return e.HashCode=function(e){return e.split("").reduce((function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e}),0)},e}();t.StringUtils=n},41855:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.TableColumnCheckAll=void 0;var o=n(35671),i=n(97136),a=function(){function e(){}return e.MarkColumn=function(t,n,r,o){void 0===o&&(o=!1);var i=t.checked;o?$("#"+r+" [name="+n+"] input:checkbox").prop("checked",i):e.CheckboxColumnSetByHeader(i,n)},e.CheckboxColumnSetByHeader=function(e,t){var n,a,l=$("#"+t),s=l.closest("tr"),c=l.closest("table"),u=s.children().index(l),d=new Array(1e3),f=c.get(0),p=-1;try{for(var h=r(o.HtmlUtilities.PretendArray(f.rows)),m=h.next();!m.done;m=h.next()){var v=m.value;p++;for(var g=null,y=0;y<=u;y++){var w=d[y];if(!(w&&p<=w)){var b=g?g.nextElementSibling:v.firstElementChild;if(!(b instanceof HTMLTableCellElement))throw new Error("ikke cell");if(g=b,"TH"===b.nodeName)break;if("TD"!==b.nodeName)throw new Error("ikke td");var S=b.rowSpan;if(d[y]=p+(S-1),!(y<u)){if(y>u)throw new Error("huh, col idx "+u+" blev ikke fundet.");var k=b.querySelectorAll("input[type=checkbox]").map((function(e){return i.LectioJSUtils.GetAssertedType(e,HTMLInputElement,"input")})).filter((function(e){return!e.disabled})).singleOrDefault();k&&(k.checked=e)}}}}}catch(e){n={error:e}}finally{try{m&&!m.done&&(a=h.return)&&a.call(h)}finally{if(n)throw n.error}}},e.ToggleCheckBox=function(e,t){var n=$(e);!0!==n.data("OrgVal")&&!1!==n.data("OrgVal")&&n.data("OrgVal",e.checked);var r=n.parent("td");r.css("background-image",""),e.checked=t,n.data("OrgVal")!=e.checked&&r.css("background","#fffbcc")},e.CheckboxColumnSetById=function(t,n,r){$("input[type=checkbox][id*="+n+"]").filter((function(e,t){return!i.LectioJSUtils.GetAssertedType(t,HTMLInputElement,"input").disabled})).each((function(n,o){if(!(o instanceof HTMLInputElement))throw new Error;r?o.checked!==t&&e.ToggleCheckBox(o,t):o.checked=t}))},e.CheckboxColumnSetByIdAtTable=function(t,n,r,o){$("table#"+n+" input[type=checkbox][id*="+r+"]").filter((function(e,t){return!i.LectioJSUtils.GetAssertedType(t,HTMLInputElement,"input").disabled})).each((function(n,r){if(!(r instanceof HTMLInputElement))throw new Error;o?r.checked!==t&&e.ToggleCheckBox(r,t):r.checked=t}))},e}();t.TableColumnCheckAll=a},89972:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TableScroll=void 0;var n=function(){function e(){}return e.InitializeTableScrolling=function(){$("*[lectio-behavior~=scroll-fix-header]").each((function(){var t,n=this,r=$(this);if("TABLE"===n.nodeName)if(0!==r.find("> thead").length){var o=r.find("> thead > tr > th"),i=r.find("> thead > tr > td");t=o.add(i)}else{var a=0!==r.find("> tbody > tr:eq(0) > th").length,l=r.find("> tbody > tr:eq(0) > "+(a?"th":"td")),s=r.find("> tbody > tr:eq(1) > th");t=l.add(s)}else{if("DIV"!==n.nodeName)throw new Error("Kender ikke elemente til scroll fix.");t=$(n).find("gahry").children()}e.FixRows(t)}))},e.FixRows=function(t){if(0!==t.length){var n=t[0];n.id.search("HoldHeadCell")||"TD"===n.nodeName?e.tableElement=n.parentElement.parentElement.parentElement:e.tableElement=n.parentElement.parentElement;var r=e.tableElement,o=t[0].parentElement.nodeName,i=function(){var e=r.getBoundingClientRect();e.top<0&&e.bottom>0?(t.css("transform","translate(0px, "+Math.floor(-1*e.top)+"px)"),t.closest(o).addClass("fixedTableHeaderRow")):(t.css("transform",""),t.closest(o).removeClass("fixedTableHeaderRow"))};$(window).on("scroll",i),$(i)}},e.FixColumn=function(e){if(0!==e.length){var t=e.first().position().left,n=function(){if(window.pageXOffset>t){var n=window.pageXOffset-t;e.css("transform","translate("+Math.floor(n)+"px, 0px)")}else e.css("transform","")};$(window).on("scroll",n),$(window).on("beforeprint",(function(){e.css("transform","")})),$(window).on("afterprint",(function(){n()}))}},e.FixColumnRight=function(e){if(0!==e.length){var t=1e3,n=function(){e.css("transform","");var n=$.map(e,(function(e){var t=$(e),n=t.position();return Math.ceil(n.left+t.width())}));t=Math.max.apply(null,n)};n();var r=function(r){n();var o=t-window.pageXOffset-document.body.clientWidth;o>0?e.css("transform","translate(-"+Math.floor(o)+"px, 0px)"):e.css("transform","")};$(window).on("scroll",(function(e){return r()})),$(window).on("beforeprint",(function(){e.css("transform","")})),$(window).on("afterprint",(function(e){r()})),$(window).on("resize",(function(e){return r()})),r()}},e.fixedElementRuleCounter=0,e}();t.TableScroll=n},69295:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThumbViewer=void 0,(t.ThumbViewer||(t.ThumbViewer={})).Show=function(e){var t=$("div#thumbctrl_largeimg");0==t.length&&((t=$("<div id='thumbctrl_largeimg' title='Vis mindre foto' class='Photo'></div>")).click((function(e){$(this).remove()})),t.appendTo("body"));var n=e||window.event,r=$(n.target||window.event.srcElement),o=n.clientX+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft),i=n.clientY+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop);t.empty(),t.css("left",o-35-o%35),t.css("top",i-130),t.css("z-index",1e4);var a=r.attr("src"),l=r.attr("src2");null!=l?a=l:a.indexOf("defaultfoto")>-1||a.indexOf("portrait.gif")>-1?a="/lectio/img/defaultfoto_large.jpg":a.match("&fullsize=3")?a=a.replace(/&fullsize=3/,"&fullsize=1"):a.match("&fullsize=1")||(a+="&fullsize=1"),t.attr("imgid",r.attr("id")),t.append("<span><img src='"+a+"'></span>"),t.show(100)}},19158:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimeControl=void 0;var n=function(){function e(){}return e.getTimeFromStr=function(e){for(var t=0,n=540;t<e.length&&-1!=="\t ".indexOf(e.substr(t,1));)t++;for(var r=t;r<e.length&&-1!=="0123456789".indexOf(e.substr(r,1));)r++;if(r>t){var o=e.substr(t,r-t);for(t=r;t<e.length&&-1!=="\t -/_:.,;".indexOf(e.substr(t,1));)t++;for(r=t;r<e.length&&-1!=="0123456789".indexOf(e.substr(r,1));)r++;if(r>t){var i=e.substr(t,r-t);n=60*parseInt(o,10)+parseInt(i,10)}}return n},e.changeTime=function(e,t){e.val(t),e.change(),e.focus(),e.trigger("keyup")},e.buildAndShowTime=function(t,n,r){for(var o=this,i='<select class="ls-timebox" style="z-index:100; overscroll-behavior: contain;" size=\'8\'>',a=0;a<24;a++)i+='<option value="'+a+':00">'+a+':00<option value="'+a+':30">'+a+":30";i+="</select>";var l=(r?$(i).insertAfter(t).show("fast").focus().click():$(i))[0];if(!(l instanceof HTMLSelectElement))throw new Error("se");var s=e.getTimeFromStr(t.val());for(a=0;a<l.options.length;a++)if(e.getTimeFromStr(l.options[a].value)>=s){l.options.selectedIndex=a;break}var c=$(l);if(r){var u=$(n);u.hide(),c.on("blur",(function(){c.remove(),t.show("fast"),u.show("fast")})).on("change",(function(){o.changeTime(t,c.val()),c.remove(),t.show("fast"),u.show("fast")}))}else c.on("blur",(function(){c.remove()})).on("change",(function(){o.changeTime(t,c.val()),c.remove()})).click((function(){o.changeTime(t,c.val()),c.remove()}));r?t.hide("fast"):(c.css("position","absolute").appendTo("body").position({my:"left top",at:"left bottom",of:t}),window.setTimeout((function(){var e=$(":selected",c);l.options.selectedIndex=e.index(),l.focus()}),100))},e}();t.TimeControl=n},46906:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.TocControl=void 0,n(71658);var a=n(49768),l=n(97136);!function(e){var t,n;function s(){return window.visualViewport?window.visualViewport.pageTop:window.pageYOffset}function c(e){var t,n,o,i,a,l=new Array;try{for(var s=r(e),c=s.next();!c.done;c=s.next()){var u=c.value;if(o=u,void 0,void 0,i=document.documentElement,(a=o.getBoundingClientRect())&&a.bottom>=20&&a.right>=0&&a.left<=i.clientWidth&&a.top<=i.clientHeight-20){var d=u.getAttribute("data-to-toc-id");if(!d)throw new Error("Liste er ikke hvad vi forventer.");l.push(d)}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return l}function u(e,t,r){var a;if((a=r).offsetWidth>0||a.offsetHeight>0)if(0!==t.length){var l=d(e,t),s=d(e,i([],o(t),!1).reverse());if(!l||!s){if(1===t.length)return;throw new Error("ikke 2: ".concat(t.join(", ")))}var c=l.offsetTop,u="position: relative;height: "+(function(e){var t=$(e).height();if(!t)throw new Error("hight?");return e.offsetTop+t}(s)-c)+"px;width: 2px;margin: 0;padding: 0;padding-right: 1px;background-image: linear-gradient(to bottom, #60AFFE, #60AFFE 100%, #f7f7f7 100%);top: "+c+"px";u!==n&&(n=u,r.setAttribute("style",u))}else n=void 0;else n=void 0}function d(e,t){var n,o;try{for(var i=r(t),a=i.next();!a.done;a=i.next()){var l=a.value,s=e.querySelector("[data-toc-reference-id^='"+l+"']");if(s){if(s instanceof HTMLElement)return s;throw new Error("wtf ikke hmlelement?")}}}catch(e){n={error:e}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}}e.InitializeTocExpansion=function(e){var t,n,r=document.querySelector(e);if(!r)throw new Error("TOC container findes ikke. Selector: "+e);n="lec-nodoubleinit",!(t=r).getAttribute(n)&&(t.setAttribute(n,"si"),1)&&$(e).on("click","[data-role=toggle-expansion]",(function(e){var t=$(this),n=t.parents(".ls-materialboxToc-section-header").next().find("ul.ls-materialboxToc-foldablelist, div.ls-homework-note");t.is("[data-expansion-action=expand]")?(n.show(300),t.attr("data-expansion-action","collapse")):(n.hide(300),t.attr("data-expansion-action","expand"))}))},e.toggleOpenClose=function(e){var n=$(".ls-tocContainer-outer");n.toggle(),n.addClass("ls-tocContainer-noautotoggle"),$(".toggleTocElementImg").toggleClass("toggleTocElementImgClosed"),t()},e.findInViewPotentielEndPoints=c,e.moveTocReadMarker=u,e.init=function(){var e=$(".ls-tocContainer-outer"),n=matchMedia("(min-width: 768px)"),r=function(){return $(".toggleTocElementImg").toggleClass("toggleTocElementImgClosed",!e.is(":visible"))};function o(e){return s()+e.getBoundingClientRect().top}r(),n.addListener((function(){if(!n.matches){var e=window.visualViewport?window.visualViewport.pageLeft:window.pageXOffset;window.scrollBy(-1*e,0)}r()}));var i,d=$(".ls-tocContainer-inner")[0],f=$(".toolbar")[0],p=o(d),h=o(f),m=function(){var e=window.innerHeight-d.parentElement.getBoundingClientRect().bottom;return e>0?e:0},v=function(){if($(d).is(":visible")){var e=$(f).height();$(d).css("height","calc(100vh - "+Math.floor(e+m())+"px)"),$(d).css("top",Math.floor(e))}};t=v,setTimeout(v,1e3);var g=m();window.addEventListener("scroll",(function(e){var t=m();t!==g&&(g=t,void 0!==i&&(clearTimeout(i),i=void 0),i=requestAnimationFrame((function(){i=void 0,v()})))}),{passive:!0});var y=Array.from(document.querySelectorAll("[data-to-toc-id]"));if(0!==y.length){var w=e[0];if(!w)throw new Error("ingen tc?");var b=w.querySelector("#ReadMarker");b&&(l.LectioJSUtils.AssertType(b,HTMLElement),u(w,c(y),b),window.addEventListener("scroll",(function(){u(w,c(y),b)}),{passive:!0}))}var S=document.querySelector(".ls-tocContainer-inner");function k(){var e=window.location.hash;if(e){if(!e.startsWith("#"))throw new Error("ikke hash?");var t=e.substring(1),n=document.getElementById(t);if(n){var r=function(e){var t=[],n=e;do{var r=window.getComputedStyle(n).overflowY;if(n instanceof HTMLElement&&("scroll"===r||"auto"===r)&&(n.classList.contains("ls-phase-activity")||n.classList.contains("ls-phase-material")||t.push(n)),!n.parentElement)break;n=n.parentElement}while(n);return 0===t.length?document.scrollingElement:t[t.length-1]}(n),o=window.getComputedStyle(n),i=l(o.marginTop),a=0==l(o.paddingTop)?0:i;window.innerHeight+r.scrollTop>=r.scrollHeight||r.scrollBy(0,-100+a)}}function l(e){if(!e.endsWith("px"))throw new Error('ender ikke med "px".');var t=parseFloat(e.slice(0,-2));if(isNaN(t))throw new Error("kan ikke parse float.");return t}}l.LectioJSUtils.GetNotNullValue(S).addEventListener("click",(function(e){l.LectioJSUtils.AssertType(e.target,HTMLElement);var t=e.target.getAttribute("href");if(t&&t.match(/^#/)&&!e.target.matches(".ls-toc-item-buttons *")){e.preventDefault(),e.stopPropagation();var n=t.substring(1),r=document.getElementById(n);if(!r)throw new Error('fandt ikke ele "'+n+'".');window.location.hash==t&&(r.scrollIntoView(),k()),window.location.hash=t}})),window.location.hash&&k(),window.addEventListener("hashchange",(function(e){k()})),a.LectioFeatureDetection.IsIE()&&Rx.Observable.fromEvent(window,"scroll").select((function(){var e=s();return e>=p||e>=h})).distinctUntilChanged().subscribe((function(e){var t,n;t=e,n=$(f).height(),$(d).css("position",t?"fixed":"inherit"),$(d).css("width",t?"280px":""),$(d).css("top",t?n+"px":""),$(f).css("position",t?"fixed":"inherit"),$(f).css("width",t?"280px":""),$(d).css("background-color",t?"inherit":"")}))}}(t.TocControl||(t.TocControl={}))},23847:function(e,t){"use strict";var n=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function o(e,t,i,a,l,s,c,u,d,f){var p=0;if(++d>=f)return[!1,p];if(i===e.length||a===t.length)return[!1,p];for(var h=!1,m=[],v=0,g=!0;i<e.length&&a<t.length;){if(e[i].toLowerCase()===t[a].toLowerCase()){if(u>=c)return[!1,p];g&&l&&(s=r([],n(l),!1),g=!1);var y=[],w=n(o(e,t,i,a+1,s,y,c,u,d,f),2),b=w[0],S=w[1];b&&((!h||S>v)&&(m=r([],n(y),!1),v=S),h=!0),s[u++]=a,++i}++a}var k=i===e.length;if(k){p=100;var x=-5*s[0];p+=x=x<-15?-15:x,p+=-1*(t.length-u);for(var C=0;C<u;C++){var E=s[C];if(C>0&&E==s[C-1]+1&&(p+=15),E>0){var T=t[E-1],L=t[E];T===T.toLowerCase()&&L===L.toUpperCase()&&(p+=30),("_"==T||" "==T)&&(p+=30)}else p+=15}return h&&(!k||v>p)?(s=r([],n(m),!1),[!0,p=v]):k?[!0,p]:[!1,p]}return[!1,p]}Object.defineProperty(t,"__esModule",{value:!0}),t.ftsFuzzyMatchAsync=t.fuzzyMatch=t.fuzzyMatchSimple=void 0,t.fuzzyMatchSimple=function(e,t){for(var n=0,r=0,o=e.length,i=t.length;n!=o&&r!=i;)e.charAt(n).toLowerCase()==t.charAt(r).toLowerCase()&&++n,++r;return 0!=o&&0!=i&&n==o?[!0,0]:[!1,0]},t.fuzzyMatch=function(e,t){return o(e,t,0,0,null,[],256,0,0,10)},t.ftsFuzzyMatchAsync=function(e,t,n,r){var o=[],i=1e3/30,a=0,l=null;function s(){l&&clearTimeout(l),l=null;for(var c=performance.now()+i;a<n.length;++a){if(a%1e3==0&&performance.now()>c)return void(l=setTimeout(s,1));var u=n[a],d=e(t,u);1==d[0]&&o.push(d)}return r(o),null}this.cancel=function(){null!==l&&clearTimeout(l)},this.start=function(){s()},this.flush=function(){i=1/0,s()}}},85964:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(97136),t),o(n(42519),t),o(n(50541),t),o(n(79112),t),o(n(86248),t),o(n(95123),t),o(n(75537),t),o(n(27981),t),o(n(3297),t),o(n(10721),t),o(n(5762),t),o(n(97949),t),o(n(67101),t),o(n(46906),t),o(n(5865),t),o(n(27074),t),o(n(7151),t),o(n(66823),t),o(n(39501),t),o(n(19158),t),o(n(79561),t),o(n(61847),t),o(n(87865),t),o(n(69729),t),o(n(89972),t),o(n(20087),t),o(n(51088),t),o(n(57925),t),o(n(71928),t),o(n(35372),t),o(n(80693),t),o(n(60724),t),o(n(87342),t),o(n(45538),t),o(n(41855),t),o(n(49768),t),o(n(58200),t),o(n(51706),t),o(n(46017),t),o(n(79856),t),o(n(86149),t),o(n(5878),t),o(n(46324),t),o(n(60596),t),o(n(88432),t),o(n(47813),t),o(n(91087),t),o(n(93575),t),o(n(68166),t),o(n(37829),t),o(n(16834),t),o(n(69162),t),o(n(77758),t),o(n(16055),t),o(n(69295),t),o(n(49050),t),o(n(2666),t),o(n(63317),t),o(n(39114),t),o(n(96547),t),o(n(80829),t),o(n(13249),t),o(n(57828),t),o(n(35671),t),o(n(67567),t),o(n(64037),t),o(n(10393),t),o(n(75298),t)},63317:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fdvideo2018_init=void 0;var r,o,i,a=n(85964);function l(){return i}function s(e){var t=e.getVideoData();return{video_id:t.video_id,title:t.title}}function c(e){return Math.floor(100*e)/100}function u(e){var t=l();switch(e.data){case YT.PlayerState.UNSTARTED:console.log("unstarted",t.getCurrentTime());break;case YT.PlayerState.ENDED:console.log("ended",t.getCurrentTime()),d(),r=void 0,o=void 0;break;case YT.PlayerState.PLAYING:console.log("playing",t.getCurrentTime());var n=s(t),i={video_id:n.video_id,title:n.title,time:c(t.getCurrentTime())};if(o&&i.time>=o.time&&i.time<=o.time+2)return;d(),r=i,o=void 0;break;case YT.PlayerState.PAUSED:console.log("paused",t.getCurrentTime());break;case YT.PlayerState.BUFFERING:break;case YT.PlayerState.CUED:console.log("video cued")}}function d(){try{if(r&&o){if(r.video_id!==o.video_id)throw new Error("Forskellig video_id: ".concat(r.video_id," vs ").concat(o.video_id,"."));if(!(o.time>r.time))throw new Error("Sidste progress-tid mindre end start?? ".concat(o.time," vs ").concat(r.time,"."));if(o.time>=r.time&&o.time<=r.time+2)return;!function(e){console.log("sending...",e);var t=a.LectioJSUtils.GetApiPathAndQuerystring("/fdvideo2018.api","SavePlayedVideoInterval",e);if("sendBeacon"in navigator){if(!navigator.sendBeacon(t))throw new Error("navigator.sendBeacon vil ikke sende.")}else{var n=new XMLHttpRequest;n.open("POST",t,!1),n.send(e)}}({video_id:r.video_id,title:r.title,playStartTime:r.time<.05?0:r.time,playStopTime:o.time})}}finally{r=void 0,o=void 0}}t.fdvideo2018_init=function(e){return i=new YT.Player(e,{events:{onStateChange:u,onReady:function(){console.log("player is ready")},onPlaybackQualityChange:function(e){console.log("playback quality changed to "+e.data)},onPlaybackRateChange:function(e){console.log("playback rate changed to "+e.data)},onError:function(e){console.log("An error occurred: "+e.data)},onApiChange:function(){console.log("The player API changed")}}}),window.addEventListener("message",(function(e){if((!e.origin||"https://www.youtube.com"===e.origin)&&r){var t=l(),n=s(t),i={time:c(t.getCurrentTime()),title:n.title,video_id:n.video_id};if(i.video_id===r.video_id){var a=o?o.time:r.time;i.time>a&&i.time<a+1.5&&(o=i)}}})),window.addEventListener("unload",(function(){return d()}),!1),i}}},e=>(e.O(0,[736],(()=>(85964,e(e.s=85964)))),e.O())])));
//# sourceMappingURL=lectio.bundle.js.map